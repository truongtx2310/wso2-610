/*! For license information please see 9869.62442e50.chunk.js.LICENSE.txt */
(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[9869],{10765:(e,t,n)=>{"use strict";n.d(t,{dA:()=>A,Qm:()=>_c,Eg:()=>k.Eg,y7:()=>Uo});var o=n(45688),i=n(17189),a=n(8206),r=n(41671),l=n(13654),s=n(52983),c=n(26221),u=n(69141),d=n(75919),p=n(83739),f=n(92423),m=n(61621),v=n(52371),g=n(19709),h=n(38530),b=n(53756),y=n(17680),E=n(5241);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var A=function(e){var t=e.advancedSearch,n=e.featureConfig,C=e.isLoading,A=e.list,O=e.onApplicationDelete,w=e.onListItemClick,I=e.onEmptyListPlaceholderActionClick,T=e.onSearchQueryClear,R=e.searchQuery,L=e.selection,N=e.showListItemActions,k=e.isSetStrongerAuth,P=e.isRenderedOnPortal,M=e["data-testid"],U=e["data-componentid"],x=(0,c.$)().t,D=(0,u.I0)(),Z=(0,u.v9)((function(e){return e.application.templates})),_=(0,u.v9)((function(e){var t;return null==e||null===(t=e.application)||void 0===t?void 0:t.groupedTemplates})),j=(0,u.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),F=(0,u.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t?void 0:t.ui})),V=(0,u.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.tenantDomain})),q=S((0,s.useState)(!1),2),B=q[0],H=q[1],z=S((0,s.useState)(void 0),2),W=z[0],G=z[1],K=S((0,s.useState)(!1),2),Q=K[0],$=K[1],Y=S((0,s.useState)(!1),2),X=Y[0],J=Y[1],ee=S((0,l.ZK)(),3),te=ee[0],ne=ee[1],oe=ee[2],ie=g.lD.getInstance();(0,s.useEffect)((function(){void 0===Z&&(J(!0),E.e7.getApplicationTemplates().finally((function(){J(!1)})))}),[Z,_]);var ae=function(e,t){k?g.m8.push({pathname:g.$x.getPaths().get("APPLICATION_EDIT").replace(":id",e),search:"?".concat(b.jo.APP_STATE_STRONG_AUTH_PARAM_KEY,"=").concat(b.jo.APP_STATE_STRONG_AUTH_PARAM_VALUE)}):g.m8.push({pathname:g.$x.getPaths().get("APPLICATION_EDIT").replace(":id",e),search:t===y.Ch.READ?"?".concat(b.jo.APP_READ_ONLY_STATE_URL_SEARCH_PARAM_KEY,"=true"):""})},re=function(){return R&&0===(null==A?void 0:A.totalResults)?s.createElement(l.$J,{action:s.createElement(l.Qj,{onClick:T},x("console:develop.placeholders.emptySearchResult.action")),image:(0,g.jF)().emptySearch,imageSize:"tiny",title:x("console:develop.placeholders.emptySearchResult.title"),subtitle:[x("console:develop.placeholders.emptySearchResult.subtitles.0",{query:R}),x("console:develop.placeholders.emptySearchResult.subtitles.1")],"data-testid":"".concat(M,"-empty-search-placeholder-icon")}):0===(null==A?void 0:A.totalResults)?s.createElement(l.$J,{className:P?"":"list-placeholder",action:I&&s.createElement(o.di,{when:o.TA.APPLICATION_WRITE},s.createElement(l.KM,{onClick:function(){ie.publish(U+"-click-new-application-button"),I()}},s.createElement(f.Z,{name:"add"}),x("console:develop.features.applications.placeholders.emptyList.action"))),image:(0,g.jF)().newList,imageSize:"tiny",subtitle:[x("console:develop.features.applications.placeholders.emptyList.subtitles.0")],"data-testid":"".concat(M,"-empty-placeholder")}):null};return s.createElement(s.Fragment,null,s.createElement(l.wQ,{className:"applications-table",externalSearch:t,isLoading:C||X,actions:!k&&function(){if(N)return[{"data-testid":"".concat(M,"-item-edit-button"),hidden:function(){return!(0,i.cr)(null==n?void 0:n.applications,b.jo.FEATURE_DICTIONARY.get("APPLICATION_EDIT"))},icon:function(e){var t,o;return(null==e?void 0:e.access)!==y.Ch.READ&&(0,i.Xr)(null==n?void 0:n.applications,null==n||null===(t=n.applications)||void 0===t||null===(o=t.scopes)||void 0===o?void 0:o.update,j)?"pencil alternate":"eye"},onClick:function(e,t){return ae(t.id,t.access)},popupText:function(e){var t,o;return(null==e?void 0:e.access)!==y.Ch.READ&&(0,i.Xr)(null==n?void 0:n.applications,null==n||null===(t=n.applications)||void 0===t||null===(o=t.scopes)||void 0===o?void 0:o.update,j)?x("common:edit"):x("common:view")},renderer:"semantic-icon"},{"data-testid":"".concat(M,"-item-delete-button"),hidden:function(e){var t,o,a,r=!(0,i.Xr)(null==n?void 0:n.applications,null==n||null===(t=n.applications)||void 0===t||null===(o=t.scopes)||void 0===o?void 0:o.delete,j),l=V===g.$x.getSuperTenant()&&F.systemAppsIdentifiers.includes(null==e?void 0:e.name),s=(null===(a=e.advancedConfigurations)||void 0===a?void 0:a.fragment)||!1;return r||l||(null==e?void 0:e.access)===y.Ch.READ||!m.applicationConfig.editApplication.showDeleteButton(e)||s},icon:function(){return"trash alternate"},onClick:function(e,t){H(!0),G(t)},popupText:function(){return x("common:delete")},renderer:"semantic-icon"}]}(),columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){var t,n="";if(new Set([b.jo.CUSTOM_APPLICATION_SAML,b.jo.CUSTOM_APPLICATION_OIDC,b.jo.CUSTOM_APPLICATION_PASSIVE_STS]).has(e.templateId))n=Z&&Z instanceof Array&&Z.length>0&&Z.find((function(e){return e.id===b.jo.CUSTOM_APPLICATION})).name;else{var o=Z&&Z instanceof Array&&Z.length>0&&Z.find((function(t){return t.id===e.templateId}));if(null!=o&&o.templateGroup){var i=o.templateGroup;n=_&&_ instanceof Array&&_.length>0&&_.find((function(e){return e.id===i||e.templateGroup===i})).name}else{var a;n=Z&&Z instanceof Array&&(null==Z?void 0:Z.length)>0&&(null===(a=Z.find((function(t){return(null==t?void 0:t.id)===(null==e?void 0:e.templateId)})))||void 0===a?void 0:a.name)}}return s.createElement(d.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(M,"-item-heading")},e.image?s.createElement(l.JT,{size:"mini",name:e.name,image:e.image,spaced:"right","data-testid":"".concat(M,"-item-image")}):s.createElement(l.JT,{image:s.createElement(l.Xo,{name:e.name,size:"mini","data-testid":"".concat(M,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(M,"-item-image")}),s.createElement(d.Z.Content,null,e.name,(null===(t=e.advancedConfigurations)||void 0===t?void 0:t.fragment)&&s.createElement(p.Z,{size:"mini"},x("console:develop.features.applications.list.labels.fragment")),s.createElement("div",null,n&&s.createElement(p.Z,{className:"no-margin-left",size:"mini"},n))))},title:x("console:develop.features.applications.list.columns.name")},{allowToggleVisibility:!1,dataIndex:"inboundKey",id:"inboundKey",key:"inboundKey",render:function(e){var t,n="",o="";return e.clientId?(n=e.clientId,t=y.B8.CLIENTID,o="client-id-label"):e.issuer&&(n=e.issuer,t=y.B8.ISSUER,o="issuer-label"),s.createElement(d.Z,{as:"h6","data-testid":"".concat(M,"-col-2-item-heading")},s.createElement(d.Z.Content,null,s.createElement(d.Z.Subheader,{"data-testid":"".concat(M,"-col-2-item-sub-heading")},n,t&&s.createElement(p.Z,{pointing:"left",size:"mini",className:o},t))))},title:x("console:develop.features.applications.list.columns.inboundKey")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:x("console:develop.features.applications.list.columns.actions")}],data:null==A?void 0:A.applications,onRowClick:function(e,t){ae(t.id,t.access),w&&w(e,t)},placeholders:re(),selectable:L,showHeader:v.applicationListConfig.enableTableHeaders,transparent:!(C||X)&&null!==re(),"data-testid":M}),W&&s.createElement(l.cV,{primaryActionLoading:Q,onClose:function(){return H(!1)},type:"negative",open:B,assertionHint:x("console:develop.features.applications.confirmations.deleteApplication.assertionHint"),assertionType:"checkbox",primaryAction:x("common:confirm"),secondaryAction:x("common:cancel"),onSecondaryActionClick:function(){H(!1),ne(null)},onPrimaryActionClick:function(){return e=W.id,$(!0),void(0,h.rw)(e).then((function(){D((0,r.V_)({description:x("console:develop.features.applications.notifications.deleteApplication.success.description"),level:a.QU.SUCCESS,message:x("console:develop.features.applications.notifications.deleteApplication.success.message")})),H(!1),O()})).catch((function(e){e.response&&e.response.data&&e.response.data.description?D(ne({description:e.response.data.description,level:a.QU.ERROR,message:x("console:develop.features.applications.notifications.deleteApplication.error.message")})):D(ne({description:x("console:develop.features.applications.notifications.deleteApplication.genericError.description"),level:a.QU.ERROR,message:x("console:develop.features.applications.notifications.deleteApplication.genericError.message")}))})).finally((function(){$(!1)}));var e},"data-testid":"".concat(M,"-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(M,"-delete-confirmation-modal-header")},x("console:develop.features.applications.confirmations.deleteApplication.header")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(M,"-delete-confirmation-modal-message")},x("console:develop.features.applications.confirmations.deleteApplication.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(M,"-delete-confirmation-modal-content")},s.createElement("div",{className:"modal-alert-wrapper"}," ",te&&oe),x("console:develop.features.applications.confirmations.deleteApplication.content"))))};A.defaultProps={"data-componentid":"application","data-testid":"application-list",selection:!0,showListItemActions:!0};var O=n(76004),w=n.n(O),I=n(56024),T=n(67127),R=n(76270),L=n(89584),N=n(30762),k=n(42706),P=n(5043),M=n(80254),U=n(12641),x=n(45449),D=n(6069),Z=n(76460),_=n(82954),j=n(37376),F=n(7535);function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},V.apply(this,arguments)}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var H=function(e){var t=e.claimURI,n=e.displayName,o=e.localClaimDisplayName,i=e.localDialect,a=e.updateMapping,r=e.addToMapping,u=e.selectMandatory,d=e.selectRequested,p=e.isDefaultMappingChanged,m=e.mapping,v=e.initialMandatory,g=e.initialRequested,h=e.claimMappingOn,b=e.claimMappingError,y=e.readOnly,E=e.deleteAttribute,S=e.subject,C=e.label,A=e.isOIDCMapping,O=e.duplicatedMappingValues,w=e["data-testid"],I=(0,c.$)().t,R=q((0,s.useState)(!1),2),L=R[0],N=R[1],k=q((0,s.useState)(!1),2),P=k[0],M=k[1],U=q((0,s.useState)(!1),2),_=U[0],j=U[1],F=q((0,s.useState)(!0),2),B=F[0],H=F[1],z=q((0,s.useState)(t),2),W=z[0],G=z[1],K=q((0,s.useState)(W),1)[0],Q="http://wso2.org/claims";return(0,s.useEffect)((function(){j(v)}),[v]),(0,s.useEffect)((function(){H(g)}),[g]),(0,s.useEffect)((function(){(0,T.Z)(null==m?void 0:m.applicationClaim)&&(0,T.Z)(m)&&M(b)}),[b]),(0,s.useEffect)((function(){N(h),G(t),m&&(r(t,h),null!=m&&m.applicationClaim?(G(null==m?void 0:m.applicationClaim),a(t,null==m?void 0:m.applicationClaim),p(!0)):a(t,K))}),[h]),s.createElement(x.Z.Row,{"data-testid":w},!i&&s.createElement(x.Z.Cell,null),s.createElement(x.Z.Cell,null,s.createElement("div",null,i?n:o),A?s.createElement(l.kW,{warning:!0,popup:!0},I("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.listItem.faultyAttributeMappingHint")):"",s.createElement(l.GI,{content:A&&t.startsWith(Q)?I("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.listItem.faultyAttributeMapping"):t,inverted:!0,trigger:i?s.createElement(l.EK,{compact:!0,withBackground:!1},A&&t.startsWith(Q)?I("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.listItem.faultyAttributeMapping"):t):s.createElement(l.EK,null,A&&t.startsWith(Q)?I("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.listItem.faultyAttributeMapping"):t),position:"bottom left"}),s.createElement(l.kW,{warning:!0,hidden:!C},C)),i&&L&&s.createElement(s.Fragment,null,s.createElement(x.Z.Cell,{error:P},s.createElement(D.Z,{placeholder:I("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.listItem.fields.claim.placeholder",{name:n}),value:L?W:K,onChange:!y&&function(e){var n,o=null===(n=e.target)||void 0===n?void 0:n.value.replace(/[^\w+$:/.]/g,"");G(o),a(t,o,!0),M((0,T.Z)(o)),b&&!(0,T.Z)(o)&&M(!1),p(!0)},disabled:!L,readOnly:y,required:!0,error:P||O.includes(W)||O.includes(K)}))),!i&&s.createElement(x.Z.Cell,V({},i&&!L&&{textAlign:"center"},i&&L&&{textAlign:"center"},!i&&{textAlign:"center"}),s.createElement(Z.Z,{checked:g||B||S,onClick:!y&&function(){i||(B?(d(t,!1),H(!1),u(t,!1),j(!1)):(H(!0),d(t,!0)))},disabled:!!L&&!_,readOnly:S||y||A})),s.createElement(x.Z.Cell,V({},i&&!L&&{textAlign:"center"},i&&L&&{textAlign:"center"},!i&&{textAlign:"center"}),s.createElement(Z.Z,{checked:v||_||S,onClick:!y&&function(){i?_?(u(t,!1),j(!1)):(j(!0),u(t,!0)):_?(u(t,!1),j(!1)):(j(!0),u(t,!0),H(!0),d(t,!0))},disabled:!!L&&!B,readOnly:S||y||A})),y&&!A||!E?null:s.createElement(x.Z.Cell,{textAlign:"right"},s.createElement(l.GI,{trigger:s.createElement(f.Z,{link:!0,className:"list-icon pr-4",size:"large",color:"grey",name:"trash alternate",onClick:E}),position:"top right",content:I("common:remove"),inverted:!0})))},z=n(39073);function W(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||K(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||K(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var $=function(e){var t=e.selectedClaims,n=e.showAddModal,o=e.setShowAddModal,i=e.availableClaims,a=e.setAvailableClaims,r=e.setInitialSelectedClaims,u=e.updateMappings,d=e["data-testid"],p=(0,c.$)().t,f=G((0,s.useState)([]),2),m=f[0],v=f[1],g=G((0,s.useState)([]),2),h=g[0],b=g[1],y=G((0,s.useState)([]),2),E=y[0],S=y[1],C=G((0,s.useState)(!1),2),A=C[0],O=C[1];(0,s.useEffect)((function(){b(A?E:[])}),[A]),(0,s.useEffect)((function(){if(n){if(t.length>0){var e=(0,P.Z)((0,M.Z)(t,i),"displayName");v(e),S(e)}else{var o=(0,P.Z)(i,"displayName");v(o),S(o)}b(t)}else v([]),S([]),b([])}),[n]);return s.createElement(z.Z,{open:n,size:"large",className:"user-roles attribute-modal","data-testid":d},s.createElement(z.Z.Header,null,p("console:develop.features.applications.edit.sections.attributes.selection.addWizard.header"),s.createElement(l.X6,{subHeading:!0,ellipsis:!0,as:"h6"},p("console:develop.features.applications.edit.sections.attributes.selection.addWizard.subHeading"))),s.createElement(z.Z.Content,{image:!0},s.createElement(l.IX,{selectionComponent:!0,searchPlaceholder:p("console:develop.features.applications.edit.sections.attributes.selection.addWizard.steps.select.transfer.searchPlaceholders.attribute"),handleHeaderCheckboxChange:function(){O(!A)},isHeaderCheckboxChecked:A,handleUnelectedListSearch:function(e){var n=e.target.value;if(n.length>0){var o=m.filter((function(e){return-1!==e.displayName.toLowerCase().indexOf(n.toLowerCase())})),a=m.filter((function(e){return-1!==e.claimURI.toLowerCase().indexOf(n.toLowerCase())}));S((0,P.Z)((0,M.Z)(o,a),"displayName"))}else t.length>0?S((0,P.Z)((0,M.Z)(t,i),"displayName")):S((0,P.Z)(m,"displayName"))},"data-testid":"".concat(d,"-transfer-component")},s.createElement(l.Jv,{selectionComponent:!0,isListEmpty:!(E.length>0),listType:"unselected","data-testid":"".concat(d,"-unselected-transfer-list"),emptyPlaceholderDefaultContent:p("console:manage.features.transferList.list.emptyPlaceholders.default")},null==E?void 0:E.map((function(e,t){return s.createElement(l.qT,{handleItemChange:function(){return function(e){var t=W(h);null!=t&&t.includes(e)?(t.splice(t.indexOf(e),1),b(t)):(e.requested=!0,t.push(e),b(t))}(e)},key:e.claimURI,listItem:e.displayName,listItemId:e.id,listItemIndex:e.claimURI,isItemChecked:h.includes(e),showSecondaryActions:!1,showListSubItem:!0,listSubItem:s.createElement(l.EK,{compact:!0,withBackground:!1},e.claimURI),"data-testid":"".concat(d,"-unselected-transfer-list-item-").concat(t)})}))))),s.createElement(z.Z.Actions,null,s.createElement(l.Qj,{onClick:function(){o(!1)},"data-testid":"".concat(d,"-cancel-button")},p("common:cancel")),s.createElement(l.KM,{onClick:function(){var e=W(h),n=t.filter((function(t){return!(null!=e&&e.includes(t))})),i=e.filter((function(e){return!(null!=t&&t.includes(e))}));u(i,n),r(e),a(W(m)),o(!1)},"data-testid":"".concat(d,"-save-button")},p("common:save"))))};$.defaultProps={"data-testid":"application-attribute-selection-wizard"};var Y=n(62164);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||oe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||oe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var ae=function(e){var t=e.claims,n=e.setClaims,o=e.externalClaims,i=e.selectedClaims,a=e.setExternalClaims,r=e.selectedExternalClaims,d=e.setSelectedClaims,p=e.setSelectedExternalClaims,v=e.selectedDialect,h=e.selectedSubjectValue,b=e.setClaimMapping,y=e.createMapping,E=e.removeMapping,S=e.getCurrentMapping,C=e.updateClaimMapping,A=e.addToClaimMapping,O=e.claimConfigurations,w=e.claimMappingOn,I=e.defaultSubjectAttribute,T=e.showClaimMappingRevertConfirmation,R=e.setClaimMappingOn,L=e.claimMappingError,k=e.readOnly,V=e.updateMappings,q=e.isUserAttributesLoading,B=e.setUserAttributesLoading,z=e.onlyOIDCConfigured,W=e.duplicatedMappingValues,G=e["data-testid"],K=(0,c.$)().t,Q=(0,l.fQ)().getLink,X=ne((0,s.useState)([]),2),ee=X[0],oe=X[1],ie=ne((0,s.useState)([]),2),ae=ie[0],re=ie[1],le=ne((0,s.useState)(!1),2),se=le[0],ce=le[1],ue=ne((0,s.useState)([]),2),de=ue[0],pe=ue[1],fe=ne((0,s.useState)([]),2),me=fe[0],ve=fe[1],ge=ne((0,s.useState)(!1),2),he=ge[0],be=ge[1],ye=ne((0,s.useState)(!1),2),Ee=ye[0],Se=ye[1],Ce=ne((0,s.useState)(!1),2),Ae=Ce[0],Oe=Ce[1],we=ne((0,s.useState)(),2),Ie=we[0],Te=we[1],Re=(0,s.useRef)(!1),Le=g.lD.getInstance(),Ne=(0,u.v9)((function(e){return e.config})),ke=ne((0,s.useState)(o),1)[0];(0,s.useEffect)((function(){var e,t=te(me);null==O||null===(e=O.claimMappings)||void 0===e||e.map((function(e){if(!me.find((function(t){return(null==t?void 0:t.mappedLocalClaimURI)===e.localClaim.uri}))){var n=ae.find((function(t){return(null==t?void 0:t.mappedLocalClaimURI)===e.localClaim.uri}));n&&t.push(n)}})),p(t),ve(t)}),[O]),(0,s.useEffect)((function(){he&&O&&(v.localDialect&&(ee.length>0||i.length>0)&&B(!1),!v.localDialect&&(ae.length>0||r.length>0)&&B(!1))}),[ee,ae,O,he]);var Pe=function(e,t){if(v.localDialect){var n=te(i);n.forEach((function(n){n.claimURI===e&&(n.mandatory=t)})),d(n)}else{var o=te(r);o.forEach((function(n){n.claimURI===e&&(n.mandatory=t)})),p(o)}},Me=function(e,t){if(v.localDialect){var n=te(i);n.forEach((function(n){n.claimURI===e&&(n.requested=t)})),d(n)}},Ue=function(){var e,t=[];"CUSTOM"===(null==O?void 0:O.dialect)?null===(e=O.claimMappings)||void 0===e||e.map((function(e){t.push(e.localClaim.uri)})):"LOCAL"===(null==O?void 0:O.dialect)&&O.requestedClaims.map((function(e){t.push(e.claim.uri)}));return t},xe=function(e){var t;if("CUSTOM"===O.dialect){var n,o=null===(n=O.claimMappings.find((function(t){var n;return(null==t||null===(n=t.localClaim)||void 0===n?void 0:n.uri)===e})))||void 0===n?void 0:n.applicationClaim;if(o){var i=O.requestedClaims.find((function(e){var t;return(null==e||null===(t=e.claim)||void 0===t?void 0:t.uri)===o}));if(i)return i.mandatory}}return null===(t=O.requestedClaims.find((function(t){var n;return(null==t||null===(n=t.claim)||void 0===n?void 0:n.uri)===e})))||void 0===t?void 0:t.mandatory},De=function(e){if("CUSTOM"===O.dialect){var t,n=null===(t=O.claimMappings.find((function(t){var n;return(null==t||null===(n=t.localClaim)||void 0===n?void 0:n.uri)===e})))||void 0===t?void 0:t.applicationClaim;return!!(n?O.requestedClaims.find((function(e){var t;return(null==e||null===(t=e.claim)||void 0===t?void 0:t.uri)===n})):O.requestedClaims.find((function(t){var n;return(null==t||null===(n=t.claim)||void 0===n?void 0:n.uri)===e})))}return!0},Ze=function(){var e,t,n;return(null==O||null===(e=O.subject)||void 0===e||null===(t=e.claim)||void 0===t?void 0:t.uri)===I&&(null===(n=O.requestedClaims)||void 0===n?void 0:n.findIndex((function(e){var t;return(null==e||null===(t=e.claim)||void 0===t?void 0:t.uri)===I})))<0},_e=function(){Le.publish("application-user-attribute-click-add"),Se(!0)};(0,s.useEffect)((function(){t&&oe(te(m.applicationConfig.attributeSettings.attributeSelection.getClaims(t))),o&&re(te(m.applicationConfig.attributeSettings.attributeSelection.getExternalClaims(o)))}),[t,o]),(0,s.useEffect)((function(){i&&pe(te(i)),r&&ve(te(r))}),[i,r]),(0,s.useEffect)((function(){Re.current||(be(!1),function(){if(B(!0),v.localDialect){var e=Ue(),i=[],r=[];if(m.applicationConfig.attributeSettings.attributeSelection.getClaims(t).map((function(t){if(!e.includes(t.claimURI)||t.claimURI===I&&Ze())r.push(t);else{var n=J(J({},t),{},{mandatory:xe(t.claimURI),requested:De(t.claimURI)});i.push(n)}})),d(i),n(r),oe(r),"CUSTOM"===(null==O?void 0:O.dialect)){var l=[];O.claimMappings.map((function(e){if(e&&e.localClaim&&(e.localClaim.uri!==I||!Ze())){var t={addMapping:!0,applicationClaim:e.applicationClaim,localClaim:{displayName:e.localClaim.displayName,id:e.localClaim.id,uri:e.localClaim.uri}};l.push(t)}})),b(l)}else{var s=[];i.map((function(e){var t={addMapping:!1,applicationClaim:"",localClaim:{displayName:e.displayName,id:e.id,uri:e.claimURI}};s.push(t)})),b(s)}be(!0)}else{var c,u=Ue(),f=[],g=[];m.applicationConfig.attributeSettings.attributeSelection.getExternalClaims(o).map((function(e){if(u.includes(e.mappedLocalClaimURI)){var t=J(J({},e),{},{mandatory:xe(e.mappedLocalClaimURI),requested:!0});f.push(t)}else g.push(e)}));var h=te(me);null==O||null===(c=O.claimMappings)||void 0===c||c.map((function(e){null==t||t.map((function(t){if(e.localClaim.uri===t.claimURI){var n={claimDialectURI:t.dialectURI,claimURI:t.claimURI,id:t.id,localClaimDisplayName:t.displayName,mandatory:t.mandatory,mappedLocalClaimURI:e.localClaim.uri,requested:t.requested};f.find((function(t){return(null==t?void 0:t.mappedLocalClaimURI)===e.localClaim.uri}))||f.push(n)}}))})),ve(h),p(f),a(g),re(g),be(!0)}}(),Re.current=!0)}),[O]);var je,Fe,Ve=function(e){if(v.localDialect){var l=i.find((function(t){return t.claimURI===e}));d(i.filter((function(t){return t.claimURI!==e}))),t.find((function(t){return t.claimURI===e}))||n([l].concat(te(t))),w&&E(e)}else{var s=r.find((function(t){return t.mappedLocalClaimURI===e}));p(r.filter((function(t){return t.mappedLocalClaimURI!==e}))),ve(me.filter((function(t){return t.mappedLocalClaimURI!==e})));var c=o.find((function(t){return t.mappedLocalClaimURI===e}));c||a([s].concat(te(o)))}},qe=function(e){Te(e),h===Be(e)&&I!==e?Oe(!0):Ve(e)},Be=function(e){if(w){var t=S(e);return void 0!==t?t.applicationClaim:e}return e},He=function(e){var t=!1;return null==ke||ke.map((function(n){n.mappedLocalClaimURI!==e.mappedLocalClaimURI&&e.mappedLocalClaimURI!==I||(t=!0)})),t};return!q&&O&&he?s.createElement(s.Fragment,null,s.createElement(N.Z.Row,{"data-testid":G},s.createElement(N.Z.Column,{computer:16,tablet:16,largeScreen:12,widescreen:12},s.createElement(l.X6,{as:"h4"},K("console:develop.features.applications.edit.sections.attributes.selection.heading")),s.createElement(l.X6,{as:"h6",color:"grey"},K("console:develop.features.applications.edit.sections.attributes.selection.description"),(Fe=void 0,Fe=v.localDialect?Q("develop.applications.editApplication.samlApplication.attributes.learnMore"):Q("develop.applications.editApplication.oidcApplication.attributes.learnMore"),s.createElement(l.eb,{link:Fe},K("common:learnMore")))),i.length>0||r.length>0?s.createElement(s.Fragment,null,s.createElement(N.Z.Row,{className:"user-role-edit-header-segment clearing attributes"},s.createElement(x.Z,{"data-testid":"".concat(G,"-action-bar"),basic:"very",compact:!0},s.createElement(x.Z.Body,null,s.createElement(x.Z.Row,null,s.createElement(x.Z.Cell,{collapsing:!0,width:"6"},s.createElement(D.Z,{icon:s.createElement(f.Z,{name:"search"}),iconPosition:"left",onChange:function(e){var t=e.target.value;t.length>0?function(e){if(v.localDialect){var t=i.filter((function(t){return-1!==t.displayName.toLowerCase().indexOf(e.toLowerCase())})),n=i.filter((function(t){return-1!==t.claimURI.toLowerCase().indexOf(e.toLowerCase())}));pe((0,P.Z)((0,M.Z)(t,n),"displayName"))}else{var o=r.filter((function(t){return-1!==t.localClaimDisplayName.toLowerCase().indexOf(e.toLowerCase())})),a=r.filter((function(t){return-1!==t.claimURI.toLowerCase().indexOf(e.toLowerCase())}));ve((0,P.Z)((0,M.Z)(o,a),"localClaimDisplayName"))}}(t):v.localDialect?pe(i):ve(r)},placeholder:K("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.searchPlaceholder"),floated:"left",size:"small","data-testid":"".concat(G,"-search")})),v.localDialect&&s.createElement(x.Z.Cell,{textAlign:"right"},s.createElement(Z.Z,{slider:!0,checked:w,onChange:function(){w?se?T(!0):R(!1):R(!0)},label:K("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.actions.enable"),readOnly:k,"data-testid":"".concat(G,"-cliam-mapping-toggle")})),!k&&s.createElement(x.Z.Cell,{textAlign:"right"},s.createElement(_.Z,{size:"medium",icon:"pencil",floated:"right",onClick:_e,"data-testid":"".concat(G,"-update-button")})))))),W.length>0&&s.createElement(l.v0,{type:"error",content:K("console:develop.features.applications.notifications.updateClaimConfig.error.description")}),s.createElement(j.Z,{className:"user-role-edit-header-segment attributes"},s.createElement(N.Z.Row,null,v.localDialect?s.createElement(x.Z,{singleLine:!0,compact:!0,"data-testid":"".concat(G,"-list"),fixed:!0},s.createElement(x.Z.Header,null,w?s.createElement(x.Z.Row,null,s.createElement(x.Z.HeaderCell,{width:"8"},s.createElement("strong",null,K("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.attribute"))),s.createElement(x.Z.HeaderCell,{width:"8"},s.createElement("strong",null,K("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.appAttribute")),s.createElement(l.kW,{icon:"info circle",popup:!0},K("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.mappedAtributeHint"))),s.createElement(x.Z.HeaderCell,{width:"4",textAlign:"center"},s.createElement("strong",null,K("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.mandatory")),s.createElement(l.kW,{icon:"info circle",popup:!0},K("console:develop.features.applications.edit.sections.attributes.selection.mandatoryAttributeHint",{productName:Ne.ui.productName}))),s.createElement(x.Z.HeaderCell,{width:"2"})):s.createElement(x.Z.Row,null,s.createElement(x.Z.HeaderCell,{width:"10"},s.createElement("strong",null,K("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.attribute"))),s.createElement(x.Z.HeaderCell,{width:"8",textAlign:"center"},s.createElement("strong",null,K("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.mandatory")),s.createElement(l.kW,{icon:"info circle",popup:!0},K("console:develop.features.applications.edit.sections.attributes.selection.mandatoryAttributeHint",{productName:Ne.ui.productName}))),s.createElement(x.Z.HeaderCell,{width:"2"}))),s.createElement(x.Z.Body,null,null==de?void 0:de.map((function(e){return s.createElement(H,{key:e.id,claimURI:e.claimURI,displayName:e.displayName,mappedURI:e.claimURI,localDialect:v.localDialect,updateMapping:C,addToMapping:A,mapping:S(e.claimURI),isDefaultMappingChanged:ce,initialMandatory:h===Be(e.claimURI)||e.mandatory,initialRequested:e.requested,selectMandatory:Pe,selectRequested:Me,claimMappingOn:w,claimMappingError:L,readOnly:k,subject:h===Be(e.claimURI),deleteAttribute:function(){qe(e.claimURI)},duplicatedMappingValues:W,"data-testid":e.claimURI})})))):s.createElement(x.Z,{singleLine:!0,compact:!0,"data-testid":"".concat(G,"-list"),fixed:!0},s.createElement(x.Z.Header,null,s.createElement(x.Z.Row,null,s.createElement(x.Z.HeaderCell,{width:"10"},s.createElement("strong",null,K("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.attribute"))),s.createElement(x.Z.HeaderCell,{textAlign:"center",width:"8"},s.createElement("strong",null,K("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.mandatory")),s.createElement(l.kW,{icon:"info circle",popup:!0},K("console:develop.features.applications.edit.sections.attributes.selection.mandatoryAttributeHint",{productName:Ne.ui.productName}))),s.createElement(x.Z.HeaderCell,{width:"2"}))),s.createElement(x.Z.Body,null,null==me?void 0:me.map((function(e){return s.createElement(H,{key:e.id,claimURI:e.claimURI,displayName:e.claimURI,mappedURI:e.mappedLocalClaimURI,localDialect:v.localDialect,initialMandatory:h===e.mappedLocalClaimURI&&!z||e.mandatory,selectMandatory:Pe,initialRequested:e.requested,"data-testid":e.claimURI,readOnly:h===e.mappedLocalClaimURI&&!z||!He(e)||k,localClaimDisplayName:e.localClaimDisplayName,deleteAttribute:function(){return qe(e.mappedLocalClaimURI)},subject:h===e.mappedLocalClaimURI&&!z,isOIDCMapping:!He(e)})}))))))):s.createElement(j.Z,null,s.createElement(l.$J,{title:m.applicationConfig.attributeSettings.attributeSelection.showAttributePlaceholderTitle&&K("console:develop.features.applications.placeholders.emptyAttributesList.title"),subtitle:[K("console:develop.features.applications.placeholders.emptyAttributesList.subtitles")],action:!k&&s.createElement(l.KM,{basic:!0,onClick:_e},s.createElement(f.Z,{name:"plus"}),K("console:develop.features.applications.placeholders.emptyAttributesList.action")),image:(0,g.jF)().emptyList,imageSize:"tiny","data-testid":"".concat(G,"-empty-placeholder")})),!k&&m.applicationConfig.attributeSettings.attributeSelection.showShareAttributesHint(v)?s.createElement(l.kW,null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.edit.sections.attributes.selection.attributeComponentHint"},"Manage the user attributes you want to share with this application via",s.createElement(l.rU,{external:!1,onClick:function(){g.m8.push(g.$x.getPaths().get("OIDC_SCOPES"))}}," OpenID Connect Scopes."),"You can map additional attributes under",s.createElement(l.rU,{external:!1,onClick:function(){g.m8.push(g.$x.getPaths().get("ATTRIBUTE_MAPPINGS").replace(":type",Y.Q.OIDC))}}," Attribute."))):s.createElement(l.kW,null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.edit.sections.attributes.selection.attributeComponentHintAlt"},"Manage the user attributes you want to share with this application. You can add new attributes and mappings by navigating to",s.createElement(l.rU,{external:!1,onClick:function(){g.m8.push(g.$x.getPaths().get("LOCAL_CLAIMS"))}}," Attribute."))))),v.localDialect?s.createElement($,{selectedClaims:i,setSelectedClaims:pe,setInitialSelectedClaims:d,showAddModal:Ee,setShowAddModal:Se,availableClaims:m.applicationConfig.attributeSettings.attributeSelection.getClaims(t),setAvailableClaims:n,createMapping:y,removeMapping:E,updateMappings:V,"data-testid":"".concat(G,"-wizard")}):s.createElement(F.K,{selectedExternalClaims:r,setSelectedExternalClaims:ve,setInitialSelectedExternalClaims:p,showAddModal:Ee,setShowAddModal:Se,availableExternalClaims:m.applicationConfig.attributeSettings.attributeSelection.getExternalClaims(o),setAvailableExternalClaims:a,"data-testid":"".concat(G,"-wizard-other-dialects")}),(je=t.find((function(e){return e.claimURI===I})),s.createElement(l.cV,{onClose:function(){return Oe(!1)},type:"negative",open:Ae,primaryAction:K("common:confirm"),secondaryAction:K("common:cancel"),onSecondaryActionClick:function(){Oe(!1)},onPrimaryActionClick:function(){Ve(Ie),Oe(!1)},"data-testid":"".concat(G,"-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(G,"-delete-confirmation-modal-header")},K("console:develop.features.applications.confirmations.removeApplicationUserAttribute.header")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(G,"-delete-confirmation-modal-message")},K("console:develop.features.applications.confirmations.removeApplicationUserAttribute.subHeader")),s.createElement(l.cV.Content,{"data-testid":"".concat(G,"-delete-confirmation-modal-content")},s.createElement(U.c,{i18nKey:"console:develop.features.applications.confirmations.removeApplicationUserAttribute.content",i18nOptions:{default:null==je?void 0:je.displayName}},"If you remove this, the subject attribute will be set to the ",s.createElement("strong",null,null==je?void 0:je.displayName)))))):null};function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e){return function(e){if(Array.isArray(e))return pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||de(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||de(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){if(e){if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,t):void 0}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}ae.defaultProps={"data-testid":"application-attribute-selection"};var fe=function(e){var t=e.claims,n=e.externalClaims,o=e.externalClaimsGroupedByScopes,i=e.setExternalClaimsGroupedByScopes,a=e.setExternalClaims,r=e.unfilteredExternalClaimsGroupedByScopes,p=e.setUnfilteredExternalClaimsGroupedByScopes,v=e.selectedExternalClaims,h=e.selectedDialect,b=e.setSelectedExternalClaims,y=e.selectedSubjectValue,E=e.claimConfigurations,S=e.defaultSubjectAttribute,C=e.readOnly,A=e.isUserAttributesLoading,O=e.setUserAttributesLoading,w=e.onlyOIDCConfigured,I=e["data-testid"],T=e["data-componentid"],R=(0,c.$)().t,k=(0,l.fQ)().getLink,P="openid",M=ue((0,s.useState)([]),2),Z=M[0],_=M[1],j=ue((0,s.useState)([]),2),F=j[0],V=j[1],q=ue((0,s.useState)([]),2),B=q[0],z=q[1],W=ue((0,s.useState)(""),2),G=W[0],K=W[1],Q=ue((0,s.useState)(!1),2),$=Q[0],X=Q[1],J=(0,s.useRef)(!1),ee=(0,u.v9)((function(e){return e.config})),te=ue((0,s.useState)(n),1)[0],ne=ue((0,s.useState)([P]),2),oe=ne[0],ie=ne[1];(0,s.useEffect)((function(){var e,t=ce(F);null==E||null===(e=E.claimMappings)||void 0===e||e.map((function(e){if(!F.find((function(t){return(null==t?void 0:t.mappedLocalClaimURI)===e.localClaim.uri}))){var n=Z.find((function(t){return(null==t?void 0:t.mappedLocalClaimURI)===e.localClaim.uri}));n&&t.push(n)}})),b(t),V(t)}),[E]),(0,s.useEffect)((function(){if(0!=r.length){var e=[P];r.map((function(t){t.selected&&""!==t.name&&e.push(t.name)})),ie(e)}}),[r]),(0,s.useEffect)((function(){$&&E&&(Z.length>0||v.length>0)&&O(!1)}),[Z,E,$]),(0,s.useEffect)((function(){n&&_(ce(m.applicationConfig.attributeSettings.attributeSelection.getExternalClaims(n)))}),[n]),(0,s.useEffect)((function(){v&&V(ce(v))}),[v]),(0,s.useEffect)((function(){J.current||(X(!1),me(),J.current=!0)}),[E]);var ae,re=function(e,t){var n=ce(r);n.forEach((function(n){n.claims.forEach((function(n){n.claimURI===e&&(n.mandatory=t)}))})),i(n),p(n),fe(G)},se=function(e,t){var n=ce(r);n.forEach((function(n){var o=!1;n.claims.forEach((function(n){n.claimURI===e&&(n.requested=t),n.requested&&(o=!0)})),n.selected=o})),i(n),p(n),fe(G)},de=function(e,t){var n;null===(n=ce(r).find((function(e){if(e.name===t.value)return e.selected=t.checked,e})))||void 0===n||n.claims.map((function(e){se(e.claimURI,t.checked),t.checked||re(e.claimURI,t.checked)}))},pe=function(e){var t;if("CUSTOM"===E.dialect){var n,o=null===(n=E.claimMappings.find((function(t){var n;return(null==t||null===(n=t.localClaim)||void 0===n?void 0:n.uri)===e})))||void 0===n?void 0:n.applicationClaim;if(o){var i=E.requestedClaims.find((function(e){var t;return(null==e||null===(t=e.claim)||void 0===t?void 0:t.uri)===o}));if(i)return i.mandatory}}return null===(t=E.requestedClaims.find((function(t){var n;return(null==t||null===(n=t.claim)||void 0===n?void 0:n.uri)===e})))||void 0===t?void 0:t.mandatory},fe=function(e){if(""!==e){var t=r.filter((function(t){var n,o;return-1!==(null===(n=t.name)||void 0===n?void 0:n.toLowerCase().indexOf(e.toLowerCase()))||-1!==(null===(o=t.displayName)||void 0===o?void 0:o.toLowerCase().indexOf(e.toLowerCase()))})),n=ce(r),o=[],a=[];n.forEach((function(n){var i=n.claims.filter((function(t){var n,o,i,a;return-1!==(null===(n=t.claimURI)||void 0===n?void 0:n.toLowerCase().indexOf(e.toLowerCase()))||-1!==(null===(o=t.claimDialectURI)||void 0===o?void 0:o.toLowerCase().indexOf(e.toLowerCase()))||-1!==(null===(i=t.localClaimDisplayName)||void 0===i?void 0:i.toLowerCase().indexOf(e.toLowerCase()))||-1!==(null===(a=t.mappedLocalClaimURI)||void 0===a?void 0:a.toLowerCase().indexOf(e.toLowerCase()))}));if(void 0!==i&&0!==i.length){o.includes(n.name)||o.push(n.name);var r=le(le({},n),{},{claims:i});a.push(r)}t.map((function(e){e.name===n.name&&0===i.length&&a.push(n)}))})),i(a),z(o)}},me=function(){var e;O(!0);var o,i,r=(i=[],"CUSTOM"===(null==E?void 0:E.dialect)?null===(o=E.claimMappings)||void 0===o||o.map((function(e){i.push(e.localClaim.uri)})):"LOCAL"===(null==E?void 0:E.dialect)&&E.requestedClaims.map((function(e){i.push(e.claim.uri)})),i),l=[],s=[];m.applicationConfig.attributeSettings.attributeSelection.getExternalClaims(n).map((function(e){if(r.includes(e.mappedLocalClaimURI)){var t=le(le({},e),{},{mandatory:pe(e.mappedLocalClaimURI),requested:!0});l.push(t)}else s.push(e)}));var c=ce(F);null==E||null===(e=E.claimMappings)||void 0===e||e.map((function(e){null==t||t.map((function(t){if(e.localClaim.uri===t.claimURI){var n={claimDialectURI:t.dialectURI,claimURI:t.claimURI,id:t.id,localClaimDisplayName:t.displayName,mandatory:t.mandatory,mappedLocalClaimURI:t.claimURI,requested:t.requested};l.find((function(t){var n;return(null==t?void 0:t.mappedLocalClaimURI)===(null==e||null===(n=e.localClaim)||void 0===n?void 0:n.uri)}))||l.push(n)}}))})),V(c),b(l),_(s),a(s.concat(l)),X(!0)},ve=function(e){var t=!1;return null==te||te.map((function(n){n.mappedLocalClaimURI!==e.mappedLocalClaimURI&&e.mappedLocalClaimURI!==S||(t=!0)})),t},ge=function(e){var t;return s.createElement(d.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(I,"-item-heading"),"data-componentId":"".concat(T,"-item-heading")},s.createElement(l.JT,{image:s.createElement(l.Xo,{name:e.displayName,size:"mini","data-testid":"".concat(I,"-item-image-inner"),"data-componentId":"".concat(T,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(I,"-item-image"),"data-componentId":"".concat(T,"-item-image")}),""===e.name?s.createElement(d.Z.Content,{className:"align-self-center"},s.createElement(l.kW,{warning:!0,popup:!0,compact:!0},R("console:develop.features.applications.edit.sections.attributes.selection.scopelessAttributes.hint")),e.displayName,s.createElement(d.Z.Subheader,null," "+(null!==(t=e.description)&&void 0!==t?t:""))):s.createElement(d.Z.Content,null,e.displayName,s.createElement(d.Z.Subheader,null,s.createElement(l.EK,{withBackground:!0},e.name))))},he=function(e){return s.createElement(x.Z,{singleLine:!0,compact:!0,"data-testid":"".concat(I,"-list"),"data-componentId":"".concat(T,"-list"),fixed:!0},s.createElement(x.Z.Header,{className:"table-header-oidc-user-attribute"},s.createElement(x.Z.Row,null,s.createElement(x.Z.HeaderCell,{width:"1"}),s.createElement(x.Z.HeaderCell,{width:"10"},R("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.attribute")),s.createElement(x.Z.HeaderCell,{textAlign:"center",width:"4"},R("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.requested")),s.createElement(x.Z.HeaderCell,{width:"4"},R("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.mandatory"),s.createElement(l.kW,{icon:"info circle",popup:!0},R("console:develop.features.applications.edit.sections.attributes.selection.mandatoryAttributeHint",{productName:ee.ui.productName}))))),s.createElement(x.Z.Body,null,s.createElement(s.Fragment,null,e.map((function(e){return s.createElement(H,{key:e.id,"data-testid":"".concat(I,"-").concat(e.claimURI),claimURI:e.claimURI,displayName:e.claimURI,mappedURI:e.mappedLocalClaimURI,localDialect:h.localDialect,initialMandatory:y===e.mappedLocalClaimURI&&!w||e.mandatory,selectMandatory:re,selectRequested:se,initialRequested:e.requested,readOnly:y===e.mappedLocalClaimURI&&!w||!ve(e)||C,localClaimDisplayName:e.localClaimDisplayName,subject:y===e.mappedLocalClaimURI&&!w,isOIDCMapping:!ve(e)})})))))},be=function(e){var t=ce(B);null!=B&&B.includes(e.name)?t=t.filter((function(t){return t!==e.name})):t.push(e.name),z(t)},ye=function(e){return[{checked:e.selected,defaultChecked:e.selected,disabled:!1,onChange:de,popoverText:e.selected?R("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.listItem.actions.removeScopeRequested"):R("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.listItem.actions.makeScopeRequested"),type:"checkbox popup",value:e.name}]};return!A&&E&&$?s.createElement(s.Fragment,null,s.createElement(N.Z.Row,{"data-testid":I,"data-componentid":T},s.createElement(N.Z.Column,{computer:16,tablet:16,largeScreen:12,widescreen:12},s.createElement(l.X6,{as:"h4"},R("console:develop.features.applications.edit.sections.attributes.selection.heading")),s.createElement(l.X6,{as:"h6",color:"grey"},R("console:develop.features.applications.edit.sections.attributes.selection.description"),(ae=k("develop.applications.editApplication.oidcApplication.attributes.learnMore"),s.createElement(l.eb,{link:ae},R("common:learnMore")))),s.createElement(s.Fragment,null,s.createElement(N.Z.Row,{className:"user-role-edit-header-segment clearing attributes"},s.createElement(x.Z,{"data-testid":"".concat(I,"-action-bar"),"data-componentid":"".concat(T,"-action-bar"),basic:"very",compact:!0},s.createElement(x.Z.Body,null,s.createElement(x.Z.Row,null,s.createElement(x.Z.Cell,{collapsing:!0,width:"16"},s.createElement(D.Z,{icon:s.createElement(f.Z,{name:"search"}),iconPosition:"left",onChange:function(e){var t=e.target.value;K(t),t.length>0?fe(t):(z([]),i(r))},placeholder:R("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.searchPlaceholder"),floated:"left",size:"small","data-testid":"".concat(I,"-search"),"data-componentid":"".concat(T,"-search")})),s.createElement(x.Z.Cell,{textAlign:"right"}))))),s.createElement(N.Z.Row,{className:"mb-5"},0!==o.length?s.createElement(l.el,{fluid:!0,"data-testid":"".concat(I,"-oidc-scopes"),"data-componentid":"".concat(T,"-oidc-scopes"),viewType:"table-view"},o.map((function(e){if(""!==e.name)return s.createElement(s.Fragment,{key:e.name},s.createElement(l.el.Title,{id:e.name,"data-testid":"".concat(I,"-").concat(e.name,"-title"),"data-componentid":"".concat(T,"-").concat(e.name,"\n                                                                                    -title"),active:(null==B?void 0:B.includes(e.name))||!1,accordionIndex:e.name,onClick:function(){return be(e)},content:ge(e),hideChevron:!1,actions:ye(e)}),s.createElement(l.el.Content,{active:(null==B?void 0:B.includes(e.name))||!1,"data-testid":"".concat(I,"-").concat(e.name,"-content"),"data-componentid":"".concat(T,"-").concat(e.name,"\n                                                                                    -content"),children:he(e.claims)}))}))):s.createElement(l.$J,{image:(0,g.jF)().emptySearch,imageSize:"tiny",title:R("console:develop.features.applications.edit.sections.attributes.emptySearchResults.title"),subtitle:[R("console:develop.features.applications.edit.sections.attributes.emptySearchResults.subtitles.0",{searchQuery:G}),R("console:develop.features.applications.edit.sections.attributes.emptySearchResults.subtitles.1")],"data-testid":"".concat(I,"-empty-search-placeholder")})),s.createElement(N.Z.Row,null,s.createElement(l.el,{fluid:!0,"data-testid":"".concat(I,"-oidc-scopes"),"data-componentid":"".concat(T,"-oidc-scopes"),viewType:"table-view"},o.map((function(e){if(""===e.name)return s.createElement(s.Fragment,{key:e.name},s.createElement(l.el.Title,{id:e.name,"data-testid":"".concat(I,"-").concat(e.name,"-title"),"data-componentid":"".concat(T,"-").concat(e.name,"\n                                                                    -title"),active:(null==B?void 0:B.includes(e.name))||!1,accordionIndex:e.name,onClick:function(){return be(e)},content:ge(e),hideChevron:!1,actions:ye(e)}),s.createElement(l.el.Content,{active:(null==B?void 0:B.includes(e.name))||!1,"data-testid":"".concat(I,"-").concat(e.name,"-content"),"data-componentid":"".concat(T,"-").concat(e.name,"\n                                                                    -content"),children:he(e.claims)}))}))))),s.createElement(l.kW,null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.edit.sections.attributes.selection.attributeComponentHint"},"Use",s.createElement(l.rU,{external:!1,onClick:function(){g.m8.push(g.$x.getPaths().get("OIDC_SCOPES"))}}," OpenID Connect Scopes"),"to manage user attribute to a scope. You can add new attributes by navigating to",s.createElement(l.rU,{external:!1,onClick:function(){g.m8.push(g.$x.getPaths().get("ATTRIBUTE_MAPPINGS").replace(":type",Y.Q.OIDC))}},"Attributes."))))),s.createElement(N.Z.Row,{className:"mt-5"},s.createElement(N.Z.Column,null,s.createElement(N.Z.Row,null,s.createElement(L.Z,null,s.createElement(L.Z.Field,null,s.createElement("div",{className:"display-flex"},s.createElement(l.OR,{className:"copy-input spaced",value:oe.join(" "),"data-componentid":"".concat(T,"-selected-scope-area")}))))))),s.createElement(l.kW,null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.edit.sections.attributes.selection.selectedScopesComponentHint"},"Request these scopes from your application to retrieve the user attributes you selected."),k("develop.applications.editApplication.attributeManagement.manageOIDCScopes")&&s.createElement(l.eb,{link:k("develop.applications.editApplication.attributeManagement.manageOIDCScopes")},R("console:develop.features.applications.edit.sections.attributes.selection.howToUseScopesHint")))):null};fe.defaultProps={"data-componentid":"application-attribute-selection-oidc","data-testid":"application-attribute-selection-oidc"};var me=n(97118),ve=n(47066),ge=n(39795);function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var ye=function(e){var t,n=e.applicationTemplateId,o=e.dropDownOptions,i=e.setSubmissionValues,a=e.setSelectedValue,r=e.defaultSubjectAttribute,u=e.triggerSubmission,d=e.initialSubject,p=e.initialRole,f=e.claimMappingOn,v=e.readOnly,g=e.technology,h=e.onlyOIDCConfigured,y=e["data-testid"],E=(0,c.$)().t,S=he((0,s.useState)(),2),C=S[0],A=S[1],O=he((0,s.useState)(),2),w=O[0],I=O[1];(0,s.useEffect)((function(){if(f&&o&&o.length>0)if(w){var e=o.findIndex((function(e){return(null==e?void 0:e.key)===w}));if(e>-1){var t;A(null===(t=o[e])||void 0===t?void 0:t.value)}else{var n,i,a=o.findIndex((function(e){return(null==e?void 0:e.key)===r}));A(a>-1?null===(n=o[a])||void 0===n?void 0:n.value:null===(i=o[0])||void 0===i?void 0:i.value)}}else if(C){var l,s=null===(l=o.find((function(e){return(null==e?void 0:e.value)===C})))||void 0===l?void 0:l.key;s&&(I(s),A(C))}else{var c,u;A((null==d||null===(c=d.claim)||void 0===c?void 0:c.uri)||(null===(u=o[0])||void 0===u?void 0:u.value))}else if(C)o&&o.length>0&&o.findIndex((function(e){return(null==e?void 0:e.value)===C}))<0&&A(r);else{var p,m;A((null==d||null===(p=d.claim)||void 0===p?void 0:p.uri)||(null===(m=o[0])||void 0===m?void 0:m.value))}}),[o]),(0,s.useEffect)((function(){C&&a(C)}),[C]),(0,s.useEffect)((function(){if(C&&o){var e,t=null===(e=o.find((function(e){return(null==e?void 0:e.value)===C})))||void 0===e?void 0:e.key;I(t)}}),[C]);var T,R,L=function(e,t){var n="";return e.map((function(e){e.value===t&&(n=t)})),n};return p&&d?s.createElement(ve.l0,{id:"application-attributes-advance-settings-form",uncontrolledForm:!1,initialValues:!h&&{subjectAttribute:C},onSubmit:function(e){!function(e){var t={role:{claim:L(o,e.roleAttribute),includeUserDomain:!!e.role,mappings:[]},subject:{claim:L(o,e.subjectAttribute),includeTenantDomain:!!e.subjectIncludeTenantDomain,includeUserDomain:!!e.subjectIncludeUserDomain,useMappedLocalSubject:!!e.subjectUseMappedLocalSubject}},n=m.applicationConfig.attributeSettings.advancedAttributeSettings;!n.showIncludeUserstoreDomainSubject&&delete t.subject.includeUserDomain,!n.showIncludeTenantDomain&&delete t.subject.includeTenantDomain,!n.showUseMappedLocalSubject&&delete t.subject.useMappedLocalSubject,!n.showRoleMapping&&delete t.role.mappings,!n.showIncludeUserstoreDomainRole&&t.role.includeUserDomain,!n.showRoleAttribute&&delete t.role.claim,i(t)}(e)},triggerSubmit:function(e){return u(e)}},s.createElement(l.X6,{hidden:h&&!m.applicationConfig.attributeSettings.advancedAttributeSettings.showSubjectAttribute,as:"h4"},E("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.heading")),s.createElement(ge.Z,{hidden:!0}),s.createElement(ve.gN.Dropdown,{ariaLabel:"Subject attribute",name:"subjectAttribute",label:E("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.label"),required:f,value:C,children:o,hidden:h&&!m.applicationConfig.attributeSettings.advancedAttributeSettings.showSubjectAttribute,readOnly:v,"data-testid":"".concat(y,"-subject-attribute-dropdown"),listen:function(e){A(e?null==e?void 0:e.toString():e)},enableReinitialize:!0,hint:1!==g.length&&n!==b.jo.CUSTOM_APPLICATION_OIDC&&n!==b.jo.CUSTOM_APPLICATION_SAML?s.createElement(l.kW,{compact:!0},E("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.hint")):"oauth2"===(null===(T=g[0])||void 0===T?void 0:T.type)||n===b.jo.CUSTOM_APPLICATION_OIDC?s.createElement(l.kW,{compact:!0},s.createElement(U.c,{i18nKey:"console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.hintOIDC"},"Select which of the shared attributes you want to use as the subject identifier of the user. This represents the ",s.createElement(l.EK,{withBackground:!0},"sub")," claim of the",s.createElement(l.EK,{withBackground:!0},"id_token"),".")):"samlsso"===(null===(R=g[0])||void 0===R?void 0:R.type)||n===b.jo.CUSTOM_APPLICATION_SAML?s.createElement(l.kW,{compact:!0},s.createElement(U.c,{i18nKey:"console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.hintSAML"},"Select which of the shared attributes you want to use as the subject identifier of the user. This represents the ",s.createElement(l.EK,{withBackground:!0},"subject")," element of the SAML assertion.")):s.createElement(l.kW,{compact:!0},E("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.hint"))}),s.createElement(ve.gN.CheckboxLegacy,{ariaLabel:"Subject include user domain",name:"subjectIncludeUserDomain",label:E("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectIncludeUserDomain.label"),required:!1,value:null!=d&&d.includeUserDomain?["includeUserDomain"]:[],readOnly:v,"data-testid":"".concat(y,"-subject-iInclude-user-domain-checkbox"),hidden:!m.applicationConfig.attributeSettings.advancedAttributeSettings.showIncludeUserstoreDomainSubject,hint:E("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectIncludeUserDomain.hint")}),s.createElement(ve.gN.CheckboxLegacy,{ariaLabel:"Subject include tenant domain",name:"subjectIncludeTenantDomain",label:E("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectIncludeTenantDomain.label"),required:!1,value:null!=d&&d.includeTenantDomain?["includeTenantDomain"]:[],readOnly:v,"data-testid":"".concat(y,"-subject-include-tenant-domain-checkbox"),hidden:!m.applicationConfig.attributeSettings.advancedAttributeSettings.showIncludeTenantDomain,hint:E("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectIncludeTenantDomain.hint")}),s.createElement(ve.gN.CheckboxLegacy,{ariaLabel:"Subject use mapped local subject",name:"subjectUseMappedLocalSubject",label:E("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectUseMappedLocalSubject.label"),required:!1,value:null!=d&&d.useMappedLocalSubject?["useMappedLocalSubject"]:[],readOnly:v,"data-testid":"".concat(y,"-subject-use-mapped-local-subject-checkbox"),hidden:!m.applicationConfig.attributeSettings.advancedAttributeSettings.showUseMappedLocalSubject,hint:E("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectUseMappedLocalSubject.hint")}),m.applicationConfig.attributeSettings.advancedAttributeSettings.showRoleAttribute&&s.createElement(s.Fragment,null,s.createElement(l.X6,{as:"h4"},E("console:develop.features.applications.forms.advancedAttributeSettings.sections.role.heading"))),s.createElement(ve.gN.Dropdown,{ariaLabel:"Role attribute",name:"roleAttribute",label:E("console:develop.features.applications.forms.advancedAttributeSettings.sections.role.fields.roleAttribute.label"),required:f,value:null==p||null===(t=p.claim)||void 0===t?void 0:t.uri,children:o,readOnly:v,"data-testid":"".concat(y,"-role-attribute-dropdown"),hidden:!m.applicationConfig.attributeSettings.advancedAttributeSettings.showRoleAttribute,hint:E("console:develop.features.applications.forms.advancedAttributeSettings.sections.role.fields.roleAttribute.hint")}),s.createElement(ve.gN.CheckboxLegacy,{ariaLabel:"Role",name:"role",label:E("console:develop.features.applications.forms.advancedAttributeSettings.sections.role.fields.role.label"),required:!1,value:null!=p&&p.includeUserDomain?["includeUserDomain"]:[],readOnly:v,"data-testid":"".concat(y,"-role-checkbox"),hidden:!m.applicationConfig.attributeSettings.advancedAttributeSettings.showIncludeUserstoreDomainRole,hint:E("console:develop.features.applications.forms.advancedAttributeSettings.sections.role.fields.role.hint")})):null};ye.defaultProps={"data-testid":"application-advanced-attribute-settings-form"};var Ee=n(82736);function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Ae=function(e){var t=e.initialMappings,n=e.readOnly,o=e.onChange,i=e["data-testid"],d=(0,c.$)().t,p=(0,u.I0)(),f=Se((0,s.useState)(),2),m=f[0],v=f[1];return(0,s.useEffect)((function(){(0,Ee.Sd)(null).then((function(e){if(200===e.status){var t=e.data;v(t.Resources)}})).catch((function(){p((0,r.V_)({description:d("console:manage.features.roles.notifications.fetchRoles.genericError.description"),level:a.QU.ERROR,message:d("console:manage.features.roles.notifications.fetchRoles.genericError.message")}))}))}),[t]),s.createElement(s.Fragment,null,s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(l.X6,{as:"h4"},d("console:develop.features.applications.edit.sections.attributes.roleMapping.heading")),s.createElement(l.e9,{data:t?t.map((function(e){return{key:e.localRole.includes("/")?e.localRole.split("/")[1]:e.localRole,value:e.applicationRole}})):[],keyType:"dropdown",keyData:m?m.filter((function(e){return!(e.displayName.includes("Application/")||e.displayName.includes("Internal/"))})).map((function(e){return{id:e.displayName,value:e.displayName}})):[],keyName:d("console:develop.features.applications.edit.sections.attributes.forms.fields.dynamic.localRole.label"),valueName:d("console:develop.features.applications.edit.sections.attributes.forms.fields.dynamic.applicationRole.label"),keyRequiredMessage:d("console:develop.features.applications.edit.sections.attributes.forms.fields.dynamic.localRole.validations.empty"),valueRequiredErrorMessage:d("console:develop.features.applications.edit.sections.attributes.forms.fields.dynamic.applicationRole.validations.empty"),duplicateKeyErrorMsg:d("console:develop.features.applications.edit.sections.attributes.forms.fields.dynamic.applicationRole.validations.duplicate"),readOnly:n,"data-testid":"".concat(i,"-dynamic-field"),listen:function(e){if(o){var t,n=null!==(t=null==e?void 0:e.map((function(e){return{applicationRole:e.value,localRole:e.key.includes("/")?e.key:"Internal/"+e.key}})))&&void 0!==t?t:[];o(n)}}}))))};Ae.defaultProps={"data-testid":"application-role-mapping"};var Oe=n(13456),we=n(69815);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e){return function(e){if(Array.isArray(e))return Pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ke(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||ke(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){if(e){if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Me="http://wso2.org/claims/username";var Ue=function(e){var t,n,o,d,p,f,v,b,y,E,S,C,A,O=e.appId,w=e.applicationTemplateId,I=e.technology,R=e.featureConfig,L=e.claimConfigurations,k=e.onlyOIDCConfigured,M=e.onUpdate,U=e.readOnly,x=e["data-testid"],D=(0,c.$)().t,Z=(0,u.I0)(),j=Ne((0,s.useState)(""),2),F=j[0],V=j[1],q=Ne((0,s.useState)([]),2),B=q[0],H=q[1],z=Ne((0,s.useState)(),2),W=z[0],G=z[1],K=Ne((0,s.useState)(null),2),Q=K[0],$=K[1],Y=Ne((0,s.useState)(null),2),X=Y[0],J=Y[1],ee=Ne((0,s.useState)([]),2),te=ee[0],ne=ee[1],oe=Ne((0,s.useState)(!0),2),ie=oe[0],re=oe[1],le=Ne((0,s.useState)([]),2),se=le[0],ce=le[1],ue=Ne((0,s.useState)([]),2),de=ue[0],pe=ue[1],ve=Ne((0,s.useState)([]),2),ge=ve[0],he=ve[1],be=Ne((0,s.useState)(!0),2),Ee=be[0],Se=be[1],Ce=Ne((0,s.useState)([]),2),Ie=Ce[0],Re=Ce[1],ke=Ne((0,s.useState)([]),2),Pe=ke[0],Ue=ke[1],xe=Ne((0,s.useState)(!1),2),De=xe[0],Ze=xe[1],_e=Ne((0,s.useState)([]),2),je=_e[0],Fe=_e[1],Ve=Ne((0,s.useState)(!1),2),qe=Ve[0],Be=Ve[1],He=Ne((0,s.useState)(!1),2),ze=He[0],We=He[1],Ge=Ne((0,s.useState)(),2),Ke=Ge[0],Qe=Ge[1],$e=Ne((0,s.useState)(),2),Ye=$e[0],Xe=$e[1],Je=Ne((0,s.useState)(null!==(t=null==L||null===(n=L.role)||void 0===n?void 0:n.mappings)&&void 0!==t?t:[]),2),et=Je[0],tt=Je[1],nt=Ne((0,s.useState)(!0),2),ot=nt[0],it=nt[1],at=Ne((0,s.useState)(void 0),2),rt=at[0],lt=at[1],st=(0,u.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),ct=g.lD.getInstance(),ut=(0,me.KD)(),dt=ut.data,pt=ut.isLoading,ft=Ne((0,s.useState)([]),2),mt=ft[0],vt=ft[1];(0,s.useEffect)((function(){var e=ge.filter((function(e){return 0!==se.filter((function(t){return t.claimURI===e.mappedLocalClaimURI})).length}));e.forEach((function(e){var t=e.mappedLocalClaimURI,n=se.filter((function(e){return e.claimURI===t}));n&&n[0]&&n[0].displayName&&(e.localClaimDisplayName=n[0].displayName)})),pe(e)}),[se,ge]),(0,s.useEffect)((function(){if(!pt)return $(dt),Et(),St(),void At()}),[pt]),(0,s.useEffect)((function(){yt()}),[de]),(0,s.useEffect)((function(){(0,T.Z)(B)||(re(!0),k?Ct("http://wso2.org/oidc/claim"):(re(!1),Ct(F)))}),[k,B]),(0,s.useEffect)((function(){if(Ke){var e=Ot();null!==e&&wt(e)}}),[Ke]),(0,s.useEffect)((function(){"CUSTOM"===(null==L?void 0:L.dialect)&&Be(!0)}),[L]);var gt,ht=function(e){var t=de.find((function(t){return t.claimURI===e}));if(t){var n,o=null===(n=L.requestedClaims.find((function(e){var n;return(null==e||null===(n=e.claim)||void 0===n?void 0:n.uri)===t.mappedLocalClaimURI})))||void 0===n?void 0:n.mandatory;if(void 0!==o)return o}return!1},bt=function(e){var t=de.find((function(t){return t.claimURI===e}));return!!t&&void 0!==L.requestedClaims.find((function(e){var n;return(null==e||null===(n=e.claim)||void 0===n?void 0:n.uri)===t.mappedLocalClaimURI}))},yt=function(){var e=Le(de),t=[],n=[];if(null!=Q&&0!==Q.length&&0!==se.length){Q.map((function(o){if("openid"!==o.name){var i=[],a=!1;o.claims.map((function(t){e.map((function(e){if(t===e.claimURI){var o=Te(Te({},e),{},{mandatory:ht(e.claimURI),requested:bt(e.claimURI)});o.requested&&(a=!0),i.push(o),n.push(e)}}))}));var r=Te(Te({},o),{},{claims:i,selected:a});t.push(r)}}));var o=e.filter((function(e){return!n.includes(e)})),i=[],a=!1;o.map((function(e){var t=bt(e.claimURI);i.push(Te(Te({},e),{},{mandatory:ht(e.claimURI),requested:bt(e.claimURI)})),a=t})),t.push({claims:i,description:D("console:develop.features.applications.edit.sections.attributes.selection.scopelessAttributes.description"),displayName:D("console:develop.features.applications.edit.sections.attributes.selection.scopelessAttributes.displayName"),name:D("console:develop.features.applications.edit.sections.attributes.selection.scopelessAttributes.name"),selected:a})}ne((0,P.Z)(t,"name")),J((0,P.Z)(t,"name")),Se(!1)},Et=function(){it(!0);var e={"exclude-identity-claims":m.applicationConfig.excludeIdentityClaims,filter:null,limit:null,offset:null,sort:null};(0,Oe.WN)(e).then((function(e){ce(e)})).catch((function(){Z((0,r.V_)({description:D("console:manage.features.claims.local.notifications.fetchLocalClaims.genericError.description"),level:a.QU.ERROR,message:D("console:manage.features.claims.local.notifications.fetchLocalClaims.genericError.message")}))})).finally((function(){it(!1)}))},St=function(){(0,Oe.jp)(null).then((function(e){H(e)})).catch((function(){Z((0,r.V_)({description:D("console:manage.features.claims.dialects.notifications.fetchDialects.genericError.description"),level:a.QU.ERROR,message:D("console:manage.features.claims.dialects.notifications.fetchDialects.genericError.message")}))}))},Ct=function(e){if(null!==e){var t=(i=e,l="",B.map((function(e){e.dialectURI===i&&(l=e.id)})),l),n=!0;e!==F&&(n=!1),G({dialectURI:e,id:t,localDialect:n}),n||null!==(o=t)&&(0,Oe.gR)(o,null).then((function(e){re(!0),Se(!0),he(e)})).catch((function(){Z((0,r.V_)({description:D("console:manage.features.claims.external.notifications.fetchExternalClaims.genericError.description"),level:a.QU.ERROR,message:D("console:manage.features.claims.external.notifications.fetchExternalClaims.genericError.message")}))})).finally((function(){re(!1)}))}var o,i,l},At=function(){var e;(0,T.Z)(F)&&V((e="http://wso2.org/claims",(0,Oe.WN)(null).then((function(t){var n=t.slice(0,1)[0].dialectURI;(0,T.Z)(n)||(e=n)})),e))},Ot=function(){var e=[],t=!0;return We(!1),Le(je).map((function(n){if(n.addMapping)if((0,T.Z)(null==n?void 0:n.applicationClaim))We(!0),t=!1;else{var o,i={applicationClaim:null==n?void 0:n.applicationClaim,localClaim:{uri:null==n||null===(o=n.localClaim)||void 0===o?void 0:o.uri}};e.push(i)}})),t?e:null},wt=function(e){var t,n=!1,o=[],i=null==Ke||null===(t=Ke.subject)||void 0===t?void 0:t.claim;if(W.localDialect?Ie.map((function(t){var n,a,r,l,s=e.length>0?(n=t.claimURI,l=n,(a=e).length>0&&(l=null===(r=a.find((function(e){var t;return(null==e||null===(t=e.localClaim)||void 0===t?void 0:t.uri)===n})))||void 0===r?void 0:r.applicationClaim),l):null;if(s){if(t.requested){var c={claim:{uri:s},mandatory:i&&s===i.toString()?m.applicationConfig.attributeSettings.makeSubjectMandatory:t.mandatory};o.push(c)}}else{var u={claim:{uri:t.claimURI},mandatory:i&&t.claimURI===i.toString()?m.applicationConfig.attributeSettings.makeSubjectMandatory:t.mandatory};o.push(u)}})):te.map((function(e){null==e||e.claims.map((function(e){if(e.requested){var t={claim:{uri:e.mappedLocalClaimURI},mandatory:e.mandatory};o.find((function(e){return e.claim.uri===t.claim.uri}))||o.push(t)}}))})),e.findIndex((function(e){return e.localClaim.uri===Me}))<0&&i&&i.toString()===Me&&(n=!0),e.length>0&&n){var l={applicationClaim:Me,localClaim:{uri:Me}};e.push(l)}var s={claimConfiguration:{claimMappings:e.length>0?e:[],dialect:e.length>0?"CUSTOM":"LOCAL",requestedClaims:o,role:{claim:{uri:null==Ke?void 0:Ke.role.claim},includeUserDomain:null==Ke?void 0:Ke.role.includeUserDomain,mappings:et.length>0?et:[]},subject:{claim:{uri:null==Ke?void 0:Ke.subject.claim},includeTenantDomain:null==Ke?void 0:Ke.subject.includeTenantDomain,includeUserDomain:null==Ke?void 0:Ke.subject.includeUserDomain,useMappedLocalSubject:null==Ke?void 0:Ke.subject.useMappedLocalSubject}}};(0,T.Z)(s.claimConfiguration.claimMappings)&&delete s.claimConfiguration.claimMappings,(0,T.Z)(s.claimConfiguration.role.mappings)&&delete s.claimConfiguration.role.mappings,m.applicationConfig.attributeSettings.roleMapping||delete s.claimConfiguration.role,m.applicationConfig.excludeSubjectClaim&&k&&delete s.claimConfiguration.subject,(0,h.aA)(O,s).then((function(){M(O),Z((0,r.V_)({description:D("console:develop.features.applications.notifications.updateClaimConfig.success.description"),level:a.QU.SUCCESS,message:D("console:develop.features.applications.notifications.updateClaimConfig.success.message")}))})).catch((function(){Z((0,r.V_)({description:D("console:develop.features.applications.notifications.updateClaimConfig.genericError.description"),level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.updateClaimConfig.genericError.message")}))}))},It=function(e){e?(Be(!0),Ze(!1)):(Be(!1),Ze(!1))};return ie||!W||ot&&(0,T.Z)(de)||Ee?s.createElement(l.pJ,{padded:"very"},s.createElement(l.pO,{inline:"centered",active:!0})):s.createElement(l.pJ,{padded:"very"},s.createElement(N.Z,{className:"claim-mapping"},s.createElement("div",{className:"form-container with-max-width"},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:12},k?s.createElement(fe,{claims:se,externalClaims:de,externalClaimsGroupedByScopes:X,setExternalClaimsGroupedByScopes:J,unfilteredExternalClaimsGroupedByScopes:te,setUnfilteredExternalClaimsGroupedByScopes:ne,setExternalClaims:pe,selectedExternalClaims:Pe,setSelectedExternalClaims:Ue,selectedDialect:W,selectedSubjectValue:Ye,claimMapping:je,claimConfigurations:L,defaultSubjectAttribute:Me,readOnly:U||!(0,i.Xr)(null==R?void 0:R.applications,null==R||null===(o=R.applications)||void 0===o||null===(d=o.scopes)||void 0===d?void 0:d.update,st),isUserAttributesLoading:rt,setUserAttributesLoading:lt,onlyOIDCConfigured:k,"data-testid":"".concat(x,"-attribute-selection-oidc"),"data-componentid":"".concat(x,"-attribute-selection-oidc")}):s.createElement(ae,{claims:se,setClaims:ce,externalClaims:de,setExternalClaims:pe,selectedClaims:Ie,selectedExternalClaims:Pe,setSelectedClaims:Re,setSelectedExternalClaims:Ue,selectedDialect:W,selectedSubjectValue:Ye,claimMapping:je,setClaimMapping:Fe,createMapping:function(e){if(W.localDialect){var t=Le(je);e.map((function(e){var n={addMapping:!1,applicationClaim:"",localClaim:{displayName:e.displayName,id:e.id,uri:e.claimURI}};t.some((function(t){return t.localClaim.uri===e.claimURI}))||t.push(n),Fe(t)}))}},removeMapping:function(e){var t,n=Le(je);n.map((function(n){n.localClaim.uri===e&&(t=n)})),t&&(n.splice(n.indexOf(t),1),Fe(n))},updateMappings:function(e,t){if(W.localDialect){var n=Le(je);e.map((function(e){var t={addMapping:!1,applicationClaim:"",localClaim:{displayName:e.displayName,id:e.id,uri:e.claimURI}};n.some((function(t){return t.localClaim.uri===e.claimURI}))||n.push(t)})),t.map((function(e){var t;n.map((function(n){n.localClaim.uri===e.claimURI&&(t=n)})),t&&n.splice(n.indexOf(t),1)})),Fe(n)}},getCurrentMapping:function(e){var t;return Le(je).map((function(n){n.localClaim.uri===e&&(t=n)})),t},updateClaimMapping:function(e,t,n){var o=Le(je),i={},a=[];o.forEach((function(o){o.localClaim.uri===e&&(o.applicationClaim=t),n&&(i[o.applicationClaim]?a.push(o.applicationClaim):i[o.applicationClaim]=!0)})),n&&vt(a),Fe(o)},addToClaimMapping:function(e,t){var n=Le(je);n.forEach((function(n){n.localClaim.uri===e&&(n.addMapping=t)})),Fe(n)},claimConfigurations:L,claimMappingOn:qe,defaultSubjectAttribute:Me,showClaimMappingRevertConfirmation:Ze,setClaimMappingOn:Be,claimMappingError:ze,readOnly:U||!(0,i.Xr)(null==R?void 0:R.applications,null==R||null===(p=R.applications)||void 0===p||null===(f=p.scopes)||void 0===f?void 0:f.update,st),isUserAttributesLoading:rt,setUserAttributesLoading:lt,onlyOIDCConfigured:k,"data-testid":"".concat(x,"-attribute-selection"),duplicatedMappingValues:mt})))),!1===rt?s.createElement(N.Z,null,s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(ye,{dropDownOptions:function(){var e=[];if(W.localDialect){if(qe){var t=!1,n=[],o=Le(je);if(je.map((function(e){if(e&&e.localClaim){var o={key:null==e?void 0:e.localClaim.uri,text:s.createElement(we.EP,{key:e.localClaim.id,displayName:e.applicationClaim?e.applicationClaim:e.localClaim.uri,claimURI:e.localClaim.uri,value:e.applicationClaim}),value:e.applicationClaim};e.localClaim.uri===Me&&(t=!0),n.push(o)}})),0===o.length||!t){var i=se.filter((function(e){return e.claimURI===Me}))[0];if(null!=i){var a={key:i.claimURI,text:s.createElement(we.EP,{key:i.id,displayName:i.displayName,claimURI:i.claimURI,value:i.claimURI}),value:i.claimURI};n.push(a)}}return(0,P.Z)(n,"key")}var r=!1;if(Ie.map((function(t){var n={key:t.claimURI,text:s.createElement(we.EP,{key:t.id,displayName:t.displayName,claimURI:t.claimURI,value:t.claimURI}),value:t.claimURI};e.push(n),t.claimURI===Me&&(r=!0)})),!r){var l=se.filter((function(e){return e.claimURI===Me}))[0];if(null!=l){var c={key:l.claimURI,text:s.createElement(we.EP,{key:l.id,displayName:l.displayName,claimURI:l.claimURI,value:l.claimURI}),value:l.claimURI};e.push(c)}}}else{var u=!1;if(Pe.map((function(t){var n={key:t.claimURI,text:s.createElement(we.EP,{key:t.id,displayName:t.localClaimDisplayName,claimURI:t.claimURI,value:t.mappedLocalClaimURI}),value:t.mappedLocalClaimURI};e.push(n),t.mappedLocalClaimURI===Me&&(u=!0)})),!u){var d=[].concat(Le(de),Le(Pe)).filter((function(e){return e.mappedLocalClaimURI===Me}))[0];if(null!=d){var p={key:d.claimURI,text:s.createElement(we.EP,{key:d.id,displayName:d.localClaimDisplayName,claimURI:d.claimURI,value:d.mappedLocalClaimURI}),value:d.mappedLocalClaimURI};e.push(p)}}}return(0,P.Z)(e,"value")}(),triggerSubmission:function(e){gt=e},setSubmissionValues:Qe,setSelectedValue:Xe,defaultSubjectAttribute:Me,initialRole:null==L?void 0:L.role,initialSubject:null==L?void 0:L.subject,claimMappingOn:qe,readOnly:U||!(0,i.Xr)(null==R?void 0:R.applications,null==R||null===(v=R.applications)||void 0===v||null===(b=v.scopes)||void 0===b?void 0:b.update,st),technology:I,applicationTemplateId:w,onlyOIDCConfigured:k,"data-testid":"".concat(x,"-advanced-attribute-settings-form")}))),s.createElement(l.cV,{onClose:function(){return Ze(!1)},type:"warning",open:De,primaryAction:D("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.mappingRevert.confirmPrimaryAction"),secondaryAction:D("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.mappingRevert.confirmSecondaryAction"),onSecondaryActionClick:function(){return It(!0)},onPrimaryActionClick:function(){return It(!1)}},s.createElement(l.cV.Header,null,D("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.mappingRevert.confirmationHeading")),s.createElement(l.cV.Message,{warning:!0},D("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.mappingRevert.confirmationMessage")),s.createElement(l.cV.Content,null,D("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.mappingRevert.confirmationContent"))),m.applicationConfig.attributeSettings.roleMapping&&s.createElement(Ae,{onChange:tt,initialMappings:null==L||null===(y=L.role)||void 0===y?void 0:y.mappings,readOnly:U||!(0,i.Xr)(null==R?void 0:R.applications,null==R||null===(E=R.applications)||void 0===E||null===(S=E.scopes)||void 0===S?void 0:S.update,st),"data-testid":"".concat(x,"-role-mapping")}),!U&&(0,i.Xr)(null==R?void 0:R.applications,null==R||null===(C=R.applications)||void 0===C||null===(A=C.scopes)||void 0===A?void 0:A.update,st)&&s.createElement(N.Z.Row,null,s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.Z,{primary:!0,size:"small",onClick:function(){ct.publish("application-user-attribute-click-update-button");var e=new Set(je.map((function(e){return e.applicationClaim})));qe&&e.size!==je.length?Z((0,r.V_)({description:D("console:develop.features.applications.notifications.updateClaimConfig.error.description",{description:"Mapped user attributes cannot be duplicated."}),level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.updateClaimConfig.error.message")})):gt()},"data-testid":"".concat(x,"-submit-button")},D("common:update"))))):null)};Ue.defaultProps={"data-testid":"application-attribute-settings"};var xe=n(25517),De=n(27599),Ze=n(50274),_e="application-advanced-configuration-form",je=function(e){var t=e.config,n=e.onSubmit,o=e.readOnly,i=e.template,a=e.isSubmitting,r=e["data-testid"],l=(0,c.$)().t,u=function(e){var t={advancedConfigurations:{enableAuthorization:!!e.enableAuthorization,returnAuthenticatedIdpList:!!e.returnAuthenticatedIdpList,saas:!!e.saas,skipLoginConsent:!!e.skipConsentLogin,skipLogoutConsent:!!e.skipConsentLogout}};!m.applicationConfig.advancedConfigurations.showSaaS&&delete t.advancedConfigurations.saas,!m.applicationConfig.advancedConfigurations.showEnableAuthorization&&delete t.advancedConfigurations.enableAuthorization,!m.applicationConfig.advancedConfigurations.showReturnAuthenticatedIdPs&&delete t.advancedConfigurations.returnAuthenticatedIdpList,n(t)};return s.createElement(ve.l0,{id:_e,uncontrolledForm:!1,onSubmit:function(e){u(e)}},s.createElement(ve.gN.CheckboxLegacy,{ariaLabel:"Saas application",name:"saas",label:l("console:develop.features.applications.forms.advancedConfig.fields.saas.label"),required:!1,value:null!=t&&t.saas?["saas"]:[],readOnly:o,"data-testid":"".concat(r,"-sass-checkbox"),hint:l("console:develop.features.applications.forms.advancedConfig.fields.saas.hint"),hidden:!m.applicationConfig.advancedConfigurations.showSaaS}),s.createElement(ve.gN.CheckboxLegacy,{ariaLabel:"Skip consent login",name:"skipConsentLogin",label:l("console:develop.features.applications.forms.advancedConfig.fields.skipConsentLogin.label"),required:!1,value:null!=t&&t.skipLoginConsent?["skipLoginConsent"]:[],readOnly:o,"data-testid":"".concat(r,"-skip-login-consent-checkbox"),hint:l("console:develop.features.applications.forms.advancedConfig.fields.skipConsentLogin.hint")}),(null==Ze?void 0:Ze.id)!==(null==i?void 0:i.id)&&s.createElement(ve.gN.CheckboxLegacy,{ariaLabel:"Skip consent logout",name:"skipConsentLogout",label:l("console:develop.features.applications.forms.advancedConfig.fields.skipConsentLogout.label"),required:!1,value:null!=t&&t.skipLogoutConsent?["skipLogoutConsent"]:[],readOnly:o,"data-testid":"".concat(r,"-skip-logout-consent-checkbox"),hint:l("console:develop.features.applications.forms.advancedConfig.fields.skipConsentLogout.hint")}),s.createElement(ve.gN.CheckboxLegacy,{ariaLabel:"Return authenticated IDP list",name:"returnAuthenticatedIdpList",label:l("console:develop.features.applications.forms.advancedConfig.fields.returnAuthenticatedIdpList.label"),required:!1,value:null!=t&&t.returnAuthenticatedIdpList?["returnAuthenticatedIdpList"]:[],readOnly:o,"data-testid":"".concat(r,"-return-authenticated-idp-list-checkbox"),hidden:!m.applicationConfig.advancedConfigurations.showReturnAuthenticatedIdPs,hint:l("console:develop.features.applications.forms.advancedConfig.fields.returnAuthenticatedIdpList.hint")}),s.createElement(ve.gN.CheckboxLegacy,{ariaLabel:"Enable authorization",name:"enableAuthorization",label:l("console:develop.features.applications.forms.advancedConfig.fields.enableAuthorization.label"),required:!1,value:null!=t&&t.enableAuthorization?["enableAuthorization"]:[],readOnly:o,"data-testid":"".concat(r,"-enable-authorization-checkbox"),hidden:!m.applicationConfig.advancedConfigurations.showEnableAuthorization,hint:l("console:develop.features.applications.forms.advancedConfig.fields.enableAuthorization.hint")}),s.createElement(ve.gN.Button,{form:_e,size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button","data-testid":"".concat(r,"-submit-button"),disabled:a,loading:a,hidden:o,label:l("common:update")}))};je.defaultProps={"data-testid":"application-advanced-configurations-form"};var Fe=n(70429),Ve=n(96300),qe=n(67776),Be=n(22350),He=["certificate","data-testid"];function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ze.apply(this,arguments)}function We(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ge=function(e){var t=e.certificate,n=e["data-testid"],o=We(e,He),i=(0,c.$)().t,a=s.createElement(j.Z,{className:"certificate","data-testid":n},s.createElement("p",{className:"certificate-field"},"We were unable to read this certificate. Currently we only support displaying public key information in certificate types of ",Fe.lu.SUPPORTED_KEY_ALGORITHMS.map((function(e,t){return s.createElement("span",{key:"".concat(e,"+").concat(t)},s.createElement(l.EK,null,e),"\xa0")}))," key algorithms. Support for ",s.createElement("strong",null,"Elliptic Curve Cryptography"),"\xa0 key algorithms will be enabled soon."));return s.createElement(z.Z,ze({closeOnDimmerClick:!0,className:"certificate-display",dimmer:"blurring",size:"tiny","data-testid":"".concat(n,"-view-certificate-modal")},o),s.createElement(z.Z.Header,null,s.createElement("div",{className:"certificate-ribbon"},s.createElement(l.dn,{inline:!0,transparent:!0,size:"auto",icon:(0,g._5)().ribbon}),s.createElement("div",{className:"certificate-alias"},"View Certificate - ",null!=t&&t.alias?null==t?void 0:t.alias:(null==t?void 0:t.issuerDN)&&Ve.CertificateManagementUtils.searchIssuerDNAlias(null==t?void 0:t.issuerDN)),s.createElement("br",null),s.createElement("div",{className:"certificate-serial"},"Serial Number: ",null==t?void 0:t.serialNumber))),s.createElement(z.Z.Content,{className:"certificate-content"},null!=t&&t.infoUnavailable?a:s.createElement(l.KB,{certificate:t,labels:{issuerDN:i("console:manage.features.certificates.keystore.summary.issuerDN"),subjectDN:i("console:manage.features.certificates.keystore.summary.subjectDN"),validFrom:i("console:manage.features.certificates.keystore.summary.validFrom"),validTill:i("console:manage.features.certificates.keystore.summary.validTill"),version:i("console:manage.features.certificates.keystore.summary.version")}})))};function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||Qe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){if(e){if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$e(e,t):void 0}}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Ge.defaultProps={"data-testid":"certificate-form-field-modal"};var Ye=function(e){var t=e.certificate,n=e.metadata,o=e.initialValues,i=e.onSubmit,d=e.readOnly,p=e.isLoading,f=e["data-testid"],m=(0,c.$)().t,v=(0,u.I0)(),g=Ke((0,s.useState)(!1),2),h=g[0],E=g[1],S=Ke((0,s.useState)(!1),2),C=S[0],A=S[1],O=Ke((0,s.useState)(void 0),2),w=O[0],I=O[1],R=Ke((0,s.useState)(null),2),L=R[0],k=R[1];(0,s.useEffect)((function(){y.el.PEM===(null==t?void 0:t.type)&&(E(!0),null!=t&&t.value&&I(t.value))}),[t]);var P=function(){if(n){var e=null==n?void 0:n.properties;return e.length>0&&e.sort((function(e,t){return e.displayOrder>t.displayOrder?1:-1})),e.map((function(e){var t=o.properties.find((function(t){return t.key===e.name}));return function(e,t){var n;return(null==e||null===(n=e.availableValues)||void 0===n?void 0:n.length)>0?s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,type:"dropdown",value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:m("console:develop.features.applications.forms.inboundCustom.fields.dropdown.validations.empty",{name:null==e?void 0:e.displayName}),default:null==e?void 0:e.defaultValue,children:M(null==e?void 0:e.availableValues),"data-testid":"".concat(f,"-").concat(null==e?void 0:e.name,"-dropdown")}))):null!=e&&e.isConfidential?s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,hidePassword:m("common:hide")+" "+(null==e?void 0:e.displayName),showPassword:m("common:show")+" "+(null==e?void 0:e.displayName),value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:m("console:develop.features.applications.forms.inboundCustom.fields.password.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:m("console:develop.features.applications.forms.inboundCustom.fields.password.placeholder",{name:null==e?void 0:e.displayName}),type:"password",default:null==e?void 0:e.defaultValue,"data-testid":"".concat(f,"-").concat(null==e?void 0:e.name,"-password-input")}))):(null==e?void 0:e.type)===y.og.BOOLEAN?s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{name:null==e?void 0:e.name,label:"",required:null==e?void 0:e.required,requiredErrorMessage:m("console:develop.features.applications.forms.inboundCustom.fields.checkbox.validations.empty",{user:null==e?void 0:e.displayName}),value:null!=t&&t.value?[e.name]:[],type:"checkbox",children:[{label:e.displayName,value:e.name}],"data-testid":"".concat(f,"-").concat(null==e?void 0:e.name,"-checkbox")}))):s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,required:null==e?void 0:e.required,value:null==t?void 0:t.value,requiredErrorMessage:m("console:develop.features.applications.forms.inboundCustom.fields.generic.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:m("console:develop.features.applications.forms.inboundCustom.fields.generic.placeholder",{name:null==e?void 0:e.displayName}),type:(null==e?void 0:e.type)===y.og.INTEGER?"number":"text","data-testid":"".concat(f,"-").concat(null==e?void 0:e.name,"-input")})))}(e,t)}))}},M=function(e){var t=[];return e&&e.map((function(n){t.push({key:e.indexOf(n),text:n,value:n})})),t},U=function(e){var t,n=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Qe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}(e);try{for(i.s();!(t=i.n()).done;){var a=Ke(t.value,2),r=a[0],l=a[1],s=void 0;s=l instanceof Array?{key:r,value:l.length>0}:{key:r,value:l},n.push(s)}}catch(c){i.e(c)}finally{i.f()}return{general:{advancedConfigurations:{certificate:{type:e.get("type"),value:h?e.get("certificateValue"):e.get("jwksValue")}}},inbound:{configName:null==o?void 0:o.configName,name:null==o?void 0:o.name,properties:[].concat(n)}}};(0,s.useEffect)((function(){n&&P()}),[n]);return s.createElement(qe.Es,{onSubmit:function(e){i(U(e))}},s.createElement(N.Z,null,P(),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(ge.Z,null)),s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},m("console:develop.features.applications.forms.advancedConfig.sections.certificate.heading")),s.createElement(qe.gN,{label:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.label"),name:"type",default:y.el.JWKS,listen:function(e){E("PEM"===e.get("type"))},type:"radio",value:null==t?void 0:t.type,children:[{label:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.jwks.label"),value:y.el.JWKS},{label:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:y.el.PEM}],readOnly:d,"data-testid":"".concat(f,"-certificate-type-radio-group")}))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},h?s.createElement(s.Fragment,null,s.createElement(qe.gN,{name:"certificateValue",label:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.label"),required:!1,requiredErrorMessage:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.validations.empty"),placeholder:b.jo.PEM_CERTIFICATE_PLACEHOLDER,type:"textarea",value:y.el.PEM===(null==t?void 0:t.type)&&(null==t?void 0:t.value),listen:function(e){I(e.get("certificateValue"))},readOnly:d,"data-testid":"".concat(f,"-certificate-textarea")}),s.createElement(l.kW,null,m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.hint")),s.createElement(l.Qj,{className:"certificate-info-link-button",onClick:function(e){var t;e.preventDefault(),h&&w&&((t=Ve.CertificateManagementUtils.canSafelyParseCertificate(w)?Ve.CertificateManagementUtils.displayCertificate(null,w):Fe.lu.DUMMY_DISPLAY_CERTIFICATE)?(k(t),A(!0)):v((0,r.V_)({description:m("console:common.notifications.invalidPEMFile.genericError.description"),level:a.QU.ERROR,message:m("console:common.notifications.invalidPEMFile.genericError.message")})))},disabled:(0,T.Z)(w),"data-testid":"".concat(f,"-certificate-info-button")},m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.actions.view"))):s.createElement(s.Fragment,null,s.createElement(qe.gN,{name:"jwksValue",label:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.label"),required:!1,requiredErrorMessage:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.empty"),placeholder:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.placeholder"),type:"text",validation:function(e,t){Be.I.url(e)||(t.isValid=!1,t.errorMessages.push(m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.invalid")))},value:y.el.JWKS===(null==t?void 0:t.type)&&(null==t?void 0:t.value),readOnly:d,"data-testid":"".concat(f,"-jwks-input")})))),C&&s.createElement(Ge,{open:C,certificate:L,onClose:function(){A(!1)}}),!d&&s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:p,disabled:p},m("common:update"))))))};Ye.defaultProps={"data-testid":"inbound-custom-protocol-form"};var Xe=n(17),Je=n(3271),et=n(28579),tt=n(93092),nt=n(30898);const ot=(0,tt.Z)((function(e){var t=(0,Je.Z)(e,nt.Z);return t.length&&t[0]===e[0]?(0,et.Z)(t):[]}));var it=n(14152),at=n(26324),rt=n(1430),lt=n(93965),st=n(61375),ct=n(41780),ut=n(45690),dt=n(23865),pt=n(20334),ft=n.n(pt);function mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var gt=function(e){var t=e.triggerCertificateUpload,n=e.onSubmit,o=e.setShowFinishButton,i=e["data-testid"],a=mt((0,s.useState)(""),2),r=a[0],l=a[1],c=mt((0,s.useState)(""),2),u=c[0],d=c[1],p=mt((0,s.useState)(""),2),f=p[0],m=p[1],v=mt((0,s.useState)(null),2),h=v[0],b=v[1],y=mt((0,s.useState)(null),2),E=y[0],S=y[1],C=mt((0,s.useState)(""),2),A=C[0],O=C[1];(0,s.useEffect)((function(){""!==A&&n(A)}),[A]);var w=function(e,t,n,o,i,a){l(t),m(n),d(o),b(i),S(a),O(btoa(Ve.CertificateManagementUtils.enclosePem(e.certificate)))};return s.createElement(s.Fragment,null,s.createElement(qe.Es,{"data-testid":"".concat(i,"-form")},s.createElement(N.Z,null,s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(g.e,{submit:w,triggerSubmit:t,pemData:f,nameData:r,fileDecodedData:u,fileData:h,forgeCertificateData:E,"data-testid":"".concat(i,"-upload"),hideAliasInput:!0,setShowFinishButton:o}))))))};gt.defaultProps={"data-testid":"add-application-certificate-form"};var ht=n(4600);function bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Et=function(e){var t=e.closeWizard,n=e.currentStep,o=e.updatePEMValue,i=e["data-testid"],a=(0,c.$)().t,r=bt((0,qe.cC)(),2),u=r[0],d=r[1],p=bt((0,qe.cC)(),2),f=p[0],m=p[1],v=bt((0,s.useState)(void 0),1)[0],g=bt((0,s.useState)(n),2),h=g[0],b=g[1],y=bt((0,s.useState)(!1),2),E=y[0],S=y[1],C=bt((0,l.IK)(),3),A=C[0],O=C[2];(0,s.useEffect)((function(){void 0!==v&&b(h-1)}),[v]);var w=[{content:s.createElement(gt,{triggerCertificateUpload:f,triggerSubmit:u,onSubmit:function(e){!function(e){o(e),t()}(e)},setShowFinishButton:S}),icon:(0,ht.ot)().general,title:a("console:manage.features.certificates.keystore.wizard.steps.upload")}];return s.createElement(z.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",size:"small",onClose:t,"data-testid":i,closeOnDimmerClick:!1,closeOnEscape:!0},s.createElement(z.Z.Header,{className:"wizard-header"},a("console:develop.features.applications.wizards.applicationCertificateWizard.heading"),s.createElement(l.X6,{as:"h6"},a("console:develop.features.applications.wizards.applicationCertificateWizard.subHeading"))),s.createElement(z.Z.Content,{className:"content-container",scrolling:!0},A&&O,w[h].content),s.createElement(z.Z.Actions,null,s.createElement(N.Z,null,s.createElement(N.Z.Row,{column:1},s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(l.Qj,{floated:"left",onClick:function(){return t()},"data-testid":"".concat(i,"-cancel-button")},a("common:cancel"))),s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:8},h===w.length-1&&s.createElement(l.KM,{disabled:!E,floated:"right",onClick:function(){if(0===h)m(),d()},"data-testid":"".concat(i,"-finish-button")},a("common:finish")))))))};function St(e){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(e)}function Ct(){Ct=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),r=new A(o||[]);return a._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return w()}for(n.method=i,n.arg=a;;){var r=n.delegate;if(r){var l=E(r,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=c(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var u={};function d(){}function p(){}function f(){}var m={};l(m,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==t&&n.call(g,i)&&(m=g);var h=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function o(i,a,r,l){var s=c(e[i],e,a);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==St(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,r,l)}),(function(e){o("throw",e,r,l)})):t.resolve(d).then((function(e){u.value=e,r(u)}),(function(e){return o("throw",e,r,l)}))}l(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){o(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var o=c(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,u;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=f,l(h,"constructor",f),l(f,"constructor",p),p.displayName=l(f,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,r,"GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,o,i,a){void 0===a&&(a=Promise);var r=new y(s(t,n,o,i),a);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},b(h),l(h,r,"Generator"),l(h,i,(function(){return this})),l(h,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],r=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function It(e,t,n,o,i,a,r){try{var l=e[a](r),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(o,i)}function Tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Et.defaultProps={currentStep:0,"data-testid":"add-application-certificate-wizard"};var Lt=function(e){var t=e.deleteAllowed,n=e.reasonInsideTooltipWhyDeleteIsNotAllowed,o=e.onUpdate,i=e.application,d=e.applicationCertificate,p=e.updatePEMValue,m=e["data-testid"],v=(0,c.$)().t,b=(0,u.I0)(),E=Tt((0,s.useState)(null),2),S=E[0],C=E[1],A=Tt((0,s.useState)(!1),2),O=A[0],w=A[1],I=Tt((0,s.useState)(null),2),T=I[0],R=I[1],L=Tt((0,s.useState)(!1),2),k=L[0],P=L[1],M=Tt((0,s.useState)(!1),2),U=M[0],x=M[1],D=Tt((0,s.useState)(!1),2),Z=D[0],_=D[1];(0,s.useEffect)((function(){if(d){var e=[];Ve.CertificateManagementUtils.canSafelyParseCertificate(d)?null==e||e.push(Ve.CertificateManagementUtils.displayCertificate(null,d)):null==e||e.push(Fe.lu.DUMMY_DISPLAY_CERTIFICATE),C(e)}}),[d]),(0,s.useEffect)((function(){T&&w(!0)}),[T]),(0,s.useEffect)((function(){O||R(null)}),[O]);var F=function(e){R(e)},V=function(){var e,t=(e=Ct().mark((function e(){var t;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),p(""),C(null),e.prev=4,t={general:{advancedConfigurations:{certificate:{type:y.el.PEM,value:""}}}},e.next=8,(0,h.hN)(Ot({id:null==i?void 0:i.id},t.general));case 8:b((0,r.V_)({description:v("console:develop.features.applications.notifications.deleteCertificateSuccess.description"),level:a.QU.SUCCESS,message:v("console:develop.features.applications.notifications.deleteCertificateSuccess.message")})),e.next=17;break;case 11:if(e.prev=11,e.t0=e.catch(4),!(e.t0.response&&e.t0.response.data&&e.t0.response.data.description)){e.next=16;break}return b((0,r.V_)({description:e.t0.response.data.description,level:a.QU.ERROR,message:e.t0.response.data.message})),e.abrupt("return");case 16:b((0,r.V_)({description:v("console:develop.features.applications.notifications.deleteCertificateGenericError.description"),level:a.QU.ERROR,message:v("console:develop.features.applications.notifications.deleteCertificateGenericError.message")}));case 17:return e.prev=17,x(!1),_(!1),o(i.id),e.finish(17);case 22:case"end":return e.stop()}}),e,null,[[4,11,17,22]])})),function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){It(a,o,i,r,l,"next",e)}function l(e){It(a,o,i,r,l,"throw",e)}r(void 0)}))});return function(){return t.apply(this,arguments)}}(),q=s.createElement(l.cV,{onClose:function(){return x(!1)},onSecondaryActionClick:function(){return x(!1)},primaryActionLoading:Z,onPrimaryActionClick:V,open:U,type:"negative",primaryAction:v("console:develop.features.applications.confirmations.certificateDelete.primaryAction"),secondaryAction:v("console:develop.features.applications.confirmations.certificateDelete.secondaryAction"),"data-testid":"".concat(m,"-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(m,"-delete-confirmation-modal-header")},v("console:develop.features.applications.confirmations.certificateDelete.header")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(m,"-delete-confirmation-modal-message")},v("console:develop.features.applications.confirmations.certificateDelete.message"))),B=function(e,t,n){var o,i,r=ft()(t);switch(Ve.CertificateManagementUtils.determineCertificateValidityState({from:e,to:t})){case a.WE.VALID:o="check circle",i="green";break;case a.WE.WILL_EXPIRE_SOON:o="exclamation circle",i="yellow";break;default:o="times circle",i="red"}return s.createElement(s.Fragment,null,n+Fe.lu.SPACE_CHARACTER,s.createElement(l.GI,{trigger:s.createElement(f.Z,{name:o,color:i}),content:"Expiry date: "+r.format("DD/MM/YYYY"),inverted:!0,position:"top left",size:"mini"}))},H=function(e){return s.createElement(l.Yt,{name:null!=e&&e.infoUnavailable?Fe.lu.QUESTION_MARK:Ve.CertificateManagementUtils.searchIssuerDNAlias(null==e?void 0:e.issuerDN),size:"mini",floated:"left"})},z=function(e){return s.createElement("span",{className:"with-muted-list-item-header"},"Unable to visualize the certificate details\xa0",s.createElement(l.GI,{trigger:s.createElement(f.Z,{onClick:function(){return F(e)},name:"info circle",color:"grey"}),content:"Click for more info",inverted:!0,position:"top left",size:"mini"}))};return s.createElement(qe.Es,null,S?s.createElement(N.Z,null,s.createElement(N.Z.Row,null,s.createElement(N.Z.Column,{width:16},s.createElement(ge.Z,{hidden:!0}),s.createElement(l.Db,{fill:!0,relaxed:!1,className:"application-list",loadingStateOptions:{count:g.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"circular"}},null==S?void 0:S.map((function(e,o){return s.createElement(l.zA,{key:o,actionsColumnWidth:3,descriptionColumnWidth:9,actions:[{"data-testid":"".concat(m,"-edit-cert-").concat(o,"-button"),icon:"pencil",onClick:function(){return P(!0)},popupText:"Change certificate",type:"button"},{"data-testid":"".concat(m,"-edit-cert-").concat(o,"-button"),disabled:null==e?void 0:e.infoUnavailable,hidden:null==e?void 0:e.infoUnavailable,icon:"eye",onClick:function(){return F(e)},popupText:"View certificate",type:"button"},{"data-testid":"".concat(m,"-delete-cert-").concat(o,"-button"),disabled:!t,icon:"trash alternate",onClick:function(){return x(!0)},popupText:t?v("console:manage.features.users.usersList.list.iconPopups.delete"):n,type:"button"}],actionsFloated:"right",avatar:H(e),itemHeader:null!=e&&e.infoUnavailable?z(e):B(e.validFrom,e.validTill,Ve.CertificateManagementUtils.searchIssuerDNAlias(null==e?void 0:e.issuerDN)),itemDescription:null!=e&&e.infoUnavailable?null:Ve.CertificateManagementUtils.getValidityPeriodInHumanReadableFormat(e.validFrom,e.validTill)})})))))):s.createElement(N.Z,null,s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{width:16},s.createElement(ge.Z,{hidden:!0}),s.createElement(j.Z,null,s.createElement(l.$J,{title:v("console:develop.features.applications.wizards.applicationCertificateWizard.emptyPlaceHolder.title"),image:(0,g.jF)().emptyList,subtitle:[v("console:develop.features.applications.wizards.applicationCertificateWizard.emptyPlaceHolder.description1"),v("console:develop.features.applications.wizards.applicationCertificateWizard.emptyPlaceHolder.description2")],imageSize:"tiny",action:s.createElement(l.KM,{onClick:function(){return P(!0)},"data-testid":"".concat(m,"-emptyPlaceholder-add-certificate-button"),type:"button"},s.createElement(f.Z,{name:"add"}),v("console:develop.features.authenticationProvider.buttons.addCertificate")),"data-testid":"".concat(m,"-empty-placeholder")})),s.createElement(ge.Z,{hidden:!0})))),k&&s.createElement(Et,{closeWizard:function(){return P(!1)},updatePEMValue:p,"data-testid":"".concat(m,"-add-certificate-wizard")}),q,O&&s.createElement(Ge,{open:O,certificate:T,onClose:function(){return w(!1)}}))};function Nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Lt.defaultProps={"data-testid":"application-certificate-list",deleteAllowed:!0,reasonInsideTooltipWhyDeleteIsNotAllowed:null};var Pt=function(e){var t=e.protocol,n=e.deleteAllowed,o=e.reasonInsideTooltipWhyDeleteIsNotAllowed,i=e.onUpdate,d=e.application,p=e.certificate,f=e.triggerSubmit,v=e.hidden,g=e.hideJWKS,h=e.readOnly,b=e.updateCertFinalValue,E=e.updateCertType,S=e.canDiscardCertificate,C=e["data-testid"],A=(0,c.$)().t,O=(0,u.I0)(),w=Nt((0,s.useState)(!1),2),I=w[0],R=w[1],L=Nt((0,s.useState)(y.el.NONE),2),k=L[0],P=L[1],M=Nt((0,s.useState)(void 0),2),x=M[0],D=M[1],Z=Nt((0,s.useState)(void 0),2),_=Z[0],j=Z[1],F=Nt((0,s.useState)(!1),2),V=F[0],q=F[1],B=Nt((0,s.useState)(!1),2),H=B[0],z=B[1];(0,s.useEffect)((function(){null!=p&&p.type&&P(null==p?void 0:p.type)}),[p]),(0,s.useEffect)((function(){y.el.PEM===k?(b(x),(0,T.Z)(x)||R(!1)):y.el.JWKS===k&&b(_)}),[x,_]),(0,s.useEffect)((function(){y.el.PEM===(null==p?void 0:p.type)?null!=p&&p.value&&D(p.value):y.el.JWKS===(null==p?void 0:p.type)&&null!=p&&p.value&&j(p.value)}),[p]),(0,s.useEffect)((function(){W(k),y.el.PEM===k?j(""):y.el.JWKS===k&&D("")}),[k]);var W=function(e){e!==y.el.PEM||(0,T.Z)(_)?e!==y.el.JWKS||(0,T.Z)(x)||O((0,r.V_)({description:A("console:develop.features.authenticationProvider.notifications.changeCertType.jwks.description"),level:a.QU.WARNING,message:A("console:develop.features.authenticationProvider.notifications.changeCertType.jwks.message")})):O((0,r.V_)({description:A("console:develop.features.authenticationProvider.notifications.changeCertType.pem.description"),level:a.QU.WARNING,message:A("console:develop.features.authenticationProvider.notifications.changeCertType.pem.message")})),k===y.el.NONE&&p?z(!0):z(!1),E(e)};return v?null:s.createElement(qe.Es,{onSubmit:function(){W(k),k===y.el.PEM&&(0,T.Z)(x)&&R(!0)},submitState:f},s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(ge.Z,null)),s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},A("console:develop.features.applications.forms.advancedConfig.sections.certificate.heading")),s.createElement(qe.gN,{label:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.label"),name:"certificateType",default:y.el.NONE,listen:function(e){P(e.get("certificateType")),W(e.get("certificateType"))},onBefore:function(e,t){var n=t;return!(y.el.NONE===n&&S&&!S())||(q(!0),!1)},type:"radio",value:null==p?void 0:p.type,children:g?[{label:"None",value:y.el.NONE},{hint:{content:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.description"),header:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label")},label:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:y.el.PEM}]:[{label:"None",value:y.el.NONE},{hint:{content:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.description"),header:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.jwks.label")},label:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.jwks.label"),value:y.el.JWKS},{hint:{content:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.description"),header:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label")},label:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:y.el.PEM}],readOnly:h,"data-testid":"".concat(C,"-certificate-type-radio-group")}),H&&s.createElement(l.v0,{"data-componentid":"application-certificate-removal-warning-message",type:"warning",header:"Warning",content:s.createElement(s.Fragment,null,A("console:develop.features.applications.forms.inboundSAML.sections.certificates.certificateRemoveConfirmation.content"))}))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},k===y.el.PEM&&s.createElement(Lt,{deleteAllowed:n,reasonInsideTooltipWhyDeleteIsNotAllowed:o,onUpdate:i,application:d,updatePEMValue:function(e){D(e)},applicationCertificate:x}),k===y.el.JWKS&&!g&&s.createElement(qe.gN,{name:"jwksValue",displayErrorOn:"blur",label:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.label"),required:y.el.JWKS===k,requiredErrorMessage:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.empty"),placeholder:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.placeholder"),type:"text",validation:function(e,t){Be.I.url(e)||(t.isValid=!1,t.errorMessages.push(A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.invalid"))),null!==m.commonConfig&&void 0!==m.commonConfig&&m.commonConfig.blockLoopBackCalls&&Ve.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(A("console:develop.features.idp.forms.common.internetResolvableErrorMessage")))},listen:function(e){j(e.get("jwksValue"))},value:y.el.JWKS===(null==p?void 0:p.type)&&(null==p?void 0:p.value),readOnly:h,"data-testid":"".concat(C,"-jwks-input")}),I&&(0,T.Z)(x)&&y.el.PEM===k&&s.createElement(l.v0,{type:"error","data-testid":"".concat(C,"-error-message"),content:A("console:manage.features.certificates.keystore.errorEmpty")}),t&&s.createElement(l.kW,null,function(e){switch(e){case y.AI.OAUTH2_OIDC:case y.AI.OIDC:return s.createElement(U.c,{i18nKey:"console:develop.features.applications.forms.advancedConfig.sections.certificate.hint.customOidc"},"This certificate is used to encrypt the ",s.createElement(l.EK,null,"id_token"),"returned after the authentication.");case y.AI.SAML:return A("console:develop.features.applications.forms.advancedConfig.sections.certificate.hint.customSaml");default:return null}}(t)))),V&&s.createElement(l.cV,{onClose:function(){return q(!1)},type:"negative",open:V,primaryAction:A("common:okay"),onPrimaryActionClick:function(){q(!1)},closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(C,"-invalid-operation-modal-header")},A("console:develop.features.applications.forms.advancedConfig.sections.certificate.invalidOperationModal.header")),s.createElement(l.cV.Content,{"data-testid":"".concat(C,"-invalid-operation-modal-content")},A("console:develop.features.applications.forms.advancedConfig.sections.certificate.invalidOperationModal.message"))))};function Mt(e){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt(e)}function Ut(){Ut=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),r=new A(o||[]);return a._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return w()}for(n.method=i,n.arg=a;;){var r=n.delegate;if(r){var l=E(r,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=c(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var u={};function d(){}function p(){}function f(){}var m={};l(m,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==t&&n.call(g,i)&&(m=g);var h=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function o(i,a,r,l){var s=c(e[i],e,a);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==Mt(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,r,l)}),(function(e){o("throw",e,r,l)})):t.resolve(d).then((function(e){u.value=e,r(u)}),(function(e){return o("throw",e,r,l)}))}l(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){o(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var o=c(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,u;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=f,l(h,"constructor",f),l(f,"constructor",p),p.displayName=l(f,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,r,"GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,o,i,a){void 0===a&&(a=Promise);var r=new y(s(t,n,o,i),a);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},b(h),l(h,r,"Generator"),l(h,i,(function(){return this})),l(h,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],r=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function xt(e,t,n,o,i,a,r){try{var l=e[a](r),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(o,i)}function Dt(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){xt(a,o,i,r,l,"next",e)}function l(e){xt(a,o,i,r,l,"throw",e)}r(void 0)}))}}function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e){return function(e){if(Array.isArray(e))return Bt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||qt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(e,t){if(e){if("string"==typeof e)return Bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bt(e,t):void 0}}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Pt.defaultProps={"data-testid":"application-certificate-wrapper",deleteAllowed:!0,hidden:!1,hideJWKS:!1,isRequired:!1,protocol:null,reasonInsideTooltipWhyDeleteIsNotAllowed:null};var Ht=function(e){var t=e.onUpdate,n=e.application,o=e.certificate,i=e.metadata,a=e.initialValues,r=e.onSubmit,d=e.onApplicationRegenerate,f=e.onApplicationRevoke,v=e.readOnly,g=e.allowedOriginList,h=e.tenantDomain,S=e.template,C=e.isLoading,A=e.setIsLoading,O=e.containerRef,w=e["data-testid"],I=(0,c.$)().t,R=(0,u.v9)((function(e){return e.config.ui.isClientSecretHashEnabled})),k=(0,u.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),P=Vt((0,s.useState)(!1),2),x=P[0],D=P[1],Z=Vt((0,s.useState)(""),2),j=Z[0],F=Z[1],V=Vt((0,s.useState)(""),2),q=V[0],B=V[1],H=Vt((0,s.useState)(!1),2),z=H[0],W=H[1],G=Vt((0,s.useState)(!1),2),K=G[0],Q=G[1],$=Vt((0,s.useState)(!1),2),Y=$[0],X=$[1],J=Vt((0,s.useState)(void 0),2),ee=J[0],te=J[1],ne=Vt((0,s.useState)(void 0),2),oe=ne[0],ie=ne[1],ae=Vt((0,s.useState)(!1),2),re=ae[0],le=ae[1],se=Vt((0,s.useState)(void 0),2),ce=se[0],ue=se[1],de=Vt((0,s.useState)(!1),2),pe=de[0],fe=de[1],me=Vt((0,s.useState)(!1),2),ve=me[0],he=me[1],be=Vt((0,s.useState)(!1),2),ye=be[0],Ee=be[1],Se=Vt((0,s.useState)(!1),2),Ce=Se[0],Ae=Se[1],Oe=Vt((0,s.useState)(!1),2),we=Oe[0],Ie=Oe[1],Te=Vt((0,s.useState)(null),2),Re=Te[0],Le=Te[1],Ne=Vt((0,s.useState)(""),2),ke=Ne[0],Pe=Ne[1],Me=Vt((0,s.useState)(!1),2),Ue=Me[0],xe=Me[1],De=Vt((0,s.useState)(null),2),Ze=De[0],_e=De[1],je=Vt((0,s.useState)(null),2),Fe=je[0],He=je[1],ze=Vt((0,s.useState)(!1),2)[1],We=Vt((0,s.useState)(void 0),2)[1],Ge=Vt((0,s.useState)(!1),2),Ke=Ge[0],Qe=Ge[1],$e=(0,u.v9)((function(e){return e.config})),Ye=(0,s.useRef)(),Je=(0,s.useRef)(),et=(0,s.useRef)(),tt=(0,s.useRef)(),nt=(0,s.useRef)(),pt=(0,s.useRef)(),ft=(0,s.useRef)(),mt=(0,s.useRef)(),vt=(0,s.useRef)(),gt=(0,s.useRef)(),ht=(0,s.useRef)(),bt=(0,s.useRef)(),yt=(0,s.useRef)(),Et=(0,s.useRef)(),St=(0,s.useRef)(),Ct=(0,s.useRef)(),At=(0,s.useRef)(),Ot=(0,s.useRef)(),wt=(0,s.useRef)(),It=(0,s.useRef)(),Tt=(0,s.useRef)(),Rt=(0,s.useRef)(),Lt=(0,s.useRef)(),Nt=(0,s.useRef)(),kt=(0,s.useRef)(),Mt=Vt((0,s.useState)(!1),2),xt=Mt[0],Zt=Mt[1],jt=Vt((0,s.useState)(!1),2),Bt=jt[0],Ht=jt[1],zt=Vt((0,s.useState)(!1),2),Wt=zt[0],Gt=zt[1],Kt=Vt((0,s.useState)(!1),2),Qt=Kt[0],$t=Kt[1],Yt=Vt((0,s.useState)(void 0),2),Xt=Yt[0],Jt=Yt[1],en=Vt((0,s.useState)(y.el.NONE),2),tn=en[0],nn=en[1],on=Vt((0,s.useState)(!1),2),an=on[0],rn=on[1],ln=Vt((0,qe.cC)(),2),sn=ln[0],cn=ln[1],un=function(){var e,t;!1===(null==a||null===(e=a.idToken)||void 0===e||null===(t=e.encryption)||void 0===t?void 0:t.enabled)&&(a.idToken.encryption={algorithm:"",enabled:!1,method:""})};un();var dn=Vt((0,s.useState)(!1),2),pn=dn[0],fn=dn[1],mn="PKCE",vn="mandatory",gn="supportPlainTransformAlgorithm",hn=function(e){e.has(mn)&&(e.get(mn).find((function(e){return e===vn}))?fn(!0):(e.set(mn,[]),fn(!1)))};(0,s.useEffect)((function(){null!=S&&S.id&&null!=dt&&dt.id?(S.id==dt.id&&Zt(!0),A(!1)):A(!1)}),[S]),(0,s.useEffect)((function(){null!=S&&S.id&&null!=ut&&ut.id&&S.id==ut.id&&Ht(!0)}),[S]),(0,s.useEffect)((function(){null!=S&&S.id&&null!=ct&&ct.id?((null==S?void 0:S.id)==(null==ct?void 0:ct.id)&&Gt(!0),A(!1)):A(!1)}),[S]),(0,s.useEffect)((function(){null!=ce&&ce.includes("authorization_code")||null!=ce&&ce.includes("implicit")?ie(!0):ie(!1),!ot(b.jo.IS_REFRESH_TOKEN_GRANT_TYPE_ALLOWED,ce).length&&null!=ce&&ce.includes("refresh_token")?Qe(!0):Qe(!1)}),[ce,pe]),(0,s.useEffect)((function(){te(!1),null!=ce&&ce.includes(b.jo.AUTHORIZATION_CODE_GRANT)&&te(!0)}),[ce,pe]),(0,s.useEffect)((function(){le(!1),bn(ce)&&le(!0)}),[ce,pe]);var bn=function(e){return!!(0===(null==e?void 0:e.length)||null!=e&&e.includes("implicit")&&1===(null==e?void 0:e.length))||(!(null==e||!e.includes("implicit")||null==e||!e.includes("refresh_token")||2!==(null==e?void 0:e.length))||(null==e?void 0:e.includes("refresh_token"))&&1===(null==e?void 0:e.length))};(0,s.useEffect)((function(){void 0===ce&&(null!=a&&a.grantTypes&&ue(Ft(null==a?void 0:a.grantTypes)),null!=a&&a.allowedOrigins&&Pe(null==a?void 0:a.allowedOrigins.toString()))}),[a]),(0,s.useEffect)((function(){null!=o&&o.type&&nn(null==o?void 0:o.type)}),[o]),(0,s.useEffect)((function(){var e,t;null!=a&&a.accessToken&&!(0,T.Z)(a.accessToken)&&(null!=a&&null!==(e=a.accessToken)&&void 0!==e&&e.bindingType?(null==a||null===(t=a.accessToken)||void 0===t?void 0:t.bindingType)!==(null===y.ti||void 0===y.ti?void 0:y.ti.NONE)&&xe(!0):xe(!1))}),[null==a?void 0:a.accessToken]),(0,s.useEffect)((function(){y.el.PEM===(null==o?void 0:o.type)&&(ze(!0),null!=o&&o.value&&We(o.value))}),[o]),(0,s.useEffect)((function(){(0,T.Z)(Xt)||tn===y.el.NONE?rn(!1):rn(!0)}),[Xt,tn]);var yn=function(e){switch(e.toLowerCase()){case"none":return I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.none",{productName:$e.ui.productName});case"cookie":return I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.cookie");case"sso-session":return I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.sso_session",{productName:$e.ui.productName});case"default":return I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.type.valueDescriptions.default");case"jwt":return I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.type.valueDescriptions.jwt");default:return}},En=function(e){return"sso-session"===e.toLowerCase()?I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.children.ssoBinding.label"):e},Sn=function(e,t){var n=[];return e&&(t?e.options.map((function(e){n.push({hint:{content:yn(e)},label:En(e),value:e})})):e.options.map((function(e){n.push({text:e,value:e})}))),t?n.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0})):n},Cn=function(e,t){var n=[];return e&&e.options.map((function(e){if("Default"!==e||t){if((xt||Bt)&&t&&"cookie"===e)return!1;n.push({hint:{content:yn(e)},label:En(e),value:e})}else n.push({hint:{content:yn(e)},label:"Opaque",value:e})})),n.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0}))},An=function(e){var t=[];if(e&&e.options.map((function(e){var n=e.name,o=e.displayName;if(!b.jo.HIDDEN_GRANT_TYPES.includes(n)&&(n!==b.jo.ORGANIZATION_SWITCH_GRANT||isOrganizationManagementEnabled&&k!==rt.$B.TENANT)&&(!(S&&S.id&&(0,Xe.Z)(b.jo.TEMPLATE_WISE_ALLOWED_GRANT_TYPES,S.id))||b.jo.TEMPLATE_WISE_ALLOWED_GRANT_TYPES[S.id].includes(n))){var i,a,r={label:(i=n,a=o,i===b.jo.IMPLICIT_GRANT||i===b.jo.PASSWORD||i===b.jo.CLIENT_CREDENTIALS_GRANT?s.createElement(s.Fragment,null,s.createElement("label",null,a,s.createElement(l.dn,{icon:(0,lt.s_)().warning,defaultIcon:!0,colored:!0,transparent:!0,spaced:"left",floated:"right"}))):a),value:n},c=function(e){switch(e){case b.jo.IMPLICIT_GRANT:return I("console:develop.features.applications.forms.inboundOIDC.fields.grant.children.implicit.hint");case b.jo.PASSWORD:return I("console:develop.features.applications.forms.inboundOIDC.fields.grant.children.password.hint");case b.jo.CLIENT_CREDENTIALS_GRANT:return I("console:develop.features.applications.forms.inboundOIDC.fields.grant.children.client_credential.hint");case b.jo.REFRESH_TOKEN_GRANT:return I("console:develop.features.applications.forms.inboundOIDC.fields.grant.validation.refreshToken");default:return null}}(n);c&&(r.hint={content:c,header:""}),re&&"refresh_token"===r.value&&(r.disabled=!0),t.push(r)}})),S&&S.id){var n=b.jo.TEMPLATE_WISE_ALLOWED_GRANT_TYPE_ARRANGE_ORDER[S.id];if(n&&n.size===t.length){var o,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=qt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}(t);try{for(i.s();!(o=i.n()).done;){var a=o.value,r=n.get(a.value);a.index=null!=r?r:1/0}}catch(u){i.e(u)}finally{i.f()}t.sort((function(e,t){return e.index-t.index}))}}if(m.applicationConfig.inboundOIDCForm.disabledGrantTypes&&m.applicationConfig.inboundOIDCForm.disabledGrantTypes[S.id]){var c=m.applicationConfig.inboundOIDCForm.disabledGrantTypes[S.id];return t.filter((function(e){return!c.includes(e.value)}))}return t},On=function(e){var t;return e.get("RevokeAccessToken")?(null===(t=e.get("RevokeAccessToken"))||void 0===t?void 0:t.length)>0:e.get("bindingType")!==y.ti.NONE},wn=function(e,t,n){var r,l,s,c,u,d,p={accessToken:{applicationAccessTokenExpiryInSeconds:e.get("applicationAccessTokenExpiryInSeconds")?Number(e.get("applicationAccessTokenExpiryInSeconds")):Number(i.defaultApplicationAccessTokenExpiryTime),bindingType:e.get("bindingType"),revokeTokensWhenIDPSessionTerminated:(null===(r=e.get("RevokeAccessToken"))||void 0===r?void 0:r.length)>0,type:e.get("type"),userAccessTokenExpiryInSeconds:Number(e.get("userAccessTokenExpiryInSeconds")),validateTokenBinding:(null===(l=e.get("ValidateTokenBinding"))||void 0===l?void 0:l.length)>0},grantTypes:e.get("grant"),idToken:{audience:""!==q?q.split(","):[],encryption:{algorithm:x&&an?e.get("algorithm"):i.idTokenEncryptionAlgorithm.defaultValue,enabled:an&&(null===(s=e.get("encryption"))||void 0===s?void 0:s.includes("enableEncryption")),method:x&&an?e.get("method"):i.idTokenEncryptionMethod.defaultValue},expiryInSeconds:Number(e.get("idExpiryInSeconds"))},logout:{backChannelLogoutUrl:e.get("backChannelLogoutUrl"),frontChannelLogoutUrl:e.get("frontChannelLogoutUrl")},publicClient:(null===(c=e.get("supportPublicClients"))||void 0===c?void 0:c.length)>0,refreshToken:{expiryInSeconds:e.get("expiryInSeconds")?parseInt(e.get("expiryInSeconds"),10):Number(i.defaultRefreshTokenExpiryTime),renewRefreshToken:(null===(u=e.get("RefreshToken"))||void 0===u?void 0:u.length)>0},scopeValidators:e.get("scopeValidator"),validateRequestObjectSignature:(null===(d=e.get("enableRequestObjectSignatureValidation"))||void 0===d?void 0:d.length)>0};!m.applicationConfig.inboundOIDCForm.showFrontChannelLogout&&delete p.logout.frontChannelLogoutUrl,!m.applicationConfig.inboundOIDCForm.showScopeValidators&&delete p.scopeValidators,!m.applicationConfig.inboundOIDCForm.showIdTokenEncryption&&delete p.idToken.encryption,!m.applicationConfig.inboundOIDCForm.showBackChannelLogout&&delete p.logout.backChannelLogoutUrl,!m.applicationConfig.inboundOIDCForm.showRequestObjectSignatureValidation&&delete p.validateRequestObjectSignature,p=_t(_t({},p),{},oe?{allowedOrigins:E.yf.resolveAllowedOrigins(n||ke),callbackURLs:[E.yf.buildCallBackUrlWithRegExp(t||j)]}:{allowedOrigins:[],callbackURLs:[]}),p=_t(_t({},p),{},ee?{pkce:{mandatory:e.get("PKCE").includes("mandatory"),supportPlainTransformAlgorithm:!!e.get("PKCE").includes("supportPlainTransformAlgorithm")}}:{pkce:{mandatory:!1,supportPlainTransformAlgorithm:!1}}),null!=a&&a.clientId&&null!=a&&a.clientSecret&&(p=_t(_t({},p),{},{clientId:null==a?void 0:a.clientId,clientSecret:null==a?void 0:a.clientSecret}));var f={general:{advancedConfigurations:{certificate:{type:tn!==y.el.NONE?tn:null==o?void 0:o.type,value:tn!==y.el.NONE?Xt:""}}},inbound:_t({},p)};return!m.applicationConfig.inboundOIDCForm.showCertificates&&delete f.general.advancedConfigurations.certificate,f},In=function(e,t,n){var o,r={accessToken:{applicationAccessTokenExpiryInSeconds:Number(i.defaultApplicationAccessTokenExpiryTime),bindingType:e.get("bindingType"),revokeTokensWhenIDPSessionTerminated:On(e),type:e.get("type"),userAccessTokenExpiryInSeconds:Number(e.get("userAccessTokenExpiryInSeconds"))},grantTypes:e.get("grant"),idToken:{audience:""!==q?q.split(","):[],expiryInSeconds:Number(e.get("idExpiryInSeconds"))},publicClient:!0,refreshToken:{expiryInSeconds:e.get("expiryInSeconds")?parseInt(e.get("expiryInSeconds"),10):Number(i.defaultRefreshTokenExpiryTime),renewRefreshToken:(null===(o=e.get("RefreshToken"))||void 0===o?void 0:o.length)>0}};return r=_t(_t({},r),{},oe?{allowedOrigins:E.yf.resolveAllowedOrigins(n||ke),callbackURLs:[E.yf.buildCallBackUrlWithRegExp(t||j)]}:{allowedOrigins:[],callbackURLs:[]}),r=_t(_t({},r),{},ee?{pkce:{mandatory:e.get("PKCE").includes("mandatory"),supportPlainTransformAlgorithm:!!e.get("PKCE").includes("supportPlainTransformAlgorithm")}}:{pkce:{mandatory:!1,supportPlainTransformAlgorithm:!1}}),m.applicationConfig.inboundOIDCForm.showScopeValidators&&(r=_t(_t({},r),{},{scopeValidators:e.get("scopeValidator")})),null!=a&&a.clientId&&null!=a&&a.clientSecret?{inbound:_t(_t({},r),{},{clientId:null==a?void 0:a.clientId,clientSecret:null==a?void 0:a.clientSecret})}:r};(0,s.useEffect)((function(){var e,t;null!=a&&null!==(e=a.idToken)&&void 0!==e&&e.encryption&&D(null===(t=a.idToken.encryption)||void 0===t?void 0:t.enabled)}),[a]);var Tn,Rn,Ln,Nn,kn,Pn,Mn,Un,xn,Dn,Zn,_n,jn,Fn,Vn,qn,Bn,Hn,zn,Wn=function(e){var t=ke;Pe(t=""!==t?t+","+e:e)},Gn=function(e){var t={behavior:"smooth",block:"center"};switch(e){case"clientSecret":Ye.current.scrollIntoView(t);break;case"grant":Je.current.scrollIntoView(t);break;case"url":et.current.scrollIntoView(t);break;case"allowedOrigin":tt.current.scrollIntoView(t);break;case"supportPublicClients":nt.current.scrollIntoView(t);break;case"pkce":pt.current.scrollIntoView(t);break;case"bindingType":ft.current.scrollIntoView(t);break;case"type":mt.current.scrollIntoView(t);break;case"validateTokenBinding":vt.current.scrollIntoView(t);break;case"revokeAccessToken":gt.current.scrollIntoView(t);break;case"userAccessTokenExpiryInSeconds":ht.current.scrollIntoView(t);break;case"refreshToken":yt.current.scrollIntoView(t);break;case"expiryInSeconds":Et.current.scrollIntoView(t);break;case"audience":St.current.scrollIntoView(t);break;case"encryption":Ct.current.scrollIntoView(t);break;case"algorithm":At.current.scrollIntoView(t);break;case"method":Ot.current.scrollIntoView(t);break;case"idExpiryInSeconds":wt.current.scrollIntoView(t);break;case"backChannelLogoutUrl":It.current.scrollIntoView(t);break;case"frontChannelLogoutUrl":Tt.current.scrollIntoView(t);break;case"enableRequestObjectSignatureValidation":Rt.current.scrollIntoView(t);break;case"scopeValidator":Lt.current.scrollIntoView(t)}},Kn=function(e){var t=Math.floor(Number(e.toString()));return t!==1/0&&String(t)===e&&t>0},Qn=function(e,t,n){var o=parseInt(e.get("userAccessTokenExpiryInSeconds"),10)<60,i=parseInt(e.get("expiryInSeconds"),10)<60,a=parseInt(e.get("idExpiryInSeconds"),10)<60;return o||i||a?(Ie(!0),Le(s.createElement(l.cV,{onClose:function(){return Ie(!1)},type:"warning",open:!0,skipAssertion:!0,primaryAction:I("common:confirm"),secondaryAction:I("common:cancel"),onSecondaryActionClick:function(){return Ie(!1)},onPrimaryActionClick:function(){r(xt?In(e,t,n):wn(e,t,n)),Ie(!1)},"data-testid":"".concat(w,"-low-expiry-times-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(w,"-low-expiry-times-confirmation-modal-header")},I("console:develop.features.applications.confirmations.lowOIDCExpiryTimes.header")),s.createElement(l.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(w,"-low-expiry-times-confirmation-modal-message")},I("console:develop.features.applications.confirmations.lowOIDCExpiryTimes.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(w,"-low-expiry-times-confirmation-modal-content")},s.createElement(l.xv,null,I("console:develop.features.applications.confirmations.lowOIDCExpiryTimes.content")),s.createElement(it.Z,{bulleted:!0},o&&s.createElement(it.Z.Item,null,I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.label")),i&&s.createElement(it.Z.Item,null,I("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.label")),a&&s.createElement(it.Z.Item,null,I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.label"))),s.createElement(l.xv,null,I("console:develop.features.applications.confirmations.lowOIDCExpiryTimes.assertionHint"))))),!0):(Ie(!1),Le(null),!1)};return!C&&i?s.createElement(s.Fragment,null,s.createElement(qe.Es,{onSubmit:function(e){cn(),!xt&&m.applicationConfig.inboundOIDCForm.showCertificates&&tn!==y.el.NONE&&(0,T.Z)(Xt)||(oe?Tn((function(t){(0,T.Z)(j)&&(0,T.Z)(t)?(W(!0),Gn("url")):Rn((function(n){Qn(e,t,n)||r(xt?In(e,t,n):wn(e,t,n))}))})):(Qn(e,void 0,void 0)||r(wn(e,void 0,void 0)),A(!1)))},onSubmitError:function(e,t){for(var n=e.entries(),o=n.next();!o.done;){if(!o.value[1]||!t.get(o.value[0]).isValid){Gn(o.value[0]);break}o=n.next()}},onStaleChange:function(e){$t(e)},ref:Nt},s.createElement(N.Z,null,(null==a?void 0:a.state)===y.ZM.REVOKED&&s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.v0,{type:"warning",visible:!0,header:I("console:develop.features.applications.forms.inboundOIDC.messages.revokeDisclaimer.heading"),content:I("console:develop.features.applications.forms.inboundOIDC.messages.revokeDisclaimer.content")}))),(null==a?void 0:a.clientId)&&s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(L.Z.Field,null,s.createElement("label",null,I("console:develop.features.applications.forms.inboundOIDC.fields.clientID.label")),s.createElement("div",{className:"display-flex"},s.createElement(l.OR,{value:null==a?void 0:a.clientId,"data-testid":"".concat(w,"-client-id-readonly-input")}))),m.applicationConfig.inboundOIDCForm.showNativeClientSecretMessage&&(null==a?void 0:a.state)!==y.ZM.REVOKED&&xt?s.createElement(l.v0,{type:"info",content:s.createElement(U.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.fields.clientSecret.message",values:{productName:$e.ui.productName}},"productName does not issue a\xa0",s.createElement(l.EK,{withBackground:!0},"client_secret")," to native applications or web browser-based applications for the purpose of client authentication.")}):null)),(null==a?void 0:a.clientSecret)&&(null==a?void 0:a.state)!==y.ZM.REVOKED&&!xt&&!Wt&&s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(L.Z.Field,null,s.createElement("label",null,I("console:develop.features.applications.forms.inboundOIDC.fields.clientSecret.label")),R?s.createElement(l.v0,{visible:!0,type:"info",content:I("console:develop.features.applications.forms.inboundOIDC.fields.clientSecret.hashedDisclaimer")}):s.createElement("div",{className:"display-flex"},s.createElement(l.OR,{secret:!0,value:null==a?void 0:a.clientSecret,hideSecretLabel:I("console:develop.features.applications.forms.inboundOIDC.fields.clientSecret.hideSecret"),showSecretLabel:I("console:develop.features.applications.forms.inboundOIDC.fields.clientSecret.showSecret"),"data-testid":"".concat(w,"-client-secret-readonly-input")}),!v&&s.createElement(_.Z,{color:"red",className:"oidc-action-button",onClick:function(e){e.preventDefault(),he(!0)},"data-testid":"".concat(w,"-oidc-regenerate-button")},I("common:regenerate")))))),!v&&(null==a?void 0:a.clientSecret)&&(null==a?void 0:a.state)===y.ZM.REVOKED&&s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.Z,{color:"green",className:"oidc-action-button ml-0",onClick:function(e){e.preventDefault(),Ae(!0)},"data-testid":"".concat(w,"-oidc-regenerate-button")},I("common:activate")))),((null==a?void 0:a.clientId)||(null==a?void 0:a.clientSecret))&&(null==a?void 0:a.state)!==y.ZM.REVOKED&&s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(ge.Z,null)),(null==a?void 0:a.state)!==y.ZM.REVOKED&&s.createElement(s.Fragment,null,!v&&s.createElement(l.PH,{updateButtonRef:kt,isFormStale:Qt,containerRef:O},s.createElement(_.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:C,disabled:C,"data-testid":"".concat(w,"-submit-button-sticky")},I("common:update"))),s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:Je,name:"grant",label:I("console:develop.features.applications.forms.inboundOIDC.fields.grant.label"),type:"checkbox",required:!0,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.fields.grant.validations.empty"),children:An(i.allowedGrantTypes),value:null!=ce?ce:null==a?void 0:a.grantTypes,readOnly:v,enableReinitialize:!0,listen:function(e){return function(e){var t=e.get("grant");bn(ce)&&(t=t.filter((function(e){return"refresh_token"!=e}))),ue(t),fe(!pe)}(e)},"data-testid":"".concat(w,"-grant-type-checkbox-group")}),Ke&&s.createElement(p.Z,{basic:!0,color:"orange",className:"mt-2"},I("console:develop.features.applications.forms.inboundOIDC.fields.grant.validation.refreshToken")),s.createElement(l.kW,null,I("console:develop.features.applications.forms.inboundOIDC.fields.grant.hint")))),!xt&&!Wt&&((null==ce?void 0:ce.includes(b.jo.AUTHORIZATION_CODE_GRANT))||(null==ce?void 0:ce.includes(b.jo.DEVICE_GRANT)))&&s.createElement(s.Fragment,null,s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:nt,name:"supportPublicClients",label:"",required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.fields.public.validations.empty"),type:"checkbox",value:null!=a&&a.publicClient?["supportPublicClients"]:[],children:[{label:I("console:develop.features.applications.forms.inboundOIDC.fields.public.label"),value:"supportPublicClients"}],readOnly:v,"data-testid":"".concat(w,"-public-client-checkbox")}),s.createElement(l.kW,null,I("console:develop.features.applications.forms.inboundOIDC.fields.public.hint",{productName:null===(Ln=$e.ui)||void 0===Ln?void 0:Ln.productName}))))),oe&&s.createElement(s.Fragment,null,s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},s.createElement("div",{ref:et}),s.createElement(l.wE,{isAllowEnabled:xt,handleAddAllowedOrigin:function(e){return Wn(e)},handleRemoveAllowedOrigin:function(){},tenantDomain:h,allowedOrigins:(0,M.Z)(g,ke.split(",")),labelEnabled:!0,urlState:j,setURLState:F,labelName:Wt?"Authorized redirect URIs":I("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.label"),required:!0,value:null!=a&&null!==(Nn=a.callbackURLs)&&void 0!==Nn&&Nn.toString()?E.yf.buildCallBackURLWithSeparator(a.callbackURLs.toString()):"",placeholder:I(Wt?"console:develop.features.applications.forms.inboundOIDC.mobileApp.mobileAppPlaceholder":"console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.placeholder"),validationErrorMsg:(null==st?void 0:st.id)===(null==S?void 0:S.id)||Wt?I("console:develop.features.applications.forms.inboundOIDC.messages.customInvalidMessage"):I("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.validations.invalid"),emptyErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.validations.empty"),skipInternalValidation:S.templateId===b.jo.MOBILE,validation:function(e){return!!(Wt||(null==st?void 0:st.id)===(null==S?void 0:S.id)||Ve.URLUtils.isURLValid(e,!0)&&(Ve.URLUtils.isHttpUrl(e)||Ve.URLUtils.isHttpsUrl(e)))&&!!Ve.URLUtils.isMobileDeepLink(e)&&(_e(null),!0)},showError:z,setShowError:W,hint:Wt?"The authorized redirect URI determines where the authorization code is sent to upon user authentication, and where the user is redirected to upon user logout. The client app should specify the authorized redirect URI in the authorization or logout request and "+$e.ui.productName+" will validate it against the authorized redirect URLs entered here.":I("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.hint",{productName:$e.ui.productName}),readOnly:v,addURLTooltip:I("common:addURL"),duplicateURLErrorMessage:I("common:duplicateURLError"),"data-testid":"".concat(w,"-callback-url-input"),getSubmit:function(e){Tn=e},showPredictions:!1,customLabel:Ze,productName:$e.ui.productName,isCustom:(null==st?void 0:st.id)===(null==S?void 0:S.id),popupHeaderPositive:I("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:I("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:I("console:develop.features.URLInput.withLabel.positive.content",{productName:$e.ui.productName}),popupContentNegative:I("console:develop.features.URLInput.withLabel.negative.content",{productName:$e.ui.productName}),popupDetailedContentPositive:I("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:I("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:I("console:common.validations.inSecureURL.description"),showLessContent:I("common:showLess"),showMoreContent:I("common:showMore")}))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},s.createElement("div",{ref:tt}),s.createElement(l.wE,{handleAddAllowedOrigin:function(e){return Wn(e)},urlState:ke,setURLState:Pe,onlyOrigin:!0,labelName:I("console:develop.features.applications.forms.inboundOIDC.fields.allowedOrigins.label"),placeholder:I("console:develop.features.applications.forms.inboundOIDC.fields.allowedOrigins.placeholder"),value:ke,validationErrorMsg:I("console:develop.features.applications.forms.inboundOIDC.fields.allowedOrigins.validations.empty"),validation:function(e){return!(!Ve.URLUtils.isHttpsUrl(e)&&!Ve.URLUtils.isHttpUrl(e)||!Ve.URLUtils.isAValidOriginUrl(e)||!Ve.URLUtils.isMobileDeepLink(e)||(He(null),0))},computerWidth:10,setShowError:X,showError:Y,readOnly:v,addURLTooltip:I("common:addURL"),duplicateURLErrorMessage:I("common:duplicateURLError"),"data-testid":"".concat(w,"-allowed-origin-url-input"),getSubmit:function(e){Rn=e},showPredictions:!1,customLabel:Fe,popupHeaderPositive:I("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:I("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:I("console:develop.features.URLInput.withLabel.positive.content",{productName:$e.ui.productName}),popupContentNegative:I("console:develop.features.URLInput.withLabel.negative.content",{productName:$e.ui.productName}),popupDetailedContentPositive:I("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:I("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:I("console:common.validations.inSecureURL.description"),showLessContent:I("common:showLess"),showMoreContent:I("common:showMore")}),s.createElement(l.kW,null,"The HTTP origins that host your ",!Wt&&"web"," application. You can define multiple web origins by adding them separately.",s.createElement("p",{className:"mt-0"},"(E.g.,\xa0\xa0",s.createElement(l.EK,null,"https://myapp.io, https://localhost:3000"),")"))))),ee&&s.createElement(s.Fragment,null,s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(ge.Z,null),s.createElement(ge.Z,{hidden:!0})),s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},I("console:develop.features.applications.forms.inboundOIDC.sections.pkce.heading")),s.createElement(qe.gN,{ref:pt,name:mn,label:"",required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.pkce.fields.pkce.validations.empty"),type:"checkbox",value:(null==a?void 0:a.pkce)&&(Hn=a.pkce,zn=[],Hn.mandatory&&zn.push(vn),Hn.supportPlainTransformAlgorithm&&zn.push(gn),zn),listen:hn,children:xt||Wt?[{label:I("console:develop.features.applications.forms.inboundOIDC.sections.pkce.fields.pkce.children.mandatory.label"),value:vn}]:[{label:I("console:develop.features.applications.forms.inboundOIDC.sections.pkce.fields.pkce.children.mandatory.label"),value:vn},{disabled:!pn,hint:{content:I("console:develop.features.applications.forms.inboundOIDC.sections.pkce.description",{productName:$e.ui.productName}),header:"PKCE 'Plain'"},label:I("console:develop.features.applications.forms.inboundOIDC.sections.pkce.fields.pkce.children.plainAlg.label"),value:gn}],readOnly:v,"data-testid":"".concat(w,"-pkce-checkbox-group")}),s.createElement(l.kW,null,I("console:develop.features.applications.forms.inboundOIDC.sections.pkce.hint"))))),s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(ge.Z,null),s.createElement(ge.Z,{hidden:!0})),s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.heading")),s.createElement(qe.gN,{ref:mt,label:I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.type.label"),name:"type",default:null!=a&&a.accessToken?a.accessToken.type:i.accessTokenType.defaultValue,type:"radio",children:Cn(i.accessTokenType,!1),readOnly:v,"data-testid":"".concat(w,"-access-token-type-radio-group")}))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:ft,label:I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.label"),name:"bindingType",default:null!=a&&null!==(kn=a.accessToken)&&void 0!==kn&&kn.bindingType?a.accessToken.bindingType:null!==(Pn=null==i||null===(Mn=i.accessTokenBindingType)||void 0===Mn?void 0:Mn.defaultValue)&&void 0!==Pn?Pn:y.ti.NONE,type:"radio",children:Cn(i.accessTokenBindingType,!0),readOnly:v,"data-testid":"".concat(w,"-access-token-type-radio-group"),listen:function(e){xe(e.get("bindingType")!==y.ti.NONE)}}),s.createElement(l.kW,null,s.createElement(U.c,{values:{productName:$e.ui.productName},i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.description"},"Select type ",s.createElement(l.EK,{withBackground:!0},"SSO-session")," to allow productName to bind the",s.createElement(l.EK,{withBackground:!0},"access_token"),"and the",s.createElement(l.EK,{withBackground:!0},"refresh_token"),"to the login session and issue a new token per session. When the application session ends, the tokens will also be revoked.")))),!xt&&!Wt&&Ue&&s.createElement(s.Fragment,null,s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:vt,name:"ValidateTokenBinding",label:"",required:!1,requiredErrorMessage:"",type:"checkbox",value:null!=a&&null!==(Un=a.accessToken)&&void 0!==Un&&Un.validateTokenBinding?["validateTokenBinding"]:[],children:[{label:I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.validateBinding.label"),value:"validateTokenBinding"}],readOnly:v,"data-testid":"".concat(w,"-access-token-validate-binding-checkbox")}),s.createElement(l.kW,null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.validateBinding.hint"},"Validate the binding attributes at the token validation. The client needs to present the ",s.createElement(l.EK,{withBackground:!0},"access_token")," + cookie for successful authorization.")))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:gt,name:"RevokeAccessToken",label:"",required:!1,requiredErrorMessage:"",type:"checkbox",value:null!=a&&null!==(xn=a.accessToken)&&void 0!==xn&&xn.revokeTokensWhenIDPSessionTerminated?["revokeAccessToken"]:[],children:[{label:I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.revokeToken.label"),value:"revokeAccessToken"}],readOnly:v,"data-testid":"".concat(w,"-access-token-revoke-token-checkbox")}),s.createElement(l.kW,null,I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.revokeToken.hint"))))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:ht,name:"userAccessTokenExpiryInSeconds",label:I(xt?"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.labelForSPA":"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.label"),required:!0,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.validations.empty"),validation:function(){var e=Dt(Ut().mark((function e(t,n){return Ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Kn(t.toString())||(n.isValid=!1,n.errorMessages.push(I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null!=a&&a.accessToken?a.accessToken.userAccessTokenExpiryInSeconds.toString():i.defaultUserAccessTokenExpiryTime,placeholder:I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.placeholder"),type:"number",readOnly:v,min:1,"data-testid":"".concat(w,"-access-token-expiry-time-input")}),s.createElement(l.kW,null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.hint"},"Specify the validity period of the",s.createElement(l.EK,{withBackground:!0},"access_token"),"in seconds.")))),(null==ce?void 0:ce.includes("client_credentials"))&&s.createElement(s.Fragment,null,s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{name:"applicationAccessTokenExpiryInSeconds",ref:bt,label:I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.label"),required:!0,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.validations.empty"),value:a.accessToken?a.accessToken.applicationAccessTokenExpiryInSeconds.toString():i.defaultApplicationAccessTokenExpiryTime,validation:function(){var e=Dt(Ut().mark((function e(t,n){return Ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Kn(t.toString())||(n.isValid=!1,n.errorMessages.push(I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),placeholder:I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.placeholder"),type:"number",min:1,readOnly:v}),s.createElement(l.kW,null,"Specify the validity period of the",s.createElement(l.EK,{withBackground:!0},"application_access_token"),"in seconds.")))),(null==ce?void 0:ce.includes("refresh_token"))&&s.createElement(s.Fragment,null,s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(ge.Z,null),s.createElement(ge.Z,{hidden:!0})),s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},I("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.heading")),s.createElement(qe.gN,{ref:yt,name:"RefreshToken",label:"",required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.renew.validations.empty"),type:"checkbox",value:null!=a&&null!==(Dn=a.refreshToken)&&void 0!==Dn&&Dn.renewRefreshToken?["refreshToken"]:[],children:[{label:I("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.renew.label"),value:"refreshToken"}],readOnly:v,"data-testid":"".concat(w,"-renew-refresh-token-checkbox")}),s.createElement(l.kW,null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.renew.hint"},"Select to issue a new ",s.createElement(l.EK,{withBackground:!0},"refresh_token"),"each time a ",s.createElement(l.EK,{withBackground:!0},"refresh_token")," is exchanged. The existing token will be invalidated.")))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:Et,name:"expiryInSeconds",label:I("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.label"),required:!0,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.validations.empty"),placeholder:I("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.placeholder"),validation:function(){var e=Dt(Ut().mark((function e(t,n){return Ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Kn(t.toString())||(n.isValid=!1,n.errorMessages.push(I("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null!=a&&a.refreshToken?a.refreshToken.expiryInSeconds.toString():i.defaultRefreshTokenExpiryTime,type:"number",readOnly:v,min:1,"data-testid":"".concat(w,"-refresh-token-expiry-time-input")}),s.createElement(l.kW,null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.hint"},"Specify the validity period of the ",s.createElement(l.EK,{withBackground:!0},"refresh_token"),"in seconds."))))),s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(ge.Z,null),s.createElement(ge.Z,{hidden:!0})),s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},s.createElement(l.X6,{as:"h4"},I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.heading")),s.createElement(l.wE,{isAllowEnabled:!1,tenantDomain:h,onlyOrigin:!1,labelEnabled:!1,urlState:q,setURLState:B,labelName:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.audience.label"),required:!1,value:null!=a&&null!==(Zn=a.idToken)&&void 0!==Zn&&Zn.audience.toString()?E.yf.buildCallBackURLWithSeparator(null==a||null===(_n=a.idToken)||void 0===_n?void 0:_n.audience.toString()):"",validation:function(e){return!(null!=e&&e.includes(","))},placeholder:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.audience.placeholder"),validationErrorMsg:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.audience.validations.invalid"),showError:K,setShowError:Q,hint:s.createElement(U.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.audience.hint"},"Specify the recipient(s) that this ",s.createElement(l.EK,{withBackground:!0},"id_token")," is intended for. By default, the client ID of this application is added as an audience."),readOnly:v,addURLTooltip:I("common:addURL"),duplicateURLErrorMessage:I("common:duplicateURLError"),getSubmit:function(e){Tn=e},showPredictions:!1,skipInternalValidation:!0,popupHeaderPositive:I("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:I("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:I("console:develop.features.URLInput.withLabel.positive.content",{productName:$e.ui.productName}),popupContentNegative:I("console:develop.features.URLInput.withLabel.negative.content",{productName:$e.ui.productName}),popupDetailedContentPositive:I("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:I("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:I("console:common.validations.inSecureURL.description"),showLessContent:I("common:showLess"),showMoreContent:I("common:showMore")}))),m.applicationConfig.inboundOIDCForm.showIdTokenEncryption&&y.u.SPA!==(null==S?void 0:S.templateId)&&!Wt&&s.createElement(s.Fragment,null,s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:Ct,name:"encryption",label:"",required:!1,disabled:!an,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.encryption.validations.empty"),type:"checkbox",listen:function(e){var t=e.get("encryption").includes("enableEncryption");t||(un(),e.set("algorithm",""),e.set("method","")),D(t)},value:null!=a&&null!==(jn=a.idToken)&&void 0!==jn&&jn.encryption.enabled?["enableEncryption"]:[],children:[{label:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.encryption.label"),value:"enableEncryption"}],readOnly:v,"data-testid":"".concat(w,"-encryption-checkbox")}),s.createElement(l.kW,null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.encryption.hint"},"Select to encrypt the ",s.createElement(l.EK,{withBackground:!0},"id_token"),"  when issuing the token using the public key of your application. To use encryption, configure the JWKS endpoint or the certificate of your application in the Certificate section below.")))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:At,name:"algorithm",label:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.algorithm.label"),required:x&&an,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.algorithm.validations.empty"),type:"dropdown",disabled:!x||!an,default:x&&an?null!=a&&a.idToken?a.idToken.encryption.algorithm:i.idTokenEncryptionAlgorithm.defaultValue:"",placeholder:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.algorithm.placeholder"),children:Sn(i.idTokenEncryptionAlgorithm),readOnly:v,"data-testid":"".concat(w,"-encryption-algorithm-dropdown")}),s.createElement(l.kW,{disabled:!x||!an},s.createElement(U.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.algorithm.hint"},"The dropdown contains the supported ",s.createElement(l.EK,{withBackground:!0},"id_token"),"encryption algorithms.")))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:Ot,name:"method",disabled:!x||!an,label:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.method.label"),required:x&&an,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.method.validations.empty"),type:"dropdown",default:x&&an?null!=a&&a.idToken?a.idToken.encryption.method:i.idTokenEncryptionMethod.defaultValue:"",placeholder:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.method.placeholder"),children:Sn(i.idTokenEncryptionMethod),readOnly:v,"data-testid":"".concat(w,"-encryption-method-dropdown")}),s.createElement(l.kW,{disabled:!x||!an},s.createElement(U.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.method.hint"},"The dropdown contains the supported ",s.createElement(l.EK,{withBackground:!0},"id_token"),"encryption methods."))))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:wt,name:"idExpiryInSeconds",label:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.label"),required:!0,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.validations.empty"),placeholder:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.placeholder"),validation:function(){var e=Dt(Ut().mark((function e(t,n){return Ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Kn(t.toString())||(n.isValid=!1,n.errorMessages.push(I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null!=a&&a.idToken?a.idToken.expiryInSeconds.toString():i.defaultIdTokenExpiryTime,type:"number",readOnly:v,min:1,"data-testid":"".concat(w,"-id-token-expiry-time-input")}),s.createElement(l.kW,null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.hint"},"Specify the validity period of the ",s.createElement(l.EK,{withBackground:!0},"id_token")," in seconds.")))),!xt&&m.applicationConfig.inboundOIDCForm.showBackChannelLogout&&s.createElement(s.Fragment,null,s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(ge.Z,null),s.createElement(ge.Z,{hidden:!0})),s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},"Logout URLs"),s.createElement(ge.Z,{hidden:!0}),s.createElement(qe.gN,{ref:It,name:"backChannelLogoutUrl",label:I("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.back.label"),required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.back.validations.empty"),placeholder:I("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.back.placeholder"),type:"text",validation:function(e,t){Be.I.url(e)||(t.isValid=!1,t.errorMessages.push(I("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.back.validations.invalid")))},value:null==a||null===(Fn=a.logout)||void 0===Fn?void 0:Fn.backChannelLogoutUrl,readOnly:v,"data-testid":"".concat(w,"-back-channel-logout-url-input")}),s.createElement(l.kW,null,I("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.back.hint",{productName:$e.ui.productName}))))),m.applicationConfig.inboundOIDCForm.showFrontChannelLogout&&s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:Tt,name:"frontChannelLogoutUrl",label:I("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.front.label"),required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.front.validations.empty"),placeholder:I("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.front.placeholder"),type:"text",validation:function(e,t){Be.I.url(e)||(t.isValid=!1,t.errorMessages.push(I("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.front.validations.invalid")))},value:null==a||null===(Vn=a.logout)||void 0===Vn?void 0:Vn.frontChannelLogoutUrl,readOnly:v,"data-testid":"".concat(w,"-front-channel-logout-url-input")}))),!xt&&m.applicationConfig.inboundOIDCForm.showRequestObjectSignatureValidation&&s.createElement(s.Fragment,null,s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(ge.Z,null),s.createElement(ge.Z,{hidden:!0})),s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},I("console:develop.features.applications.forms.inboundOIDC.sections.requestObjectSignature.heading")),s.createElement(qe.gN,{ref:Rt,name:"enableRequestObjectSignatureValidation",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:null!=a&&a.validateRequestObjectSignature?["EnableRequestObjectSignatureValidation"]:[],children:[{label:I("console:develop.features.applications.forms.inboundOIDC.sections.requestObjectSignature.fields.signatureValidation.label"),value:"EnableRequestObjectSignatureValidation"}],readOnly:v,"data-testid":"".concat(w,"-request-object-signature-validation-checkbox")}),s.createElement(l.kW,null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.requestObjectSignature.description",tOptions:{productName:$e.ui.productName}},"WSO2 Identity Server supports receiving an OIDC authentication request as a request object that is passed in a single, self-contained request parameter. Enable signature validation to accept only signed",s.createElement(l.EK,null,"request")," objects in the authorization request."))))),m.applicationConfig.inboundOIDCForm.showScopeValidators&&s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(ge.Z,null),s.createElement(ge.Z,{hidden:!0})),s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},I("console:develop.features.applications.forms.inboundOIDC.sections.scopeValidators.heading")),s.createElement(qe.gN,{ref:Lt,name:"scopeValidator",label:"",required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.scopeValidators.fields.validator.validations.empty"),type:"checkbox",value:null==a?void 0:a.scopeValidators,children:Sn(i.scopeValidators,!0),readOnly:v,"data-testid":"".concat(w,"-scope-validator-checkbox")}))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Pt,{protocol:y.AI.OIDC,deleteAllowed:!(null!==(qn=a.idToken)&&void 0!==qn&&null!==(Bn=qn.encryption)&&void 0!==Bn&&Bn.enabled),reasonInsideTooltipWhyDeleteIsNotAllowed:s.createElement(s.Fragment,null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.certificates.disabledPopup"},"This certificate is used to encrypt the ",s.createElement(l.EK,null,"id_token"),". First, you need to disable ",s.createElement(l.EK,null,"id_token")," encryption to proceed.")),onUpdate:t,application:n,updateCertFinalValue:Jt,updateCertType:nn,certificate:o,readOnly:v,hidden:xt||!m.applicationConfig.inboundOIDCForm.showCertificates,isRequired:!0,triggerSubmit:sn}))),!v&&s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement("span",{ref:kt}),s.createElement(_.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:C,disabled:C,"data-testid":"".concat(w,"-submit-button")},I("common:update")))))),ve&&s.createElement(l.cV,{onClose:function(){return he(!1)},type:"warning",open:ve,assertion:null==a?void 0:a.clientId,assertionHint:s.createElement("p",null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.confirmations.regenerateSecret.assertionHint",tOptions:{id:null==a?void 0:a.clientId}},"Please type ",s.createElement("strong",null,null==a?void 0:a.clientId)," to confirm.")),assertionType:"input",primaryAction:I("common:confirm"),secondaryAction:I("common:cancel"),onSecondaryActionClick:function(){return he(!1)},onPrimaryActionClick:function(){d(),he(!1)},"data-testid":"".concat(w,"-oidc-regenerate-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(w,"-oidc-regenerate-confirmation-modal-header")},I("console:develop.features.applications.confirmations.regenerateSecret.header")),s.createElement(l.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(w,"-oidc-regenerate-confirmation-modal-message")},I("console:develop.features.applications.confirmations.regenerateSecret.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(w,"-oidc-regenerate-confirmation-modal-content")},I("console:develop.features.applications.confirmations.regenerateSecret.content"))),ye&&s.createElement(l.cV,{onClose:function(){return Ee(!1)},type:"warning",open:ye,assertion:null==a?void 0:a.clientId,assertionHint:s.createElement("p",null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.confirmations.revokeApplication.assertionHint",tOptions:{id:null==a?void 0:a.clientId}},"Please type ",s.createElement("strong",null,null==a?void 0:a.clientId)," to confirm.")),assertionType:"input",primaryAction:I("common:confirm"),secondaryAction:I("common:cancel"),onSecondaryActionClick:function(){return Ee(!1)},onPrimaryActionClick:function(){f(),Ee(!1)},"data-testid":"".concat(w,"-oidc-revoke-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(w,"-oidc-revoke-confirmation-modal-header")},I("console:develop.features.applications.confirmations.revokeApplication.header")),s.createElement(l.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(w,"-oidc-revoke-confirmation-modal-message")},I("console:develop.features.applications.confirmations.revokeApplication.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(w,"-oidc-revoke-confirmation-modal-content")},xt?I("console:develop.features.applications.confirmations.revokeApplication.content"):null)),Ce&&s.createElement(l.cV,{onClose:function(){return Ae(!1)},type:"warning",open:Ce,assertion:null==a?void 0:a.clientId,assertionHint:xt?s.createElement("p",null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.confirmations.reactivateSPA.assertionHint",tOptions:{id:null==a?void 0:a.clientId}},"Please type ",s.createElement("strong",null,null==a?void 0:a.clientId)," to confirm.")):s.createElement("p",null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.confirmations.reactivateOIDC.assertionHint",tOptions:{id:null==a?void 0:a.clientId}},"Please type ",s.createElement("strong",null,null==a?void 0:a.clientId)," to confirm.")),assertionType:"input",primaryAction:I("common:confirm"),secondaryAction:I("common:cancel"),onSecondaryActionClick:function(){return Ae(!1)},onPrimaryActionClick:function(){d(),Ae(!1)},"data-testid":"".concat(w,"-oidc-reactivate-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(w,"-oidc-reactivate-confirmation-modal-header")},I(xt?"console:develop.features.applications.confirmations.reactivateOIDC.header":"console:develop.features.applications.confirmations.reactivateSPA.header")),xt?s.createElement(l.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(w,"-oidc-reactivate-confirmation-modal-message")},I("console:develop.features.applications.confirmations.reactivateSPA.message")):null,s.createElement(l.cV.Content,{"data-testid":"".concat(w,"-oidc-reactivate-confirmation-modal-content")},I(xt?"console:develop.features.applications.confirmations.reactivateSPA.content":"console:develop.features.applications.confirmations.reactivateOIDC.content"))),we&&Re)):s.createElement(at.Z,null,s.createElement(l.pO,{inline:"centered",active:!0}))};function zt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Ht.defaultProps={"data-testid":"inbound-oidc-form",initialValues:{accessToken:void 0,allowedOrigins:[],callbackURLs:[],clientId:"",clientSecret:"",grantTypes:[],idToken:void 0,logout:void 0,pkce:{mandatory:!1,supportPlainTransformAlgorithm:!1},publicClient:!1,refreshToken:void 0,scopeValidators:[],state:void 0,validateRequestObjectSignature:void 0}};var Gt=function(e){var t=e.onUpdate,n=e.application,o=e.certificate,i=e.initialValues,a=e.onSubmit,r=e.readOnly,u=e.isLoading,d=e["data-testid"],p=(0,c.$)().t,f=zt((0,s.useState)(!1),2),m=(f[0],f[1],zt((0,s.useState)(!1),2)),v=m[0],g=m[1],h=zt((0,s.useState)(void 0),2),b=(h[0],h[1],zt((0,s.useState)(null),2)),E=b[0],S=(b[1],zt((0,s.useState)(void 0),2)),C=S[0],A=S[1],O=zt((0,s.useState)(y.el.NONE),2),w=O[0],I=O[1],R=zt((0,qe.cC)(),2),L=R[0],k=R[1];(0,s.useEffect)((function(){null!=o&&o.type&&I(null==o?void 0:o.type)}),[o]);return s.createElement(qe.Es,{onSubmit:function(e){k(),a(function(e){return{general:{advancedConfigurations:{certificate:{type:w!==y.el.NONE?w:null==o?void 0:o.type,value:w!==y.el.NONE?C:""}}},inbound:{realm:e.get("realm"),replyTo:e.get("replyTo")}}}(e))}},s.createElement(N.Z,null,s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{name:"realm",label:p("console:develop.features.applications.forms.inboundSTS.fields.realm.label"),required:!0,requiredErrorMessage:p("console:develop.features.applications.forms.inboundSTS.fields.realm.validations.empty"),placeholder:p("console:develop.features.applications.forms.inboundSTS.fields.realm.placeholder"),type:"text",value:null==i?void 0:i.realm,readOnly:r||!(0,T.Z)(null==i?void 0:i.realm),"data-testid":"".concat(d,"-realm-input")}),s.createElement(l.kW,{disabled:!(0,T.Z)(null==i?void 0:i.realm)},p("console:develop.features.applications.forms.inboundSTS.fields.realm.hint")))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{name:"replyTo",label:p("console:develop.features.applications.forms.inboundSTS.fields.replyTo.label"),required:!0,requiredErrorMessage:p("console:develop.features.applications.forms.inboundSTS.fields.replyTo.validations.empty"),placeholder:p("console:develop.features.applications.forms.inboundSTS.fields.replyTo.placeholder"),validation:function(e,t){Be.I.url(e)||(t.isValid=!1,t.errorMessages.push(p("console:develop.features.applications.forms.inboundSTS.fields.replyTo.validations.invalid")))},type:"text",value:null==i?void 0:i.replyTo,readOnly:r,"data-testid":"".concat(d,"-reply-to-url-input")}),s.createElement(l.kW,null,p("console:develop.features.applications.forms.inboundSTS.fields.replyTo.hint")))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Pt,{protocol:y.AI.WS_FEDERATION,deleteAllowed:!0,reasonInsideTooltipWhyDeleteIsNotAllowed:s.createElement(s.Fragment,null),onUpdate:t,application:n,updateCertFinalValue:A,updateCertType:I,certificate:o,readOnly:r,hidden:!1,isRequired:!0,triggerSubmit:L}))),v&&s.createElement(Ge,{open:v,certificate:E,onClose:function(){g(!1)}}),!r&&s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.Z,{primary:!0,type:"submit",size:"small",loading:u,disabled:u,className:"form-button","data-testid":"".concat(d,"-submit-button")},p("common:update"))))))};function Kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Gt.defaultProps={"data-testid":"inbound-passive-sts-form"};var $t=function(e){var t,n,o=e.initialValues,i=e.creationOption,a=e.onSubmit,r=e.isLoading,u=e["data-testid"],d=(0,c.$)().t,p=Kt((0,s.useState)(void 0),2),v=p[0],h=p[1],b=Kt((0,s.useState)(),2),E=b[0],S=b[1],C=Kt((0,s.useState)(null),2),A=C[0],O=C[1],w=Kt((0,s.useState)(null),2),I=w[0],R=w[1],L=Kt((0,s.useState)(!1),2),k=L[0],P=L[1];(0,s.useEffect)((function(){var e,t,n,i,a;if((0,T.Z)(null==o||null===(e=o.inboundProtocolConfiguration)||void 0===e?void 0:e.saml))h(y.T6.META_URL);else if((0,T.Z)(null==o||null===(t=o.inboundProtocolConfiguration)||void 0===t||null===(n=t.saml)||void 0===n?void 0:n.metadataURL)){if(!(0,T.Z)(null==o||null===(i=o.inboundProtocolConfiguration)||void 0===i||null===(a=i.saml)||void 0===a?void 0:a.metadataFile)){var r,l,s,c,u,d;h(y.T6.META_FILE),O(null==o||null===(r=o.inboundProtocolConfiguration)||void 0===r||null===(l=r.saml)||void 0===l?void 0:l.file),R(null==o||null===(s=o.inboundProtocolConfiguration)||void 0===s||null===(c=s.saml)||void 0===c?void 0:c.pasteValue),S(null==o||null===(u=o.inboundProtocolConfiguration)||void 0===u||null===(d=u.saml)||void 0===d?void 0:d.metadataFile)}}else h(y.T6.META_URL)}),[o]),(0,s.useEffect)((function(){E&&k&&P(!1)}),[E]),(0,s.useEffect)((function(){h(i)}),[i]);return v?s.createElement(qe.Es,{onSubmit:function(e){v===y.T6.META_FILE&&(0,T.Z)(E)?P(!0):a(function(e){var t={};return v===y.T6.META_URL?t={inbound:{metadataURL:e.get("url")}}:v===y.T6.META_FILE&&(t={inbound:{metadataFile:E}}),t}(e))}},s.createElement(N.Z,null,y.T6.META_URL===v&&s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(qe.gN,{name:"url",displayErrorOn:"blur",label:d("console:develop.features.applications.forms.inboundSAML.fields.metaURL.label"),required:!0,requiredErrorMessage:d("console:develop.features.applications.forms.inboundSAML.fields.metaURL.validations.empty"),type:"text",placeholder:d("console:develop.features.applications.forms.inboundSAML.fields.metaURL.placeholder"),validation:function(e,t){Be.I.url(e)||(t.isValid=!1,t.errorMessages.push(d("console:develop.features.applications.forms.inboundSAML.fields.metaURL.validations.invalid"))),null!==m.commonConfig&&void 0!==m.commonConfig&&m.commonConfig.blockLoopBackCalls&&Ve.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(d("console:develop.features.idp.forms.common.internetResolvableErrorMessage")))},value:null==o||null===(t=o.inboundProtocolConfiguration)||void 0===t||null===(n=t.saml)||void 0===n?void 0:n.metadataURL,"data-testid":"".concat(u,"-meta-url-input")}),s.createElement(l.kW,null,d("console:develop.features.applications.forms.inboundSAML.fields.metaURL.hint")))),y.T6.META_FILE===v&&s.createElement(N.Z.Row,{columns:1,mobile:16,tablet:16,computer:10},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(l.GB,{key:1,fileStrategy:Yt,file:A,pastedContent:I,onChange:function(e){O(e.file),R(e.pastedContent),S(e.serialized)},uploadButtonText:"Upload Metadata File",dropzoneText:"Drag and drop a XML file here.","data-testid":"".concat(u,"-form-wizard-saml-xml-config-file-picker"),icon:(0,g._5)().uploadPlaceholder,placeholderIcon:s.createElement(f.Z,{name:"file code",size:"huge"}),normalizeStateOnRemoveOperations:!0,emptyFileError:k,hidePasteOption:!0}))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(ge.Z,{hidden:!0}),s.createElement(_.Z,{primary:!0,type:"submit",size:"small",loading:r,disabled:r,className:"form-button","data-testid":"".concat(u,"-submit-button")},d("common:update")))))):s.createElement(l.pO,null)};$t.defaultProps={"data-testid":"saml-protocol-all-settings-wizard-form"};var Yt=new l.R2,Xt=n(62288);function Jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return en(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return en(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var tn=function(e){var t,n,o,i,a,r=e.onUpdate,d=e.application,f=e.certificate,v=e.initialValues,g=e.metadata,h=e.onSubmit,b=e.readOnly,E=e.isLoading,S=e.containerRef,C=e["data-testid"],A=(0,c.$)().t,O=Jt((0,s.useState)(null),2),w=O[0],I=O[1],R=Jt((0,s.useState)(null),2),k=R[0],P=R[1],x=Jt((0,s.useState)(null),2),D=x[0],Z=x[1],j=Jt((0,s.useState)(null),2),F=j[0],V=j[1],q=(0,u.v9)((function(e){var t,n;return null==e||null===(t=e.config)||void 0===t||null===(n=t.ui)||void 0===n?void 0:n.isSignatureValidationCertificateAliasEnabled})),B=(0,u.v9)((function(e){return e.application.samlConfigurations})),H=(0,u.v9)((function(e){return e.config})),z=function(e,t){var n=[];return g&&e.options.map((function(t){n.push({key:e.options.indexOf(t),text:t,value:t})})),n},W=Jt((0,s.useState)(""),2),G=W[0],K=W[1],Q=Jt((0,s.useState)(""),2),$=Q[0],Y=Q[1],X=Jt((0,s.useState)(""),2),J=X[0],ee=X[1],te=Jt((0,s.useState)(""),2),ne=te[0],oe=te[1],ie=Jt((0,s.useState)(!1),2),ae=ie[0],re=ie[1],le=Jt((0,s.useState)(!1),2),se=le[0],ce=le[1],ue=Jt((0,s.useState)(!1),2),de=ue[0],pe=ue[1],fe=Jt((0,s.useState)(!1),2),me=fe[0],ve=fe[1],he=Jt((0,s.useState)(!1),2),be=he[0],ye=he[1],Ee=Jt((0,s.useState)(!1),2),Se=Ee[0],Ce=Ee[1],Ae=Jt((0,s.useState)(!1),2),Oe=Ae[0],we=Ae[1],Ie=Jt((0,s.useState)(!1),2),Te=Ie[0],Re=Ie[1],Le=Jt((0,s.useState)(!1),2),Ne=Le[0],ke=Le[1],Pe=Jt((0,s.useState)(!1),2),Me=Pe[0],Ue=Pe[1],xe=Jt((0,s.useState)(!1),2),De=xe[0],Ze=xe[1],_e=Jt((0,s.useState)(!0),2),je=_e[0],Fe=_e[1],He=Jt((0,s.useState)(void 0),2),ze=He[0],We=He[1],Ge=Jt((0,s.useState)(y.el.NONE),2),Ke=Ge[0],Qe=Ge[1],$e=Jt((0,s.useState)(!1),2),Ye=$e[0],Xe=$e[1],Je=Jt((0,s.useState)(null!=v&&v.singleLogoutProfile.logoutMethod?null==v?void 0:v.singleLogoutProfile.logoutMethod:y.aD.BACK_CHANNEL),2),et=Je[0],tt=Je[1],nt=Jt((0,s.useState)(!1),2),ot=nt[0],it=nt[1],at=Jt((0,qe.cC)(),2),rt=at[0],lt=at[1],st=(0,s.useRef)(),ct=(0,s.useRef)(),ut=(0,s.useRef)(),dt=(0,s.useRef)(),pt=(0,s.useRef)(),ft=(0,s.useRef)(),mt=(0,s.useRef)(),vt=(0,s.useRef)(),gt=(0,s.useRef)(),ht=(0,s.useRef)(),bt=(0,s.useRef)(),yt=(0,s.useRef)(),Et=(0,s.useRef)(),St=(0,s.useRef)(),Ct=(0,s.useRef)(),At=(0,s.useRef)(),Ot=(0,s.useRef)(),wt=(0,s.useRef)(),It=(0,s.useRef)(),Tt=(0,s.useRef)(),Rt=(0,s.useRef)(),Lt=(0,s.useRef)(),Nt=(0,s.useRef)(),kt=(0,s.useRef)(),Mt=(0,s.useRef)(),Ut=(0,s.useRef)(),xt=(0,s.useRef)(),Dt=(0,s.useRef)(),Zt=(0,s.useRef)(),_t=(0,s.useRef)(),jt=(0,s.useRef)();(0,s.useEffect)((function(){null!=f&&f.type&&Qe(null==f?void 0:f.type)}),[f]);(0,s.useEffect)((function(){var e,t;v&&(ye(null==v?void 0:v.singleLogoutProfile.enabled),Ce(null==v?void 0:v.singleLogoutProfile.idpInitiatedSingleLogout.enabled),we(null==v?void 0:v.attributeProfile.enabled),Re(null==v?void 0:v.requestValidation.enableSignatureValidation),Ue(null==v?void 0:v.responseSigning.enabled),ke(null==v?void 0:v.singleSignOnProfile.assertion.encryption.enabled),Ze(null==v||null===(e=v.singleSignOnProfile)||void 0===e||null===(t=e.bindings)||void 0===t?void 0:t.includes(y.Ss.ARTIFACT)))}),[v]),(0,s.useEffect)((function(){Fe(m.applicationConfig.inboundSAMLForm.artifactBindingAllowed)}),[]);var Ft,Vt=function(e){var t={behavior:"smooth",block:"center"};switch(e){case"issuer":st.current.scrollIntoView(t);break;case"applicationQualifier":ct.current.scrollIntoView(t);break;case"consumerURL":ut.current.scrollIntoView(t);break;case"defaultAssertionConsumerUrl":dt.current.scrollIntoView(t);break;case"idpEntityIdAlias":pt.current.scrollIntoView(t);break;case"requestSignatureValidation":ft.current.scrollIntoView(t);break;case"signatureValidationCertAlias":mt.current.scrollIntoView(t);break;case"digestAlgorithm":vt.current.scrollIntoView(t);break;case"signingAlgorithm":gt.current.scrollIntoView(t);break;case"responseSigning":ht.current.scrollIntoView(t);break;case"bindings":bt.current.scrollIntoView(t);break;case"signatureValidationForArtifactBinding":yt.current.scrollIntoView(t);break;case"idPInitiatedSSO":Et.current.scrollIntoView(t);break;case"nameIdFormat":St.current.scrollIntoView(t);break;case"audience":Ct.current.scrollIntoView(t);break;case"recipient":At.current.scrollIntoView(t);break;case"assertionEncryption":Ot.current.scrollIntoView(t);break;case"assertionEncryptionAlgorithm":wt.current.scrollIntoView(t);break;case"keyEncryptionAlgorithm":It.current.scrollIntoView(t);break;case"attributeProfile":Tt.current.scrollIntoView(t);break;case"includeAttributesInResponse":Rt.current.scrollIntoView(t);break;case"attributeConsumingServiceIndex":Lt.current.scrollIntoView(t);break;case"singleLogoutProfile":Nt.current.scrollIntoView(t);break;case"logoutMethod":kt.current.scrollIntoView(t);break;case"singleLogoutResponseUrl":Mt.current.scrollIntoView(t);break;case"singleLogoutRequestUrl":Ut.current.scrollIntoView(t);break;case"idpInitiatedSingleLogout":xt.current.scrollIntoView(t);break;case"returnToURL":Dt.current.scrollIntoView(t);break;case"assertionQueryProfile":Zt.current.scrollIntoView(t)}};return(0,s.useEffect)((function(){(0,T.Z)(ze)||Ke===y.el.NONE?Xe(!1):Xe(!0)}),[ze,Ke]),g?s.createElement(qe.Es,{onSubmit:function(e){lt(),Ke!==y.el.NONE&&(0,T.Z)(ze)||((0,T.Z)(G)?(re(!0),Vt("consumerURL")):(Ke===y.el.NONE&&We(""),h(function(e){var t,n;return{general:{advancedConfigurations:{certificate:{type:y.el.PEM,value:Ke!==y.el.NONE?ze:""}}},inbound:{manualConfiguration:{assertionConsumerUrls:G.split(","),attributeProfile:{alwaysIncludeAttributesInResponse:e.get("attributeProfile").includes("enabled"),enabled:e.get("attributeProfile").includes("enabled")},defaultAssertionConsumerUrl:e.get("defaultAssertionConsumerUrl"),enableAssertionQueryProfile:null===(t=e.get("assertionQueryProfile"))||void 0===t?void 0:t.includes("enableAssertionQueryProfile"),idpEntityIdAlias:e.get("idpEntityIdAlias"),issuer:e.get("issuer")||(null==v?void 0:v.issuer),requestValidation:{enableSignatureValidation:Ye&&e.get("requestSignatureValidation").includes("enableSignatureValidation"),signatureValidationCertAlias:e.get("signatureValidationCertAlias")},responseSigning:{enabled:e.get("responseSigning").includes("enabled"),signingAlgorithm:e.get("signingAlgorithm")},serviceProviderQualifier:e.get("applicationQualifier"),singleLogoutProfile:{enabled:e.get("singleLogoutProfile").includes("enabled"),idpInitiatedSingleLogout:{enabled:e.get("idpInitiatedSingleLogout").includes("enabled"),returnToUrls:ne?ne.split(","):[]},logoutMethod:e.get("logoutMethod"),logoutRequestUrl:e.get("singleLogoutRequestUrl"),logoutResponseUrl:e.get("singleLogoutResponseUrl")},singleSignOnProfile:{assertion:{audiences:$?$.split(","):[],digestAlgorithm:e.get("digestAlgorithm"),encryption:{assertionEncryptionAlgorithm:Ye?e.get("assertionEncryptionAlgorithm"):null==g?void 0:g.assertionEncryptionAlgorithm.defaultValue,enabled:Ye&&e.get("assertionEncryption").includes("enableAssertionEncryption"),keyEncryptionAlgorithm:Ye?e.get("keyEncryptionAlgorithm"):null==g?void 0:g.keyEncryptionAlgorithm.defaultValue},nameIdFormat:e.get("nameIdFormat"),recipients:J?J.split(","):[]},attributeConsumingServiceIndex:e.get("attributeConsumingServiceIndex"),bindings:e.get("bindings"),enableIdpInitiatedSingleSignOn:e.get("idPInitiatedSSO").includes("enableIdPInitiatedSSO"),enableSignatureValidationForArtifactBinding:je&&(null===(n=e.get("signatureValidationForArtifactBinding"))||void 0===n?void 0:n.includes("enableSignatureValidationForArtifactBinding"))}}}}}(e))))},onSubmitError:function(e,t){for(var n=e.entries(),o=n.next();!o.done;){if(!o.value[1]||!t.get(o.value[0]).isValid){Vt(o.value[0]);break}o=n.next()}},onStaleChange:function(e){it(e)},ref:_t},!b&&s.createElement(l.PH,{updateButtonRef:jt,isFormStale:ot,containerRef:S},s.createElement(_.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:E,disabled:E,"data-testid":"".concat(C,"-submit-button-sticky")},A("common:update"))),s.createElement(N.Z,null,s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},null!=v&&v.issuer?s.createElement(L.Z.Field,null,s.createElement("div",{className:"required field"},s.createElement("label",null,A("console:develop.features.applications.forms.inboundSAML.fields.issuer.label"))),s.createElement(l.OR,{value:null==v?void 0:v.issuer})):s.createElement(qe.gN,{name:"issuer",label:A("console:develop.features.applications.forms.inboundSAML.fields.issuer.label"),required:!0,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.fields.issuer.validations.empty"),type:"text",placeholder:A("console:develop.features.applications.forms.inboundSAML.fields.issuer.placeholder"),value:null==v?void 0:v.issuer,readOnly:b,"data-testid":"".concat(C,"-issuer-input"),ref:st}),s.createElement(l.kW,null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.forms.inboundSAML.fields.issuer.hint"},"This specifies the unique identifier of the application. This is also the",s.createElement(l.EK,{withBackground:!0},"saml2:Issuer"),"  value specified in the SAML authentication request issued by the application.")))),m.applicationConfig.inboundSAMLForm.showApplicationQualifier&&s.createElement(s.Fragment,null,s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:ct,name:"applicationQualifier",label:A("console:develop.features.applications.forms.inboundSAML.fields.qualifier.label"),required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.fields.qualifier.validations.empty"),type:"text",placeholder:A("console:develop.features.applications.forms.inboundSAML.fields.qualifier.placeholder"),value:null==v?void 0:v.serviceProviderQualifier,readOnly:b,"data-testid":"".concat(C,"-application-qualifier-input")}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.fields.qualifier.hint"))))),s.createElement("div",{ref:ut}),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.wE,{urlState:G,setURLState:K,labelName:A("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.label"),value:null==v?void 0:v.assertionConsumerUrls.toString(),placeholder:A("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.placeholder"),validationErrorMsg:A("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.validations.invalid"),validation:function(e){var t=null;return Ve.URLUtils.isHttpsOrHttpUrl(e)||(t=s.createElement(p.Z,{basic:!0,color:"orange",className:"mt-2"},A("console:common.validations.unrecognizedURL.description"))),!!Ve.URLUtils.isMobileDeepLink(e)&&(I(t),!0)},required:!0,showError:ae,setShowError:re,hint:A("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.hint"),readOnly:b,addURLTooltip:A("common:addURL"),duplicateURLErrorMessage:A("common:duplicateURLError"),"data-testid":"".concat(C,"-assertion-consumer-url-input"),showPredictions:!1,customLabel:w,popupHeaderPositive:A("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:A("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:A("console:develop.features.URLInput.withLabel.positive.content",{productName:H.ui.productName}),popupContentNegative:A("console:develop.features.URLInput.withLabel.negative.content",{productName:H.ui.productName}),popupDetailedContentPositive:A("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:A("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:A("console:common.validations.inSecureURL.description"),showLessContent:A("common:showLess"),showMoreContent:A("common:showMore")}))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:dt,label:A("console:develop.features.applications.forms.inboundSAML.fields.defaultAssertionURL.label"),name:"defaultAssertionConsumerUrl",type:"dropdown",required:!0,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.fields.defaultAssertionURL.validations.empty"),default:!(0,T.Z)(G)&&G.split(",").slice(-1)[0],children:function(){var e=[];if(!(0,T.Z)(G)){var t=G.split(",");t.map((function(n){e.push({key:t.indexOf(n),text:n,value:n})}))}return e}(),readOnly:b,"data-testid":"".concat(C,"-default-assertion-consumer-url-input"),value:null==v?void 0:v.defaultAssertionConsumerUrl}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.fields.defaultAssertionURL.hint")))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:pt,label:A("console:develop.features.applications.forms.inboundSAML.fields.idpEntityIdAlias.label"),name:"idpEntityIdAlias",placeholder:A("console:develop.features.applications.forms.inboundSAML.fields.idpEntityIdAlias.placeholder"),type:"text",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.fields.idpEntityIdAlias.validations.empty"),validation:function(e,t){Be.I.url(e)||(t.errorMessages.push(A("console:develop.features.applications.forms.inboundSAML.fields.idpEntityIdAlias.validations.invalid")),t.isValid=!1)},value:null==v?void 0:v.idpEntityIdAlias,readOnly:b,"data-testid":"".concat(C,"-idp-entity-id-alias-input")}),s.createElement(l.kW,null,s.createElement(U.c,{values:{defaultIdpEntityID:null==B?void 0:B.issuer,productName:H.ui.productName},i18nKey:"console:develop.features.applications.forms.inboundSAML.fields.idpEntityIdAlias.hint"},"This value can override the default Identity Provider (IdP) entity ID defaultIdpEntityID. The IdP entity ID is used as the",s.createElement(l.EK,{withBackground:!0},"saml2:Issuer")," of the SAML response that is generated by productName.")))),s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(ge.Z,null),s.createElement(ge.Z,{hidden:!0})),s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},A("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.heading")),s.createElement(ge.Z,{hidden:!0}),s.createElement(qe.gN,{ref:ft,name:"requestSignatureValidation",label:"",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidation.validations.empty"),disabled:!Ye,type:"checkbox",listen:function(e){Re(e.get("requestSignatureValidation").includes("enableSignatureValidation"))},value:null!=v&&v.requestValidation.enableSignatureValidation?["enableSignatureValidation"]:[],children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidation.label"),value:"enableSignatureValidation"}],readOnly:b,"data-testid":"".concat(C,"-request-signature-validation-checkbox")}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidation.hint",{productName:H.ui.productName})))),q&&s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:mt,label:A("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidationCertAlias.label"),name:"signatureValidationCertAlias",type:"dropdown",required:!1,disabled:!Te,value:null==v?void 0:v.requestValidation.signatureValidationCertAlias,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidationCertAlias.validations.empty"),default:null==g?void 0:g.certificateAlias.defaultValue,children:z(null==g?void 0:g.certificateAlias),readOnly:b,"data-testid":"".concat(C,"-request-validation-certificate-alias-dropdown")}),s.createElement(l.kW,{disabled:!Te},A("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidationCertAlias.hint")))),s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(ge.Z,null),s.createElement(ge.Z,{hidden:!0})),s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},A("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.heading")),s.createElement(ge.Z,{hidden:!0}),s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:ht,name:"responseSigning",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:null!=v&&v.responseSigning.enabled?["enabled"]:[],listen:function(e){Ue(e.get("responseSigning").includes("enabled"))},children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.responseSigning.label"),value:"enabled"}],readOnly:b,"data-testid":"".concat(C,"-response-signing-checkbox")}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.responseSigning.hint",{productName:H.ui.productName}))))),s.createElement(N.Z.Row,null,s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:vt,label:A("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.digestAlgorithm.label"),name:"digestAlgorithm",type:"dropdown",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.digestAlgorithm.validations.empty"),default:null==g?void 0:g.responseDigestAlgorithm.defaultValue,value:null==v?void 0:v.singleSignOnProfile.assertion.digestAlgorithm,children:z(null==g?void 0:g.responseDigestAlgorithm),readOnly:b,disabled:!Me,"data-testid":"".concat(C,"-digest-algorithm-dropdown")}))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:gt,label:A("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.signingAlgorithm.label"),name:"signingAlgorithm",type:"dropdown",required:!1,value:null==v?void 0:v.responseSigning.signingAlgorithm,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.signingAlgorithm.validations.empty"),default:null==g?void 0:g.responseSigningAlgorithm.defaultValue,children:z(null==g?void 0:g.responseSigningAlgorithm),readOnly:b,disabled:!Me,"data-testid":"".concat(C,"-signing-algorithm-dropdown")}))),s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(ge.Z,null),s.createElement(ge.Z,{hidden:!0})),s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.heading")),s.createElement(ge.Z,{hidden:!0}),s.createElement(qe.gN,{ref:bt,label:A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.bindings.label"),name:"bindings",type:"checkbox",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.bindings.validations.empty"),default:["HTTP_POST","HTTP_REDIRECT"],children:(Ft=[{label:"HTTP Post",readOnly:!0,value:"HTTP_POST"},{label:"HTTP Redirect",readOnly:!0,value:"HTTP_REDIRECT"}],je&&Ft.push({label:"Artifact",readOnly:!1,value:"ARTIFACT"}),Ft),value:(0,M.Z)(null==v||null===(t=v.singleSignOnProfile)||void 0===t?void 0:t.bindings,["HTTP_POST","HTTP_REDIRECT"]),readOnly:b,listen:function(e){Ze(e.get("bindings").includes("ARTIFACT")),e.get("bindings").includes("ARTIFACT")||e.set("signatureValidationForArtifactBinding",[])},"data-testid":"".concat(C,"-bindings-checkbox-group")}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.bindings.hint")))),je?s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:yt,name:"signatureValidationForArtifactBinding",label:"",required:!1,requiredErrorMessage:"",type:"checkbox",value:De&&null!=v&&v.singleSignOnProfile.enableSignatureValidationForArtifactBinding?["enableSignatureValidationForArtifactBinding"]:[],children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.artifactBinding.label"),value:"enableSignatureValidationForArtifactBinding"}],readOnly:b,disabled:!De,"data-testid":"".concat(C,"-artifact-binding-signature-validation-checkbox")}),s.createElement(l.kW,{disabled:!De},A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.artifactBinding.hint")))):null,s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:Et,name:"idPInitiatedSSO",label:"",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.idpInitiatedSSO.validations.empty"),type:"checkbox",value:null!=v&&v.singleSignOnProfile.enableIdpInitiatedSingleSignOn?["enableIdPInitiatedSSO"]:[],children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.idpInitiatedSSO.label"),value:"enableIdPInitiatedSSO"}],readOnly:b,"data-testid":"".concat(C,"-idp-initiated-sso-checkbox")}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.idpInitiatedSSO.hint")))),s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(ge.Z,null),s.createElement(ge.Z,{hidden:!0})),s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},A("console:develop.features.applications.forms.inboundSAML.sections.assertion.heading")),s.createElement(ge.Z,{hidden:!0}),s.createElement(qe.gN,{ref:St,label:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.nameIdFormat.label"),name:"nameIdFormat",placeholder:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.nameIdFormat.placeholder"),type:"dropdown",default:null==g?void 0:g.defaultNameIdFormat,required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.nameIdFormat.validations.empty"),value:null==v?void 0:v.singleSignOnProfile.assertion.nameIdFormat,children:(0,Xt.Ex)(),readOnly:b,"data-testid":"".concat(C,"-name-id-format-input")}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.nameIdFormat.hint")))),s.createElement("div",{ref:Ct}),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.wE,{urlState:$,setURLState:Y,labelName:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.audience.label"),value:null==v?void 0:v.singleSignOnProfile.assertion.audiences.toString(),placeholder:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.audience.placeholder"),validationErrorMsg:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.audience.validations.invalid"),validation:function(e){var t=null;return Ve.URLUtils.isHttpUrl(e)||Ve.URLUtils.isHttpsUrl(e)||(t=s.createElement(p.Z,{basic:!0,color:"orange",className:"mt-2"},A("console:common.validations.unrecognizedURL.description"))),!!Ve.URLUtils.isMobileDeepLink(e)&&(P(t),!0)},showError:se,setShowError:ce,hint:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.audience.hint"),readOnly:b,addURLTooltip:A("common:addURL"),duplicateURLErrorMessage:A("common:duplicateURLError"),"data-testid":"".concat(C,"-audience-url-input"),showPredictions:!1,customLabel:k,popupHeaderPositive:A("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:A("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:A("console:develop.features.URLInput.withLabel.positive.content",{productName:H.ui.productName}),popupContentNegative:A("console:develop.features.URLInput.withLabel.negative.content",{productName:H.ui.productName}),popupDetailedContentPositive:A("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:A("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:A("console:common.validations.inSecureURL.description"),showLessContent:A("common:showLess"),showMoreContent:A("common:showMore")}))),s.createElement("div",{ref:At}),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.wE,{urlState:J,setURLState:ee,labelName:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.recipients.label"),value:null==v?void 0:v.singleSignOnProfile.assertion.recipients.toString(),placeholder:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.recipients.placeholder"),validationErrorMsg:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.recipients.validations.invalid"),validation:function(e){var t=null;return Ve.URLUtils.isHttpUrl(e)||Ve.URLUtils.isHttpsUrl(e)||(t=s.createElement(p.Z,{basic:!0,color:"orange",className:"mt-2"},A("console:common.validations.unrecognizedURL.description"))),!!Ve.URLUtils.isMobileDeepLink(e)&&(Z(t),!0)},showError:de,setShowError:pe,hint:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.recipients.hint"),readOnly:b,addURLTooltip:A("common:addURL"),duplicateURLErrorMessage:A("common:duplicateURLError"),"data-testid":"".concat(C,"-recipients-url-input"),showPredictions:!1,customLabel:D,popupHeaderPositive:A("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:A("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:A("console:develop.features.URLInput.withLabel.positive.content",{productName:H.ui.productName}),popupContentNegative:A("console:develop.features.URLInput.withLabel.negative.content",{productName:H.ui.productName}),popupDetailedContentPositive:A("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:A("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:A("console:common.validations.inSecureURL.description"),showLessContent:A("common:showLess"),showMoreContent:A("common:showMore")}))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:Ot,name:"assertionEncryption",label:"",required:!1,disabled:!Ye,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.assertionEncryption.validations.empty"),value:null!=v&&v.singleSignOnProfile.assertion.encryption.enabled?["enableAssertionEncryption"]:[],type:"checkbox",listen:function(e){ke(e.get("assertionEncryption").includes("enableAssertionEncryption"))},children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.assertionEncryption.label"),value:"enableAssertionEncryption"}],readOnly:b,"data-testid":"".concat(C,"-assertion-encryption-checkbox")}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.assertionEncryption.hint")))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:wt,label:A("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.assertionEncryptionAlgorithm.label"),name:"assertionEncryptionAlgorithm",type:"dropdown",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.assertionEncryptionAlgorithm.validations.empty"),disabled:!Ne||!Ye,default:null==g?void 0:g.assertionEncryptionAlgorithm.defaultValue,value:null==v?void 0:v.singleSignOnProfile.assertion.encryption.assertionEncryptionAlgorithm,children:z(null==g?void 0:g.assertionEncryptionAlgorithm),readOnly:b,"data-testid":"".concat(C,"-assertion-encryption-algorithm-dropdown")}))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:It,label:A("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.keyEncryptionAlgorithm.label"),name:"keyEncryptionAlgorithm",type:"dropdown",required:!1,disabled:!Ne||!Ye,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.keyEncryptionAlgorithm.validations.empty"),default:null==g?void 0:g.keyEncryptionAlgorithm.defaultValue,value:null==v?void 0:v.singleSignOnProfile.assertion.encryption.keyEncryptionAlgorithm,children:z(null==g?void 0:g.keyEncryptionAlgorithm),readOnly:b,"data-testid":"".concat(C,"-key-encryption-algorithm-dropdown")}))),s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(ge.Z,null),s.createElement(ge.Z,{hidden:!0})),s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},A("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.heading")),s.createElement(ge.Z,{hidden:!0}),s.createElement(qe.gN,{ref:Tt,name:"attributeProfile",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:null!=v&&v.attributeProfile.enabled?["enabled"]:[],listen:function(e){we(e.get("attributeProfile").includes("enabled"))},children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.enable.label"),value:"enabled"}],readOnly:b,"data-testid":"".concat(C,"-attribute-profile-checkbox")}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.enable.hint")))),m.applicationConfig.inboundSAMLForm.showAttributeConsumingServiceIndex&&s.createElement(s.Fragment,null,s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:Lt,label:A("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.label"),name:"attributeConsumingServiceIndex",placeholder:A("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.placeholder"),type:"text",required:!1,disabled:!Oe,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.validations.empty"),value:null==v?void 0:v.singleSignOnProfile.attributeConsumingServiceIndex,readOnly:b,"data-testid":"".concat(C,"-attribute-consuming-service-index-input")}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.hint"))))),s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(ge.Z,null),s.createElement(ge.Z,{hidden:!0})),s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.heading")),s.createElement(ge.Z,{hidden:!0}),s.createElement(qe.gN,{ref:Nt,name:"singleLogoutProfile",label:"",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.enable.validations.empty"),type:"checkbox",value:null!=v&&v.singleLogoutProfile.enabled?["enabled"]:[],listen:function(e){ye(e.get("singleLogoutProfile").includes("enabled"))},children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.enable.label"),value:"enabled"}],readOnly:b,"data-testid":"".concat(C,"-single-logout-profile-checkbox")}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.enable.hint")))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:kt,label:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.logoutMethod.label"),name:"logoutMethod",type:"dropdown",required:!1,value:null==v?void 0:v.singleLogoutProfile.logoutMethod,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.logoutMethod.validations.empty"),default:y.aD.BACK_CHANNEL,disabled:!be,children:[{key:1,text:"Back Channel",value:y.aD.BACK_CHANNEL},{key:2,text:"Front Channel HTTP Redirect",value:y.aD.FRONT_CHANNEL_HTTP_REDIRECT},{key:3,text:"Front Channel HTTP Post",value:y.aD.FRONT_CHANNEL_HTTP_POST}],listen:function(e){tt(e.get("logoutMethod"))},readOnly:b,"data-testid":"".concat(C,"-logout-method-dropdown")}))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:Mt,name:"singleLogoutResponseUrl",label:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.responseURL.label"),validation:function(e,t){Be.I.url(e)||(t.isValid=!1,t.errorMessages.push(A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.responseURL.validations.invalid"))),et===y.aD.BACK_CHANNEL&&null!==m.commonConfig&&void 0!==m.commonConfig&&m.commonConfig.blockLoopBackCalls&&Ve.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(A("console:develop.features.idp.forms.common.internetResolvableErrorMessage")))},required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.responseURL.validations.empty"),placeholder:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.responseURL.placeholder"),disabled:!be,type:"text",value:null==v?void 0:v.singleLogoutProfile.logoutResponseUrl,readOnly:b,"data-testid":"".concat(C,"-single-logout-response-url-input")}),s.createElement(l.kW,{disabled:!be},A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.responseURL.hint",{productName:H.ui.productName})))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{ref:Ut,name:"singleLogoutRequestUrl",label:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.requestURL.label"),validation:function(e,t){Be.I.url(e)||(t.isValid=!1,t.errorMessages.push(A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.requestURL.validations.invalid"))),et===y.aD.BACK_CHANNEL&&null!==m.commonConfig&&void 0!==m.commonConfig&&m.commonConfig.blockLoopBackCalls&&Ve.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(A("console:develop.features.idp.forms.common.internetResolvableErrorMessage")))},required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.requestURL.validations.empty"),placeholder:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.requestURL.placeholder"),disabled:!be,type:"text",value:null==v?void 0:v.singleLogoutProfile.logoutRequestUrl,readOnly:b,"data-testid":"".concat(C,"-single-logout-request-url-input")}),s.createElement(l.kW,{disabled:!be},A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.requestURL.hint",{productName:H.ui.productName})))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h6",disabled:!be},A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.heading")),s.createElement(ge.Z,{hidden:!0}),s.createElement(qe.gN,{ref:xt,name:"idpInitiatedSingleLogout",label:"",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.enable.validations.empty"),type:"checkbox",disabled:!be,value:null!=v&&v.singleLogoutProfile.idpInitiatedSingleLogout.enabled?["enabled"]:[],listen:function(e){Ce(e.get("idpInitiatedSingleLogout").includes("enabled"))},children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.enable.label"),value:"enabled"}],readOnly:b,"data-testid":"".concat(C,"-idp-initiated-single-logout-checkbox")}),s.createElement(l.kW,{disabled:!be},A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.enable.hint")))),s.createElement("div",{ref:Dt}),s.createElement(l.wE,{urlState:ne,setURLState:oe,labelName:A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.label"),value:null==v?void 0:v.singleLogoutProfile.idpInitiatedSingleLogout.returnToUrls.toString(),placeholder:A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.placeholder"),validationErrorMsg:A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.validations.invalid"),validation:function(e){var t=null;return Ve.URLUtils.isHttpUrl(e)||Ve.URLUtils.isHttpsUrl(e)||(t=s.createElement(p.Z,{basic:!0,color:"orange",className:"mt-2"},A("console:common.validations.unrecognizedURL.description"))),!!Ve.URLUtils.isMobileDeepLink(e)&&(V(t),!0)},showError:me,setShowError:ve,disabled:!Se||!be,readOnly:b,addURLTooltip:A("common:addURL"),duplicateURLErrorMessage:A("common:duplicateURLError"),"data-testid":"".concat(C,"-return-to-urls-input"),showPredictions:!1,customLabel:F,popupHeaderPositive:A("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:A("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:A("console:develop.features.URLInput.withLabel.positive.content",{productName:H.ui.productName}),popupContentNegative:A("console:develop.features.URLInput.withLabel.negative.content",{productName:H.ui.productName}),popupDetailedContentPositive:A("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:A("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:A("console:common.validations.inSecureURL.description"),showLessContent:A("common:showLess"),showMoreContent:A("common:showMore")}),s.createElement(l.kW,{disabled:!be},A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.hint")),m.applicationConfig.inboundSAMLForm.showQueryRequestProfile&&s.createElement(s.Fragment,null,s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(ge.Z,null)),s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},A("console:develop.features.applications.forms.inboundSAML.sections.requestProfile.heading")),s.createElement(ge.Z,{hidden:!0}),s.createElement(qe.gN,{ref:Zt,name:"assertionQueryProfile",label:"",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.requestProfile.fields.enable.validations.empty"),value:null!=v&&v.enableAssertionQueryProfile?["enableAssertionQueryProfile"]:[],type:"checkbox",children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.requestProfile.fields.enable.label"),value:"enableAssertionQueryProfile"}],readOnly:b,"data-testid":"".concat(C,"-assertion-query-profile-checkbox")})))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Pt,{protocol:y.AI.SAML,deleteAllowed:!(null!=v&&null!==(n=v.requestValidation)&&void 0!==n&&n.enableSignatureValidation||null!=v&&null!==(o=v.singleSignOnProfile)&&void 0!==o&&null!==(i=o.assertion)&&void 0!==i&&null!==(a=i.encryption)&&void 0!==a&&a.enabled),reasonInsideTooltipWhyDeleteIsNotAllowed:A("console:develop.features.applications.forms.inboundSAML.sections.certificates.disabledPopup"),onUpdate:r,application:d,updateCertFinalValue:We,updateCertType:Qe,canDiscardCertificate:function(){return!Te},certificate:f,readOnly:b,hidden:!1,isRequired:!0,hideJWKS:!0,triggerSubmit:rt}))),!b&&s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement("span",{ref:jt}),s.createElement(_.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:E,disabled:E,"data-testid":"".concat(C,"-submit-button")},A("common:update")))))):null};function nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return on(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return on(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}tn.defaultProps={"data-testid":"inbound-saml-form"};var an=function(e){var t=e.certificate,n=e.metadata,o=e.initialValues,i=e.onSubmit,d=e.readOnly,p=e.isLoading,f=e["data-testid"],m=(0,c.$)().t,v=(0,u.I0)(),g=nn((0,s.useState)(!1),2),h=g[0],E=g[1],S=nn((0,s.useState)(!1),2),C=S[0],A=S[1],O=nn((0,s.useState)(void 0),2),w=O[0],I=O[1],R=nn((0,s.useState)(null),2),L=R[0],k=R[1];(0,s.useEffect)((function(){y.el.PEM===(null==t?void 0:t.type)&&(E(!0),null!=t&&t.value&&I(t.value))}),[t]);var P,M;return n?s.createElement(qe.Es,{onSubmit:function(e){i(function(e){return{general:{advancedConfigurations:{certificate:{type:e.get("type"),value:h?e.get("certificateValue"):e.get("jwksValue")}}},inbound:{audience:e.get("audience"),certificateAlias:e.get("certificateAlias")}}}(e))}},s.createElement(N.Z,null,s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{name:"audience",label:m("console:develop.features.applications.forms.inboundWSTrust.fields.audience.label"),required:!0,requiredErrorMessage:m("console:develop.features.applications.forms.inboundWSTrust.fields.audience.validations.empty"),placeholder:m("console:develop.features.applications.forms.inboundWSTrust.fields.audience.placeholder"),type:"text",value:null==o?void 0:o.audience,readOnly:d||!(0,T.Z)(null==o?void 0:o.audience),"data-testid":"".concat(f,"-audience-input")}),s.createElement(l.kW,{disabled:!(0,T.Z)(null==o?void 0:o.audience)},m("console:develop.features.applications.forms.inboundWSTrust.fields.audience.hint")))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{label:m("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.label"),name:"certificateAlias",type:"dropdown",required:!0,requiredErrorMessage:m("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.validations.empty"),default:null==n?void 0:n.certificateAlias.defaultValue,value:null==o?void 0:o.certificateAlias,children:(P=null==n?void 0:n.certificateAlias,M=[],P&&P.options.map((function(e){M.push({key:P.options.indexOf(e),text:e,value:e})})),M),readOnly:d,"data-testid":"".concat(f,"-certificate-alias-dropdown")}),s.createElement(l.kW,null,m("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.hint")))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(ge.Z,null)),s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(l.X6,{as:"h5"},m("console:develop.features.applications.forms.advancedConfig.sections.certificate.heading")),s.createElement(qe.gN,{label:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.label"),name:"type",default:y.el.JWKS,listen:function(e){E("PEM"===e.get("type"))},type:"radio",value:null==t?void 0:t.type,children:[{label:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.jwks.label"),value:y.el.JWKS},{label:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:y.el.PEM}],readOnly:d,"data-testid":"".concat(f,"-certificate-type-radio-group")}))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},h?s.createElement(s.Fragment,null,s.createElement(qe.gN,{name:"certificateValue",label:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.label"),required:!1,requiredErrorMessage:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.validations.empty"),placeholder:b.jo.PEM_CERTIFICATE_PLACEHOLDER,type:"textarea",value:y.el.PEM===(null==t?void 0:t.type)&&(null==t?void 0:t.value),listen:function(e){I(e.get("certificateValue"))},readOnly:d,"data-testid":"".concat(f,"-certificate-textarea")}),s.createElement(l.kW,null,m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.hint")),s.createElement(l.Qj,{className:"certificate-info-link-button",onClick:function(e){var t;e.preventDefault(),h&&w&&((t=Ve.CertificateManagementUtils.canSafelyParseCertificate(w)?Ve.CertificateManagementUtils.displayCertificate(null,w):Fe.lu.DUMMY_DISPLAY_CERTIFICATE)?(k(t),A(!0)):v((0,r.V_)({description:m("console:common.notifications.invalidPEMFile.genericError.description"),level:a.QU.ERROR,message:m("console:common.notifications.invalidPEMFile.genericError.message")})))},disabled:(0,T.Z)(w),"data-testid":"".concat(f,"-certificate-info-button")},m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.actions.view"))):s.createElement(s.Fragment,null,s.createElement(qe.gN,{name:"jwksValue",label:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.label"),required:!1,requiredErrorMessage:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.empty"),placeholder:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.placeholder"),type:"text",validation:function(e,t){Be.I.url(e)||(t.isValid=!1,t.errorMessages.push(m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.invalid")))},value:y.el.JWKS===(null==t?void 0:t.type)&&(null==t?void 0:t.value),readOnly:d,"data-testid":"".concat(f,"-jwks-input")})))),C&&s.createElement(Ge,{open:C,certificate:L,onClose:function(){A(!1)}}),!d&&s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.Z,{primary:!0,type:"submit",size:"small",className:"form-button","data-testid":"".concat(f,"-submit-button"),loading:p,disabled:p},m("common:update")))))):null};an.defaultProps={"data-testid":"inbound-ws-trust-form"};var rn=function(e){var t=e.onUpdate,n=e.application,o=e.certificate,i=e.metadata,a=e.initialValues,r=e.onSubmit,l=e.type,c=e.onApplicationRegenerate,u=e.onApplicationRevoke,d=e.readOnly,p=e.allowedOrigins,f=e.tenantDomain,m=e.template,v=e.showSAMLCreation,g=e.SAMLCreationOption,h=e.isLoading,b=e.setIsLoading,E=e.containerRef,S=e["data-testid"];switch(l){case y.AI.OIDC:case y.AI.OAUTH2_OIDC:return s.createElement(Ht,{onUpdate:t,application:n,isLoading:h,setIsLoading:b,certificate:o,tenantDomain:f,allowedOriginList:p,initialValues:a,metadata:i,onSubmit:r,onApplicationRegenerate:c,onApplicationRevoke:u,readOnly:d,template:m,"data-testid":S,containerRef:E});case y.AI.SAML:return v&&g&&g!==y.T6.MANUAL?s.createElement($t,{isLoading:h,initialValues:a,creationOption:g||y.T6.META_URL,onSubmit:r,"data-testid":S}):s.createElement(tn,{onUpdate:t,application:n,isLoading:h,certificate:o,initialValues:a,metadata:i,onSubmit:r,readOnly:d,"data-testid":S,containerRef:E});case y.AI.WS_TRUST:return s.createElement(an,{isLoading:h,certificate:o,initialValues:a,metadata:i,onSubmit:r,readOnly:d,"data-testid":S});case y.AI.WS_FEDERATION:return s.createElement(Gt,{onUpdate:t,application:n,isLoading:h,certificate:o,initialValues:a,onSubmit:r,readOnly:d,"data-testid":S});case y.AI.CUSTOM:return s.createElement(Ye,{isLoading:h,certificate:o,metadata:i,initialValues:a,onSubmit:r,"data-testid":S});default:return null}};function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return un(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}rn.defaultProps={"data-testid":"inbound-form-factory",showSAMLCreation:!1};var dn="application-general-details",pn=function(e){var t=e.appId,n=e.name,o=e.description,i=e.discoverability,a=e.hiddenFields,r=e.imageUrl,d=e.accessUrl,p=e.onSubmit,f=e.readOnly,v=e.hasRequiredScope,y=e.isSubmitting,E=e.isManagementApp,S=e.application,C=e["data-testid"],A=(0,c.$)().t,O=(0,l.fQ)().getLink,w=(0,u.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t?void 0:t.ui})),I=cn((0,s.useState)(i),2),T=I[0],R=I[1],L=cn((0,s.useState)(g.$x.DEFAULT_MY_ACCOUNT_STATUS),2),N=L[0],k=L[1],P=window.AppUtils.getConfig().organizationName,M=function(e){var n,o,i,r;p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){sn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({accessUrl:null===(n=e.accessUrl)||void 0===n?void 0:n.toString(),advancedConfigurations:{discoverableByEndUsers:e.discoverableByEndUsers},description:null===(o=e.description)||void 0===o?void 0:o.toString().trim(),id:t,name:null===(i=e.name)||void 0===i?void 0:i.toString()},!(null!=a&&a.includes("imageUrl"))&&{imageUrl:null===(r=e.imageUrl)||void 0===r?void 0:r.toString()}))},x=(0,h.pv)(!P),D=x.data,Z=x.isLoading;return(0,s.useEffect)((function(){var e=g.$x.DEFAULT_MY_ACCOUNT_STATUS;if(D){var t=D.value;t&&"false"===t&&(e=!1)}k(e)}),[Z]),Z?s.createElement(l.pJ,{padded:"very"},s.createElement(l.pO,{inline:"centered",active:!0})):s.createElement(ve.l0,{id:dn,uncontrolledForm:!1,onSubmit:function(e){M(e)},initialValues:{accessUrl:d,description:o,name:n},validate:function(e){var t={accessUrl:void 0};return T&&!e.accessUrl&&(t.accessUrl=A("console:develop.features.applications.forms.generalDetails.fields.accessUrl.validations.empty")),t}},void 0===O("develop.connections.newConnection.enterprise.samlLearnMore")?null:s.createElement(ge.Z,{hidden:!0}),E&&s.createElement(l.v0,{type:"info",content:s.createElement(s.Fragment,null,A("console:develop.features.applications.forms.generalDetails.managementAppBanner"),s.createElement(l.eb,{link:O("develop.applications.managementApplication.learnMore")},A("common:learnMore")))}),!w.systemAppsIdentifiers.includes(n)&&s.createElement(ve.gN.Input,{ariaLabel:"Application name",inputType:"name",name:"name",label:A("console:develop.features.applications.forms.generalDetails.fields.name.label"),required:!0,placeholder:A("console:develop.features.applications.forms.generalDetails.fields.name.placeholder"),value:n,readOnly:f,validation:function(e){return function(e){if(!e||!e.match(b.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_PATTERN))return"Please enter a valid input."}(e.toString().trim())},maxLength:b.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH,minLength:3,"data-testid":"".concat(C,"-application-name-input"),width:16}),s.createElement(ve.gN.Textarea,{ariaLabel:"Application description",name:"description",label:A("console:develop.features.applications.forms.generalDetails.fields.description.label"),required:!1,placeholder:A("console:develop.features.applications.forms.generalDetails.fields.description.placeholder"),value:o,readOnly:f,validation:function(e){return function(e){if(!e||!e.match(b.jo.FORM_FIELD_CONSTRAINTS.APP_DESCRIPTION_PATTERN))return"Please enter a valid input."}(e.toString().trim())},maxLength:300,minLength:3,"data-testid":"".concat(C,"-application-description-textarea"),width:16}),s.createElement(ve.gN.Input,{ariaLabel:"Application image URL",inputType:"url",name:"imageUrl",label:A("console:develop.features.applications.forms.generalDetails.fields.imageUrl.label"),required:!1,placeholder:A("console:develop.features.applications.forms.generalDetails.fields.imageUrl.placeholder"),value:r,readOnly:f,"data-testid":"".concat(C,"-application-image-url-input"),maxLength:200,minLength:3,hint:A("console:develop.features.applications.forms.generalDetails.fields.imageUrl.hint"),width:16,hidden:null==a?void 0:a.includes("imageUrl")}),N||P?s.createElement(ve.gN.Checkbox,{ariaLabel:"Make application discoverable by end users",name:"discoverableByEndUsers",required:!1,label:A("console:develop.features.applications.forms.generalDetails.fields.discoverable.label"),initialValue:T,readOnly:f,"data-testid":"".concat(C,"-application-discoverable-checkbox"),listen:function(e){return R(e)},hint:s.createElement(U.c,{i18nKey:S.templateId===b.jo.MOBILE?"console:develop.features.applications.forms.inboundOIDC.mobileApp.discoverableHint":"console:develop.features.applications.forms.generalDetails.fields.discoverable.hint",tOptions:{myAccount:"My Account"}}," ",void 0===O("develop.applications.managementApplication.selfServicePortal")?s.createElement("strong",{"data-testid":"application-name-assertion"},"My Account"):s.createElement("strong",{className:"link pointing","data-testid":"application-name-assertion",onClick:function(){return window.open(O("develop.applications.managementApplication.selfServicePortal"),"_blank")}},"My Account")),width:16}):null,s.createElement(ve.gN.Input,{ariaLabel:"Application access URL",inputType:"url",name:"accessUrl",label:A("console:develop.features.applications.forms.generalDetails.fields.accessUrl.label"),required:T,placeholder:A("console:develop.features.applications.forms.generalDetails.fields.accessUrl.placeholder"),value:d,readOnly:!v||f&&m.applicationConfig.generalSettings.getFieldReadOnlyStatus(S,"ACCESS_URL"),maxLength:200,minLength:3,"data-testid":"".concat(C,"-application-access-url-input"),hint:A("console:develop.features.applications.forms.generalDetails.fields.accessUrl.hint"),width:16}),s.createElement(ve.gN.Button,{form:dn,size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button","data-testid":"".concat(C,"-submit-button"),disabled:y,loading:y,label:A("common:update"),hidden:!v||f&&m.applicationConfig.generalSettings.getFieldReadOnlyStatus(S,"ACCESS_URL")}))};function fn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}pn.defaultProps={"data-testid":"application-general-settings-form"};var vn="application-provisioning-configuration-form",gn=function(e){var t,n,o,i=e.config,a=e.onSubmit,r=e.readOnly,l=e.useStoreList,u=e.isSubmitting,d=e["data-testid"],p=(0,c.$)().t,f=fn((0,s.useState)(!1),2),m=f[0],v=f[1],g=function(e){var t={provisioningConfigurations:{inboundProvisioning:{provisioningUserstoreDomain:e.provisioningUserstoreDomain,proxyMode:!!e.proxyMode}}};a(t)};return(0,s.useEffect)((function(){var e,t;null!=i&&null!==(e=i.inboundProvisioning)&&void 0!==e&&e.proxyMode&&v(null==i||null===(t=i.inboundProvisioning)||void 0===t?void 0:t.proxyMode)}),[i]),s.createElement(ve.l0,{id:vn,uncontrolledForm:!1,onSubmit:function(e){g(e)}},s.createElement(ve.gN.CheckboxLegacy,{ariaLabel:"Proxy mode",name:"proxyMode",label:p("console:develop.features.applications.forms.provisioningConfig.fields.proxyMode.label"),required:!1,value:null!=i&&null!==(t=i.inboundProvisioning)&&void 0!==t&&t.proxyMode?["modeOn"]:[],listen:function(e){return v(e)},readOnly:r,"data-testid":"".concat(d,"-proxy-mode-checkbox"),hint:p("console:develop.features.applications.forms.provisioningConfig.fields.proxyMode.hint")}),s.createElement(ve.gN.Dropdown,{ariaLabel:"Provisioning userstore domain",name:"provisioningUserstoreDomain",label:p("console:develop.features.applications.forms.provisioningConfig.fields.userstoreDomain.label"),required:!1,default:l&&l.length>0&&l[0].name,value:null==i||null===(n=i.inboundProvisioning)||void 0===n?void 0:n.provisioningUserstoreDomain,children:(o=[],l&&(null==l||l.map((function(e){o.push({key:l.indexOf(e),text:null==e?void 0:e.name,value:null==e?void 0:e.name})}))),o),disabled:m,readOnly:r,"data-testid":"".concat(d,"-provisioning-userstore-domain-dropdown"),hint:p("console:develop.features.applications.forms.provisioningConfig.fields.userstoreDomain.hint")}),s.createElement(ve.gN.Button,{form:vn,size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button","data-testid":"".concat(d,"-submit-button"),disabled:u,loading:u,label:p("common:update"),hidden:r}))};function hn(e){return function(e){if(Array.isArray(e))return En(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||yn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yn(e,t){if(e){if("string"==typeof e)return En(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?En(e,t):void 0}}function En(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}gn.defaultProps={"data-testid":"application-inbound-provisioning-configurations-form"};var Sn=function(e){var t,n,o=e.appId,d=e.provisioningConfigurations,p=e.onUpdate,f=e.featureConfig,m=e.defaultActiveIndexes,v=e.readOnly,b=e["data-testid"],y=(0,c.$)().t,E=(0,u.I0)(),S=bn((0,s.useState)([]),2),C=S[0],A=S[1],O=(0,u.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),w=bn((0,s.useState)(m),2),I=w[0],T=w[1],R=bn((0,s.useState)(!1),2),L=R[0],k=R[1];return(0,s.useEffect)((function(){var e=[];e.push({id:"PRIMARY",name:"PRIMARY"}),xe.F.isCurrentOrganizationRoot()?(0,De.ow)().then((function(t){e.push.apply(e,hn(t.data)),A(e)})).catch((function(){A(e)})):A(e)}),[]),s.createElement(s.Fragment,null,s.createElement(l.X6,{as:"h4"},y("console:develop.features.applications.edit.sections.provisioning.inbound.heading")),s.createElement(l.X6,{subHeading:!0,as:"h6"},y("console:develop.features.applications.edit.sections.provisioning.inbound.subHeading")),s.createElement(ge.Z,{hidden:!0}),s.createElement(N.Z,null,s.createElement(N.Z.Row,null,s.createElement(N.Z.Column,null,s.createElement(g.Us,{globalActions:[],authenticators:[{content:s.createElement(gn,{config:d,onSubmit:function(e){k(!0),(0,h.TH)(o,e).then((function(){E((0,r.V_)({description:y("console:develop.features.applications.notifications.updateInboundProvisioningConfig.success.description"),level:a.QU.SUCCESS,message:y("console:develop.features.applications.notifications.updateInboundProvisioningConfig.success.message")})),p(o)})).catch((function(){E((0,r.V_)({description:y("console:develop.features.applications.notifications.updateInboundProvisioningConfig.genericError.description"),level:a.QU.ERROR,message:y("console:develop.features.applications.notifications.updateInboundProvisioningConfig.genericError.message")}))})).finally((function(){k(!1)}))},useStoreList:C,readOnly:v||!(0,i.Xr)(null==f?void 0:f.applications,null==f||null===(t=f.applications)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.update,O),"data-testid":"".concat(b,"-form"),isSubmitting:L}),id:"scim",title:"SCIM"}],accordionActiveIndexes:I,accordionIndex:0,handleAccordionOnClick:function(e,t){if(t){var n=hn(I);if(n.includes(t.accordionIndex)){var o=n.indexOf(t.accordionIndex);n.splice(o,1)}else n.push(t.accordionIndex);T(n)}},"data-testid":"".concat(b,"-inbound-connector-accordion")})))))};Sn.defaultProps={"data-testid":"application-inbound-provisioning-configurations",defaultActiveIndexes:[-1]};var Cn=n(46440),An=n(67876),On=n(23587),wn=n(62170),In=n(24730);function Tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||Ln(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ln(e,t){if(e){if("string"==typeof e)return Nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nn(e,t):void 0}}function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var kn=function(e){var t=e.metadata,n=e.initialValues,o=e.onSubmit,i=e.protocolName,a=e.triggerSubmit,r=e["data-testid"],u=(0,c.$)().t,d=function(e,t){var n;return(null==e||null===(n=e.availableValues)||void 0===n?void 0:n.length)>0?s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(qe.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,type:"dropdown",value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:u("console:develop.features.applications.forms.inboundCustom.fields.dropdown.validations.empty",{name:null==e?void 0:e.displayName}),default:null==e?void 0:e.defaultValue,children:f(null==e?void 0:e.availableValues),"data-testid":"".concat(r,"-").concat(null==e?void 0:e.name,"-select")}))):null!=e&&e.isConfidential?s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(qe.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,hidePassword:u("common:hide")+" "+(null==e?void 0:e.displayName),showPassword:u("common:show")+" "+(null==e?void 0:e.displayName),value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:u("console:develop.features.applications.forms.inboundCustom.fields.password.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:u("console:develop.features.applications.forms.inboundCustom.fields.password.placeholder",{name:null==e?void 0:e.displayName}),type:"password",default:null==e?void 0:e.defaultValue,"data-testid":"".concat(r,"-").concat(null==e?void 0:e.name,"-password-input")}))):(null==e?void 0:e.type)===y.og.BOOLEAN?s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(qe.gN,{name:null==e?void 0:e.name,label:"",required:null==e?void 0:e.required,requiredErrorMessage:u("console:develop.features.applications.forms.inboundCustom.fields.checkbox.validations.empty",{user:null==e?void 0:e.displayName}),value:null!=t&&t.value?[e.name]:[],type:"checkbox",children:[{label:e.displayName,value:e.name}],"data-testid":"".concat(r,"-").concat(null==e?void 0:e.name,"-checkbox")}))):s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(qe.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,required:null==e?void 0:e.required,value:null==t?void 0:t.value,requiredErrorMessage:u("console:develop.features.applications.forms.inboundCustom.fields.generic.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:u("console:develop.features.applications.forms.inboundCustom.fields.generic.placeholder",{name:null==e?void 0:e.displayName}),type:(null==e?void 0:e.type)===y.og.INTEGER?"number":"text","data-testid":"".concat(r,"-").concat(null==e?void 0:e.name,"-input")})))},p=function(){if(t){var e=null==t?void 0:t.properties;return e.length>0&&e.sort((function(e,t){return e.displayOrder>t.displayOrder?1:-1})),e.map((function(e){var t=null==n?void 0:n.properties.find((function(t){return t.key===e.name}));return t?d(e,t):d(e)}))}},f=function(e){var t=[];return e&&e.map((function(n){t.push({key:e.indexOf(n),text:n,value:n})})),t},m=function(e){var t,n=[],o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ln(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}(e);try{for(o.s();!(t=o.n()).done;){var a=Tn(t.value,2),r=a[0],l=a[1],s=void 0;s=l instanceof Array?{key:r,value:l.length>0}:{key:r,value:l},n.push(s)}}catch(c){o.e(c)}finally{o.f()}return{inboundProtocolConfiguration:Rn({},i,{configName:i,name:i,properties:[].concat(n)})}};return(0,s.useEffect)((function(){t&&p()}),[t]),t?s.createElement(qe.Es,{onSubmit:function(e){o(m(e))},submitState:a},s.createElement(N.Z,null,p())):s.createElement(l.pO,null)};kn.defaultProps={"data-testid":"custom-protocol-settings-wizard-form"};var Pn=n(30870);function Mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Un(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var xn=function(e){var t,n,o=e.initialValues,i=e.templateValues,a=e.triggerSubmit,r=e.onSubmit,u=e["data-testid"],d=(0,c.$)().t,p=Mn((0,s.useState)(!1),2),m=p[0],v=p[1];return s.createElement(qe.Es,{onSubmit:function(e){return r(function(e){return{accessUrl:e.get("accessUrl").toString(),advancedConfigurations:{discoverableByEndUsers:!!e.get("discoverableByEndUsers").includes("discoverableByEndUsers")},description:e.get("description").toString(),imageUrl:e.get("imageUrl").toString(),name:e.get("name").toString()}}(e))},submitState:a},s.createElement(N.Z,null,s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(qe.gN,{name:"name",label:d("console:develop.features.applications.forms.generalDetails.fields.name.label"),required:!0,requiredErrorMessage:d("console:develop.features.applications.forms.generalDetails.fields.name.validations.empty"),placeholder:d("console:develop.features.applications.forms.generalDetails.fields.name.placeholder"),value:null==o?void 0:o.name,type:"text","data-testid":"".concat(u,"-application-name-input")}))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(qe.gN,{name:"description",label:d("console:develop.features.applications.forms.generalDetails.fields.description.label"),required:!1,requiredErrorMessage:"",placeholder:d("console:develop.features.applications.forms.generalDetails.fields.description.placeholder"),type:"textarea",value:o?null==o?void 0:o.description:null==i?void 0:i.description,"data-testid":"".concat(u,"-application-description-textarea")}))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(qe.gN,{name:"imageUrl",label:d("console:develop.features.applications.forms.generalDetails.fields.imageUrl.label"),required:!1,requiredErrorMessage:"",placeholder:d("console:develop.features.applications.forms.generalDetails.fields.imageUrl.placeholder"),validation:function(e,t){Be.I.url(e)||(t.isValid=!1,t.errorMessages.push(d("console:develop.features.applications.forms.generalDetails.fields.imageUrl.validations.invalid")))},value:o?null==o?void 0:o.imageUrl:null==i?void 0:i.imageUrl,type:"text","data-testid":"".concat(u,"-application-image-url-input")}))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(qe.gN,{name:"discoverableByEndUsers",required:!1,requiredErrorMessage:"",type:"checkbox",listen:function(e){v(e.get("discoverableByEndUsers").includes("discoverableByEndUsers"))},children:[{label:d("console:develop.features.applications.forms.generalDetails.fields.discoverable.label"),value:"discoverableByEndUsers"}],value:o?null!=o&&null!==(t=o.advancedConfigurations)&&void 0!==t&&t.discoverableByEndUsers?["discoverableByEndUsers"]:[]:null!=i&&null!==(n=i.advancedConfigurations)&&void 0!==n&&n.discoverableByEndUsers?["discoverableByEndUsers"]:[],"data-testid":"".concat(u,"-application-discoverable-checkbox")}),s.createElement(l.kW,{compact:!0},s.createElement(U.c,{i18nKey:"console:develop.features.applications.forms.generalDetails.fields.discoverable.hint"},"If an application is flagged as discoverable, it will be visible to end users in",s.createElement("a",{href:Pn.$x.getMyAccountPath(),target:"_blank",rel:"noopener noreferrer",className:"link external"},"My Account"),s.createElement(f.Z,{className:"ml-1 link primary",name:"external"}))),s.createElement(ge.Z,{hidden:!0}),s.createElement(qe.gN,{name:"accessUrl",label:d("console:develop.features.applications.forms.generalDetails.fields.accessUrl.label"),required:m,requiredErrorMessage:d("console:develop.features.applications.forms.generalDetails.fields.accessUrl.validations.empty"),placeholder:d("console:develop.features.applications.forms.generalDetails.fields.accessUrl.placeholder"),validation:function(e,t){Be.I.url(e)||(t.isValid=!1,t.errorMessages.push(d("console:develop.features.applications.forms.generalDetails.fields.accessUrl.validations.invalid")))},type:"text",value:o?null==o?void 0:o.accessUrl:null==i?void 0:i.accessUrl,"data-testid":"".concat(u,"-application-access-url-input")}),s.createElement(l.kW,{compact:!0},d("console:develop.features.applications.forms.generalDetails.fields.accessUrl.hint")))))))};function Dn(e){return function(e){if(Array.isArray(e))return jn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||_n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _n(e,t){if(e){if("string"==typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jn(e,t):void 0}}function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}xn.defaultProps={"data-testid":"application-general-settings-wizard-form"};var Fn=function(e){var t,n,o=e.selectedTemplate,i=e.isProtocolConfig,a=e.allowedOrigins,r=e.fields,d=e.hideFieldHints,p=e.initialValues,f=e.triggerSubmit,m=e.onSubmit,v=e.templateValues,g=e.showCallbackURL,E=e.tenantDomain,S=e.addOriginByDefault,C=e.isAllowEnabled,A=e["data-testid"],O=(0,c.$)().t,w=Zn((0,s.useState)(""),2),I=w[0],R=w[1],L=Zn((0,s.useState)(""),2),k=L[0],P=L[1],M=Zn((0,s.useState)([]),2),x=M[0],D=M[1],Z=Zn((0,s.useState)([]),2),_=Z[0],j=Z[1],F=Zn((0,s.useState)(!1),2),V=F[0],q=F[1],B=Zn((0,s.useState)(!1),2),H=B[0],z=B[1],W=Zn((0,s.useState)(null),2),G=W[0],K=W[1],Q=Zn((0,s.useState)(!0),2),$=Q[0],Y=Q[1],X=Zn((0,s.useState)(void 0),2),J=X[0],ee=X[1],te=Zn((0,s.useState)(void 0),2),ne=te[0],oe=te[1],ie=Zn((0,s.useState)(!1),2),ae=ie[0],re=ie[1],le=Zn((0,s.useState)(!1),2),se=le[0],ce=le[1],ue=Zn((0,s.useState)(!1),2),de=ue[0],pe=ue[1],fe=(0,u.v9)((function(e){return e.config})),me=Zn((0,s.useState)(a||[]),2),ve=me[0],ge=me[1];(0,s.useEffect)((function(){(null==o?void 0:o.id)===y.EL.OIDC&&ce(!0)}),[o]),(0,s.useEffect)((function(){H&&I&&""!==I&&z(!1)}),[I]),(0,s.useEffect)((function(){null!=ne&&ne.includes("authorization_code")||null!=ne&&ne.includes("implicit")?Y(!0):Y(!1)}),[ne,ae]),(0,s.useEffect)((function(){var e,t,n,o;void 0===ne&&(null!=v&&null!==(e=v.inboundProtocolConfiguration)&&void 0!==e&&null!==(t=e.oidc)&&void 0!==t&&t.grantTypes&&oe(Dn(null==v||null===(n=v.inboundProtocolConfiguration)||void 0===n||null===(o=n.oidc)||void 0===o?void 0:o.grantTypes)))}),[v]),(0,s.useEffect)((function(){var e,t;if(v){var n=null==v||null===(e=v.inboundProtocolConfiguration)||void 0===e||null===(t=e.oidc)||void 0===t?void 0:t.callbackURLs;n&&Array.isArray(n)&&n.length>0&&P(n[0])}}),[v]),(0,s.useEffect)((function(){void 0===J&&null!=o&&o.authenticationProtocol&&(0,h.WL)(o.authenticationProtocol).then((function(e){ee(e)}))}),[J]),(0,s.useEffect)((function(){var e,t;if(o){var n=null==v||null===(e=v.inboundProtocolConfiguration)||void 0===e||null===(t=e.oidc)||void 0===t?void 0:t.grantTypes;ot(n,["refresh_token"]).length>0&&o.id!==dt.id&&o.id!==b.jo.MOBILE&&q(!0)}}),[v,o]);var he=function(e){var t,n,o=null==e?void 0:e.replace(/['"]+/g,"");(null===(t=o)||void 0===t?void 0:t.split(",").length)>1&&(o="regexp=("+(null===(n=o)||void 0===n?void 0:n.split(",").join("|"))+")");return o},be=function(e){return e&&e.includes("regexp=(")&&(e=(e=(e=e.replace("regexp=(","")).replace(")","")).split("|").join(",")),e};(0,s.useEffect)((function(){var e;if((0,T.Z)(null==p||null===(e=p.inboundProtocolConfiguration)||void 0===e?void 0:e.oidc)){var t,n,o,i,a,r,l,s,c;if((0,T.Z)(null==v||null===(t=v.inboundProtocolConfiguration)||void 0===t||null===(n=t.oidc)||void 0===n?void 0:n.callbackURLs))R("");else R(be(null==v||null===(s=v.inboundProtocolConfiguration)||void 0===s||null===(c=s.oidc)||void 0===c?void 0:c.callbackURLs[0]));null!=v&&null!==(o=v.inboundProtocolConfiguration)&&void 0!==o&&null!==(i=o.oidc)&&void 0!==i&&i.publicClient&&D(["supportPublicClients"]),null!=v&&null!==(a=v.inboundProtocolConfiguration)&&void 0!==a&&null!==(r=a.oidc)&&void 0!==r&&null!==(l=r.refreshToken)&&void 0!==l&&l.renewRefreshToken&&j(["refreshToken"])}else{var u,d,f,m,g,h,b;R(be(null==p||null===(u=p.inboundProtocolConfiguration)||void 0===u||null===(d=u.oidc)||void 0===d?void 0:d.callbackURLs[0])),null!=p&&null!==(f=p.inboundProtocolConfiguration)&&void 0!==f&&null!==(m=f.oidc)&&void 0!==m&&m.publicClient&&D(["supportPublicClients"]),null!=p&&null!==(g=p.inboundProtocolConfiguration)&&void 0!==g&&null!==(h=g.oidc)&&void 0!==h&&null!==(b=h.refreshToken)&&void 0!==b&&b.renewRefreshToken&&j(["refreshToken"])}}),[p]);var ye,Ee,Se,Ce=function(e){var t,n=[];(null==e?void 0:e.split(",").length)>1?n=null==e?void 0:e.split(","):n.push(e);var o=null===(t=n)||void 0===t?void 0:t.map((function(e){var t;return null===(t=Ve.URLUtils.urlComponents(e))||void 0===t?void 0:t.origin}));return Dn(new Set(o.filter((function(e){return ve.includes(e)}))))},Ae=function(e,t){var n={inboundProtocolConfiguration:{oidc:{}}};return $&&(g||!r||r.includes("callbackURLs"))&&(n.inboundProtocolConfiguration.oidc.callbackURLs=[he(t||I)]),r&&!r.includes("publicClient")||(n.inboundProtocolConfiguration.oidc.publicClient=e.get("publicClients").includes("supportPublicClients")),(V||!r||r.includes("RefreshToken"))&&(n.inboundProtocolConfiguration.oidc.refreshToken={renewRefreshToken:e.get("RefreshToken").includes("refreshToken")}),$&&(g||!r||r.includes("callbackURLs"))&&(n.inboundProtocolConfiguration.oidc.allowedOrigins=Ce(t||I)),!$&&ne&&(n.inboundProtocolConfiguration.oidc.grantTypes=ne,n.inboundProtocolConfiguration.oidc.allowedOrigins=Ce(t||I)),n},Oe=function(e){var t=Dn(ve);t.push(e),ge(t)};return v?s.createElement(qe.Es,{onSubmit:function(e){$||!i?ye((function(t){(0,T.Z)(I)&&(0,T.Z)(t)?z(!0):m(Ae(e,t))})):m(Ae(e))},submitState:f},s.createElement(N.Z,null,i&&se&&s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(qe.gN,{name:"grant",label:O("console:develop.features.applications.forms.inboundOIDC.fields.grant.label"),type:"checkbox",required:!0,requiredErrorMessage:O("console:develop.features.applications.forms.inboundOIDC.fields.grant.validations.empty"),children:(Ee=null==J?void 0:J.allowedGrantTypes,Se=[],Ee&&Ee.options.map((function(e){Se.push({displayName:e.displayName,name:e.name})})),Se),value:null==v||null===(t=v.inboundProtocolConfiguration)||void 0===t||null===(n=t.oidc)||void 0===n?void 0:n.grantTypes,"data-testid":"".concat(A,"-grant-type-checkbox-group"),listen:function(e){return function(e){var t=e.get("grant");oe(t),re(!ae)}(e)}}),s.createElement(l.kW,null,O("console:develop.features.applications.forms.inboundOIDC.fields.grant.hint")))),(!r||r.includes("callbackURLs"))&&$&&s.createElement(N.Z.Row,{column:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},s.createElement(l.wE,{isCustom:o.templateId===b.jo.MOBILE,labelEnabled:!0,handleAddAllowedOrigin:function(e){return Oe(e)},handleRemoveAllowedOrigin:function(e){return function(e){var t=Dn(ve);t.includes(e)&&t.splice(t.indexOf(e),1),ge(t)}(e)},tenantDomain:E,allowedOrigins:ve,urlState:I,setURLState:R,labelName:o.templateId===b.jo.MOBILE?"Authorized redirect URIs":O("console:develop.features.applications.forms.spaProtocolSettingsWizard.fields.callBackUrls.label"),placeholder:o.templateId===b.jo.MOBILE?O("console:develop.features.applications.forms.inboundOIDC.mobileApp.mobileAppPlaceholder"):O("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.placeholder"),validationErrorMsg:O(de?"console:develop.features.applications.forms.spaProtocolSettingsWizard.fields.urlDeepLinkError":"console:develop.features.applications.forms.spaProtocolSettingsWizard.fields.callBackUrls.validations.invalid"),emptyErrorMessage:O("console:develop.features.applications.forms.spaProtocolSettingsWizard.fields.callBackUrls.validations.empty"),skipInternalValidation:o.templateId===b.jo.MOBILE,validation:function(e){return!!(o.templateId===b.jo.MOBILE||Ve.URLUtils.isURLValid(e,!0)&&(Ve.URLUtils.isHttpUrl(e)||Ve.URLUtils.isHttpsUrl(e)))&&(Ve.URLUtils.isMobileDeepLink(e)?(K(null),!0):(pe(!0),!1))},computerWidth:10,setShowError:z,showError:H,hint:!d&&O("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.hint"),addURLTooltip:O("common:addURL"),duplicateURLErrorMessage:O("common:duplicateURLError"),"data-testid":"".concat(A,"-callback-url-input"),getSubmit:function(e){ye=e},productName:fe.ui.productName,required:!0,showPredictions:!1,customLabel:G,isAllowEnabled:C,addOriginByDefault:S,popupHeaderPositive:O("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:O("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:O("console:develop.features.URLInput.withLabel.positive.content",{productName:fe.ui.productName}),popupContentNegative:O("console:develop.features.URLInput.withLabel.negative.content",{productName:fe.ui.productName}),popupDetailedContentPositive:O("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:O("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:O("console:common.validations.inSecureURL.description"),showLessContent:O("common:showLess"),showMoreContent:O("common:showMore")}),k&&s.createElement(l.v0,{type:"info",content:s.createElement(s.Fragment,null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.info",tOptions:{callBackURLFromTemplate:k}},"Don\u2019t have an app? Try out a sample app using ",s.createElement("strong",null,k),"as the Authorized URL."),(void 0===I||""===I)&&s.createElement(l.Qj,{className:"m-1 p-1 with-no-border orange",onClick:function(e){e.preventDefault();var t=new URL(k);Oe(t.origin),R(k)},"data-testid":"".concat(A,"-add-now-button")},s.createElement("span",{style:{fontWeight:"bold"}},"Add Now")))}))),!r||r.includes("publicClient")&&s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(qe.gN,{name:"publicClients",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:x,children:[{label:O("console:develop.features.applications.forms.inboundOIDC.fields.public.label"),value:"supportPublicClients"}],"data-testid":"".concat(A,"-public-client-checkbox")}),!d&&s.createElement(l.kW,null,O("console:develop.features.applications.forms.inboundOIDC.fields.public.hint")))),!r||r.includes("RefreshToken")||V&&s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(qe.gN,{name:"RefreshToken",label:"",required:!1,requiredErrorMessage:O("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.renew.validations.empty"),type:"checkbox",value:_,children:[{label:O("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.renew.label"),value:"refreshToken"}],"data-testid":"".concat(A,"-renew-refresh-token-checkbox")}),!d&&s.createElement(l.kW,null,O("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.renew.hint")))))):s.createElement(l.pO,null)};Fn.defaultProps={"data-testid":"oauth-protocol-settings-wizard-form",hideFieldHints:!1,showCallbackURL:!1};var Vn=function(e){var t=e.initialValues,n=e.templateValues,o=e.triggerSubmit,i=e.onSubmit,a=e["data-testid"],r=(0,c.$)().t;return n?s.createElement(qe.Es,{onSubmit:function(e){i(function(e){return{inboundProtocolConfiguration:{passiveSts:{realm:e.get("realm"),replyTo:e.get("replyTo")}}}}(e))},submitState:o},s.createElement(N.Z,null,s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(qe.gN,{name:"realm",label:r("console:develop.features.applications.forms.inboundSTS.fields.realm.label"),required:!0,requiredErrorMessage:r("console:develop.features.applications.forms.inboundSTS.fields.realm.validations.empty"),placeholder:r("console:develop.features.applications.forms.inboundSTS.fields.realm.placeholder"),type:"text",value:t?null==t?void 0:t.realm:null==n?void 0:n.realm,"data-testid":"".concat(a,"-realm-input")}),s.createElement(l.kW,null,r("console:develop.features.applications.forms.inboundSTS.fields.realm.hint")))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(qe.gN,{name:"replyTo",label:r("console:develop.features.applications.forms.inboundSTS.fields.replyTo.label"),required:!0,requiredErrorMessage:r("console:develop.features.applications.forms.inboundSTS.fields.replyTo.validations.empty"),placeholder:r("console:develop.features.applications.forms.inboundSTS.fields.replyTo.placeholder"),validation:function(e,t){Be.I.url(e)||(t.isValid=!1,t.errorMessages.push(r("console:develop.features.applications.forms.inboundSTS.fields.replyTo.validations.invalid")))},type:"text",value:t?null==t?void 0:t.replyTo:null==n?void 0:n.replyTo,"data-testid":"".concat(a,"-reply-url-input")}),s.createElement(l.kW,null,r("console:develop.features.applications.forms.inboundSTS.fields.replyTo.hint")))))):s.createElement(l.pO,null)};function qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(n),!0).forEach((function(t){Hn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Vn.defaultProps={"data-testid":"passive-sts-protocol-settings-wizard-form"};var Gn=function(e){var t=e.initialSelectedTemplate,n=e.selectedProtocols,o=e.onSubmit,i=e.defaultTemplates,a=e.setSelectedCustomInboundProtocol,r=e.triggerSubmit,d=e["data-testid"],p=(0,c.$)().t,f=(0,u.v9)((function(e){return e.application.templates})),m=(0,u.v9)((function(e){return e.application.meta.customInboundProtocols})),v=(0,u.v9)((function(e){return e.application.meta.customInboundProtocolChecked})),h=zn((0,s.useState)(void 0),2),b=h[0],S=h[1],C=zn((0,s.useState)(!1),2),A=C[0],O=C[1],w=zn((0,s.useState)(!1),2),I=w[0],T=w[1],R=(0,s.useRef)(!0);(0,s.useEffect)((function(){v||(T(!0),E.yf.getCustomInboundProtocols(k.oK,!0).finally((function(){T(!1)})))}),[v]),(0,s.useEffect)((function(){R.current?R.current=!1:o(b)}),[r]),(0,s.useEffect)((function(){void 0===f&&(O(!0),E.e7.getApplicationTemplates().finally((function(){O(!1)})))}),[f]),(0,s.useEffect)((function(){t&&S(t)}),[t]);var L=function(e,t){var n=t.id,o=null==i?void 0:i.find((function(e){return e.id===n}));o||(o=null==f?void 0:f.find((function(e){return e.id===n}))),o&&S(o)},N=function(e){return e?e.filter((function(e){return!n.includes(e.authenticationProtocol)})):null},P=N(i),M=N(f),U=function(){var e=[];if(m.length>0)return m.map((function(t){var n={authenticationProtocol:t.name,id:t.name,image:t.displayName,name:t.displayName};e.push(n)})),e.filter((function(e){return!n.includes(e.authenticationProtocol)}))}();return s.createElement(s.Fragment,null,!A&&s.createElement(l.Gn,{type:"application",templates:f&&f instanceof Array&&f.length>0?M.filter((function(e){return e.category===y.rz.DEFAULT})):[],templateIcons:Bn(Bn(Bn({},(0,lt.ZP)()),(0,g.r2)()),(0,lt.B0)()),templateIconOptions:{fill:"primary"},templateIconSize:"tiny",heading:p("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.heading"),subHeading:p("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.subHeading"),onTemplateSelect:L,paginate:!0,paginationLimit:4,paginationOptions:{showLessButtonLabel:p("common:showLess"),showMoreButtonLabel:p("common:showMore")},selectedTemplate:b,useSelectionCard:!0,emptyPlaceholder:s.createElement(l.$J,{image:(0,g.jF)().newList,imageSize:"tiny",title:p("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.emptyPlaceholder.title"),subtitle:p("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.emptyPlaceholder.subtitles")}),"data-testid":"".concat(d,"-default-template-grid")}),!I&&s.createElement(l.Gn,{type:"application",templates:P,secondaryTemplates:U,templateIcons:(0,lt.B0)(),templateIconOptions:{fill:"primary"},templateIconSize:"tiny",heading:p("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.manualSetup.heading"),subHeading:p("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.manualSetup.subHeading"),onTemplateSelect:L,onSecondaryTemplateSelect:function(e,t){var n=t.id,o=null==U?void 0:U.find((function(e){return e.id===n}));o&&(a(!0),S(o))},useNameInitialAsImage:!0,paginate:!0,paginationLimit:4,paginationOptions:{showLessButtonLabel:p("common:showLess"),showMoreButtonLabel:p("common:showMore")},selectedTemplate:b,useSelectionCard:!0,emptyPlaceholder:s.createElement(l.$J,{image:(0,g.jF)().newList,imageSize:"tiny",title:p("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.emptyPlaceholder.title"),subtitle:p("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.emptyPlaceholder.subtitles")}),"data-testid":"".concat(d,"-custom-template-grid")}))};function Kn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Gn.defaultProps={"data-testid":"application-protocol-selection-wizard-form"};var $n=function(e){var t,n,o,i,a,r=e.summary,u=e.triggerSubmit,d=e.onSubmit,f=e.image,m=e.customProtocol,v=e.samlMetaFileSelected,g=e["data-testid"],h=(0,c.$)().t,b=Kn((0,s.useState)(""),2),S=b[0],C=b[1];return(0,s.useEffect)((function(){if(u)if(v){var e={metadataFile:null==r?void 0:r.metadataFile};d(e)}else d(r)}),[u]),(0,s.useEffect)((function(){f===y.AI.WS_FEDERATION?C("wsFed"):f===y.AI.WS_TRUST?C("wsTrust"):C(f)}),[f]),s.createElement(N.Z,{className:"wizard-summary","data-testid":g},s.createElement(N.Z.Row,null,s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16,textAlign:"center"},s.createElement("div",{className:"general-details"},m?s.createElement(l.Yt,{name:null==r?void 0:r.name,size:"tiny"}):s.createElement(l.JT,{image:E.yf.findIcon(S,(0,lt.B0)()),size:"tiny"})))),(null==r||null===(t=r.manualConfiguration)||void 0===t?void 0:t.issuer)&&s.createElement(N.Z.Row,{className:"summary-field",columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},h("console:develop.features.applications.addWizard.steps.summary.sections.issuer.heading"))),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value"},null===(n=r.manualConfiguration)||void 0===n?void 0:n.issuer))),(null==r||null===(o=r.manualConfiguration)||void 0===o?void 0:o.serviceProviderQualifier)&&s.createElement(N.Z.Row,{className:"summary-field",columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},h("console:develop.features.applications.addWizard.steps.summary.sections.applicationQualifier.heading"))),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value"},r.manualConfiguration.serviceProviderQualifier))),null!=r&&r.grantTypes&&r.grantTypes instanceof Array&&r.grantTypes.length>0?s.createElement(N.Z.Row,{className:"summary-field",columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},h("console:develop.features.applications.addWizard.steps.summary.sections.grantType.heading"))),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement(p.Z.Group,null,r.grantTypes.map((function(e,t){return s.createElement(p.Z,{key:t,basic:!0,circular:!0},e)}))))):null,(null==r||null===(i=r.manualConfiguration)||void 0===i?void 0:i.assertionConsumerUrls)&&s.createElement(N.Z.Row,{className:"summary-field",columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},h("console:develop.features.applications.addWizard.steps.summary.sections.assertionURLs.heading"))),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},null===(a=r.manualConfiguration)||void 0===a?void 0:a.assertionConsumerUrls.map((function(e,t){return s.createElement("div",{className:"value url",key:t},e)})))),(null==r?void 0:r.metadataURL)&&s.createElement(N.Z.Row,{className:"summary-field",columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},h("console:develop.features.applications.addWizard.steps.summary.sections.metadataURL.heading"))),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value url"},null==r?void 0:r.metadataURL))),(null==r?void 0:r.metadataFile)&&s.createElement(N.Z.Row,{className:"summary-field",columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},h("console:develop.features.applications.addWizard.steps.summary.sections.metaFile.heading"))),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value constrain"},null==r?void 0:r.metadataFile))),(null==r?void 0:r.callbackURLs)&&s.createElement(N.Z.Row,{className:"summary-field",columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},h("console:develop.features.applications.addWizard.steps.summary.sections.callbackURLs.heading"))),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},Ve.EncodeDecodeUtils.decodeURLRegex(r.callbackURLs[0]).map((function(e,t){return s.createElement("div",{className:"value url",key:t},e)})))),(null==r?void 0:r.audience)&&s.createElement(N.Z.Row,{className:"summary-field",columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},h("console:develop.features.applications.addWizard.steps.summary.sections.audience.heading"))),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value url"},null==r?void 0:r.audience))),(null==r?void 0:r.certificateAlias)&&s.createElement(N.Z.Row,{className:"summary-field",columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},h("console:develop.features.applications.addWizard.steps.summary.sections.certificateAlias.heading"))),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value"},null==r?void 0:r.certificateAlias))),(null==r?void 0:r.realm)&&s.createElement(N.Z.Row,{className:"summary-field",columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},h("console:develop.features.applications.addWizard.steps.summary.sections.realm.heading"))),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value"},null==r?void 0:r.realm))),(null==r?void 0:r.replyTo)&&s.createElement(N.Z.Row,{className:"summary-field",columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},h("console:develop.features.applications.addWizard.steps.summary.sections.audience.heading"))),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value url"},null==r?void 0:r.replyTo))),m&&(null==r?void 0:r.properties.map((function(e){return s.createElement(N.Z.Row,{className:"summary-field",columns:2,key:e.key},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},e.key)),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value url"},e.value)))}))))};function Yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}$n.defaultProps={"data-testid":"protocol-wizard-summary",samlMetaFileSelected:!1};var Jn=function(e){var t=e.fields,n=e.hideFieldHints,o=e.initialValues,i=e.templateValues,a=e.triggerSubmit,r=e.onSubmit,d=e.setSAMLConfigureMode,p=e.issuerRef,v=e.metaUrlRef,h=e.issuerError,b=e.metaUrlError,S=e.handleProtocolValueChange,C=e["data-testid"],A=(0,c.$)().t,O=Yn((0,s.useState)(""),2),w=O[0],I=O[1],R=Yn((0,s.useState)(""),2),L=R[0],k=R[1],P=Yn((0,s.useState)(""),2),M=P[0],x=P[1],D=Yn((0,s.useState)(""),2),Z=D[0],j=D[1],F=Yn((0,s.useState)(!1),2),V=F[0],q=F[1],B=Yn((0,s.useState)(null),2),H=B[0],z=B[1],W=Yn((0,s.useState)(void 0),2),G=W[0],K=W[1],Q=Yn((0,s.useState)(!1),2),$=Q[0],Y=Q[1],X=Yn((0,s.useState)(),2),J=X[0],ee=X[1],te=Yn((0,s.useState)(null),2),ne=te[0],oe=te[1],ie=Yn((0,s.useState)(null),2),ae=ie[0],re=ie[1],le=Yn((0,s.useState)(!1),2),se=le[0],ce=le[1],ue=(0,u.v9)((function(e){return e.config}));(0,s.useEffect)((function(){var e;if(K(y.T6.MANUAL),(0,T.Z)(null==o||null===(e=o.inboundProtocolConfiguration)||void 0===e?void 0:e.saml)){var t,n,a,r,l=null==i||null===(t=i.inboundProtocolConfiguration)||void 0===t||null===(n=t.saml)||void 0===n?void 0:n.manualConfiguration.assertionConsumerUrls,s=null==i||null===(a=i.inboundProtocolConfiguration)||void 0===a||null===(r=a.saml)||void 0===r?void 0:r.manualConfiguration.issuer;(0,T.Z)(l)?I(""):I(l.toString()),(0,T.Z)(s)?k(""):k(s.toString())}else{var c,u,d,p,f,m;I(null==o||null===(c=o.inboundProtocolConfiguration)||void 0===c||null===(u=c.saml)||void 0===u||null===(d=u.manualConfiguration.assertionConsumerUrls)||void 0===d?void 0:d.toString()),k(null==o||null===(p=o.inboundProtocolConfiguration)||void 0===p||null===(f=p.saml)||void 0===f||null===(m=f.manualConfiguration.issuer)||void 0===m?void 0:m.toString())}}),[o]),(0,s.useEffect)((function(){J&&se&&ce(!1)}),[J]),(0,s.useEffect)((function(){G&&d(G)}),[G]),(0,s.useEffect)((function(){var e,t,n,o,a,r;if(i){var l=null==i||null===(e=i.inboundProtocolConfiguration)||void 0===e||null===(t=e.saml)||void 0===t||null===(n=t.templateConfiguration)||void 0===n?void 0:n.assertionConsumerUrls,s=null==i||null===(o=i.inboundProtocolConfiguration)||void 0===o||null===(a=o.saml)||void 0===a||null===(r=a.templateConfiguration)||void 0===r?void 0:r.issuer;l&&Array.isArray(l)&&l.length>0&&x(l[0]),s&&j(s)}}),[i]);var de,pe,fe,me,ve,ge=function(e){$?(I(e),e||Y(!1)):w?(I(w),Y(!0)):(e&&Y(!0),I(e))},he=function(e,n){var o;return G===y.T6.MANUAL?(o={inboundProtocolConfiguration:{saml:{manualConfiguration:{}}}},t&&!t.includes("assertionConsumerURLs")||(o.inboundProtocolConfiguration.saml.manualConfiguration.assertionConsumerUrls=n?n.split(","):w.split(",")),t&&!t.includes("issuer")||(o.inboundProtocolConfiguration.saml.manualConfiguration.issuer=e.get("issuer")),t&&!t.includes("applicationQualifier")||(o.inboundProtocolConfiguration.saml.manualConfiguration.serviceProviderQualifier=e.get("applicationQualifier"))):G===y.T6.META_URL?o={inboundProtocolConfiguration:{saml:{metadataURL:e.get("url")}}}:G===y.T6.META_FILE&&(o={inboundProtocolConfiguration:{saml:{metadataFile:J}}}),o};return G?s.createElement(qe.Es,{onSubmit:function(e){S(!0),G===y.T6.MANUAL?de((function(t){(0,T.Z)(w)&&(0,T.Z)(t)?q(!0):r(he(e,t))})):G===y.T6.META_FILE&&(0,T.Z)(J)?ce(!0):r(he(e))},submitState:a},s.createElement(N.Z,null,s.createElement(N.Z.Row,null,s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(_.Z.Group,{size:"large",labeled:!0,basic:!0},Object.values(y.T6).map((function(e,t){return s.createElement(_.Z,{key:t,active:G===e,className:"saml-config-mode-wizard-tab",content:E.yf.resolveSAMLConfigModeDisplayName(e),onClick:function(t){t.preventDefault(),K(e),Y(!1)}})}))))),G==y.T6.MANUAL?s.createElement(s.Fragment,null,(!t||t.includes("issuer"))&&s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{name:"issuer",ref:p,displayErrorOn:"blur",label:A("console:develop.features.applications.forms.inboundSAML.fields.issuer.label"),required:!0,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.fields.issuer.validations.empty"),type:"text",placeholder:A("console:develop.features.applications.forms.inboundSAML.fields.issuer.placeholder"),value:L,validation:function(e,t){h?(t.isValid=!1,t.errorMessages.push(A("console:develop.features.applications.forms.inboundSAML.fields.issuer.errorMessage"))):k(e)},"data-testid":"".concat(C,"-issuer-input")}),!n&&s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.fields.issuer.hint")))),(!t||t.includes("applicationQualifier"))&&s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{name:"applicationQualifier",label:A("console:develop.features.applications.forms.inboundSAML.fields.qualifier.label"),required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.fields.qualifier.validations.empty"),type:"text",placeholder:A("console:develop.features.applications.forms.inboundSAML.fields.qualifier.placeholder"),value:null==o||null===(pe=o.inboundProtocolConfiguration.saml)||void 0===pe||null===(fe=pe.manualConfiguration)||void 0===fe?void 0:fe.serviceProviderQualifier,"data-testid":"".concat(C,"-application-qualifier-input")}),!n&&s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.fields.qualifier.hint")))),(!t||t.includes("assertionConsumerURLs"))&&s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},s.createElement(l.wE,{urlState:w,setURLState:ge,labelName:A("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.label"),placeholder:A("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.placeholder"),validationErrorMsg:A("console:develop.features.applications.forms.spaProtocolSettingsWizard.fields.callBackUrls.validations.invalid"),emptyErrorMessage:A("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.validations.empty"),validation:function(e){return!(!Ve.URLUtils.isURLValid(e,!0)||!Ve.URLUtils.isHttpUrl(e)&&!Ve.URLUtils.isHttpsUrl(e)||!Ve.URLUtils.isMobileDeepLink(e)||(z(null),0))},computerWidth:10,required:!0,showError:V,setShowError:q,hint:!n&&A("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.hint"),addURLTooltip:A("common:addURL"),duplicateURLErrorMessage:A("common:duplicateURLError"),"data-testid":"".concat(C,"-assertion-consumer-url-input"),getSubmit:function(e){de=e},showPredictions:!1,customLabel:H,popupHeaderPositive:A("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:A("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:A("console:develop.features.URLInput.withLabel.positive.content",{productName:ue.ui.productName}),popupContentNegative:A("console:develop.features.URLInput.withLabel.negative.content",{productName:ue.ui.productName}),popupDetailedContentPositive:A("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:A("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:A("console:common.validations.inSecureURL.description"),showLessContent:A("common:showLess"),showMoreContent:A("common:showMore")}),M&&s.createElement(l.v0,{visible:!0,type:"info",content:s.createElement(s.Fragment,null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.info",tOptions:{assertionURLFromTemplate:M}},"Don\u2019t have an app? Try out a sample app using ",s.createElement("strong",null,M)," as the assertion Response URL. (You can download and run a sample at a later step.)"),(void 0===w||""===w)&&s.createElement(l.Qj,{className:"m-1 p-1 with-no-border orange",onClick:function(e){e.preventDefault(),I(M),k(Z),Y(!0)},"data-testid":"".concat(C,"-add-now-button")},s.createElement("span",{style:{fontWeight:"bold"}},"Add Now")))})))):G===y.T6.META_URL?s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{name:"url",ref:v,displayErrorOn:"blur",label:A("console:develop.features.applications.forms.inboundSAML.fields.metaURL.label"),required:!0,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.fields.metaURL.validations.empty"),type:"text",placeholder:A("console:develop.features.applications.forms.inboundSAML.fields.metaURL.placeholder"),validation:function(e,t){Be.I.url(e)||(t.isValid=!1,t.errorMessages.push(A("console:develop.features.applications.forms.inboundSAML.fields.metaURL.validations.invalid"))),null!==m.commonConfig&&void 0!==m.commonConfig&&m.commonConfig.blockLoopBackCalls&&Ve.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(A("console:develop.features.idp.forms.common.internetResolvableErrorMessage"))),b&&(t.isValid=!1,t.errorMessages.push(A("console:develop.features.applications.forms.inboundSAML.fields.metaURL.errorMessage")))},value:null==o||null===(me=o.inboundProtocolConfiguration)||void 0===me||null===(ve=me.saml)||void 0===ve?void 0:ve.metadataURL,"data-testid":"".concat(C,"-meta-url-input")}),!n&&s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.fields.metaURL.hint")))):G===y.T6.META_FILE?s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.GB,{key:1,fileStrategy:eo,file:ne,pastedContent:ae,onChange:function(e){oe(e.file),re(e.pastedContent),ee(e.serialized)},uploadButtonText:"Upload Metadata File",dropzoneText:"Drag and drop a XML file here.","data-testid":"".concat(C,"-form-wizard-saml-xml-config-file-picker"),icon:(0,g._5)().uploadPlaceholder,placeholderIcon:s.createElement(f.Z,{name:"file code",size:"huge"}),normalizeStateOnRemoveOperations:!0,emptyFileError:se,hidePasteOption:!0}))):void 0)):s.createElement(l.pO,null)};Jn.defaultProps={"data-testid":"saml-protocol-settings-wizard-form",hideFieldHints:!1};var eo=new l.R2;function to(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return no(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return no(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function no(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var oo=function(e){var t,n,o=e.fields,i=e.hideFieldHints,a=e.initialValues,r=e.templateValues,d=e.triggerSubmit,p=e.onSubmit,f=e["data-testid"],m=(0,c.$)().t,v=to((0,s.useState)(""),2),g=v[0],h=v[1],b=to((0,s.useState)(""),2),y=b[0],E=b[1],S=to((0,s.useState)(""),2),C=S[0],A=S[1],O=to((0,s.useState)(""),2),w=O[0],I=O[1],R=to((0,s.useState)(!1),2),L=R[0],k=R[1],P=to((0,s.useState)(null),2),M=P[0],x=P[1],D=(0,u.v9)((function(e){return e.config}));(0,s.useEffect)((function(){var e;if((0,T.Z)(null==a||null===(e=a.inboundProtocolConfiguration)||void 0===e?void 0:e.saml)){var t,n,o,i,l=null==r||null===(t=r.inboundProtocolConfiguration)||void 0===t||null===(n=t.saml)||void 0===n?void 0:n.manualConfiguration.assertionConsumerUrls,s=null==r||null===(o=r.inboundProtocolConfiguration)||void 0===o||null===(i=o.saml)||void 0===i?void 0:i.manualConfiguration.issuer;(0,T.Z)(l)?h(""):h(l.toString()),(0,T.Z)(s)?E(""):E(s.toString())}else{var c,u,d,p,f,m;h(null==a||null===(c=a.inboundProtocolConfiguration)||void 0===c||null===(u=c.saml)||void 0===u||null===(d=u.manualConfiguration.assertionConsumerUrls)||void 0===d?void 0:d.toString()),E(null==a||null===(p=a.inboundProtocolConfiguration)||void 0===p||null===(f=p.saml)||void 0===f||null===(m=f.manualConfiguration.issuer)||void 0===m?void 0:m.toString())}}),[a]),(0,s.useEffect)((function(){var e,t,n,o,i,a;if(r){var l=null==r||null===(e=r.inboundProtocolConfiguration)||void 0===e||null===(t=e.saml)||void 0===t||null===(n=t.templateConfiguration)||void 0===n?void 0:n.assertionConsumerUrls,s=null==r||null===(o=r.inboundProtocolConfiguration)||void 0===o||null===(i=o.saml)||void 0===i||null===(a=i.templateConfiguration)||void 0===a?void 0:a.issuer;l&&Array.isArray(l)&&l.length>0&&A(l[0]),s&&I(s)}}),[r]);var Z;return r?s.createElement(qe.Es,{onSubmit:function(e){Z((function(t){(0,T.Z)(g)&&(0,T.Z)(t)?k(!0):p(function(e,t){var n={inboundProtocolConfiguration:{saml:{manualConfiguration:{}}}};return o&&!o.includes("assertionConsumerURLs")||(n.inboundProtocolConfiguration.saml.manualConfiguration.assertionConsumerUrls=t?t.split(","):g.split(",")),o&&!o.includes("issuer")||(n.inboundProtocolConfiguration.saml.manualConfiguration.issuer=e.get("issuer")),o&&!o.includes("applicationQualifier")||(n.inboundProtocolConfiguration.saml.manualConfiguration.serviceProviderQualifier=e.get("applicationQualifier")),n}(e,t))}))},submitState:d},s.createElement(N.Z,null,(!o||o.includes("issuer"))&&s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{name:"issuer",label:m("console:develop.features.applications.forms.inboundSAML.fields.issuer.label"),required:!0,requiredErrorMessage:m("console:develop.features.applications.forms.inboundSAML.fields.issuer.validations.empty"),type:"text",placeholder:m("console:develop.features.applications.forms.inboundSAML.fields.issuer.placeholder"),value:y,"data-testid":"".concat(f,"-issuer-input")}),!i&&s.createElement(l.kW,null,m("console:develop.features.applications.forms.inboundSAML.fields.issuer.hint")))),(!o||o.includes("applicationQualifier"))&&s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(qe.gN,{name:"applicationQualifier",label:m("console:develop.features.applications.forms.inboundSAML.fields.qualifier.label"),required:!1,requiredErrorMessage:m("console:develop.features.applications.forms.inboundSAML.fields.qualifier.validations.empty"),type:"text",placeholder:m("console:develop.features.applications.forms.inboundSAML.fields.qualifier.placeholder"),value:null==a||null===(t=a.inboundProtocolConfiguration.saml)||void 0===t||null===(n=t.manualConfiguration)||void 0===n?void 0:n.serviceProviderQualifier,"data-testid":"".concat(f,"-application-qualifier-input")}),!i&&s.createElement(l.kW,null,m("console:develop.features.applications.forms.inboundSAML.fields.qualifier.hint")))),(!o||o.includes("assertionConsumerURLs"))&&s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},s.createElement(l.wE,{urlState:g,setURLState:h,labelName:m("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.label"),placeholder:m("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.placeholder"),validationErrorMsg:m("console:develop.features.applications.forms.spaProtocolSettingsWizard.fields.callBackUrls.validations.invalid"),emptyErrorMessage:m("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.validations.empty"),validation:function(e){return!(!Ve.URLUtils.isURLValid(e,!0)||!Ve.URLUtils.isHttpUrl(e)&&!Ve.URLUtils.isHttpsUrl(e))&&(!!Ve.URLUtils.isMobileDeepLink(e)&&(x(null),!0))},computerWidth:10,required:!0,showError:L,setShowError:k,hint:!i&&m("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.hint"),addURLTooltip:m("common:addURL"),duplicateURLErrorMessage:m("common:duplicateURLError"),"data-testid":"".concat(f,"-assertion-consumer-url-input"),getSubmit:function(e){Z=e},showPredictions:!1,customLabel:M,popupHeaderPositive:m("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:m("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:m("console:develop.features.URLInput.withLabel.positive.content",{productName:D.ui.productName}),popupContentNegative:m("console:develop.features.URLInput.withLabel.negative.content",{productName:D.ui.productName}),popupDetailedContentPositive:m("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:m("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:m("console:common.validations.inSecureURL.description"),showLessContent:m("common:showLess"),showMoreContent:m("common:showMore")}),C&&s.createElement(l.v0,{type:"info",content:s.createElement(s.Fragment,null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.info",tOptions:{assertionURLFromTemplate:C}},"Don\u2019t have an app? Try out a sample app using",s.createElement("strong",null,C),"as the assertion Response URL. (You can download and run a sample at a later step.)"),(void 0===g||""===g)&&s.createElement(l.Qj,{className:"m-1 p-1 with-no-border orange",onClick:function(e){e.preventDefault(),h(C),E(w)},"data-testid":"".concat(f,"-add-now-button")},s.createElement("span",{style:{fontWeight:"bold"}},"Add Now")))}))))):s.createElement(l.pO,null)};oo.defaultProps={"data-testid":"saml-protocol-settings-wizard-form",hideFieldHints:!1};var io=function(e){var t,n,o,i,a,r,u,d,f,m,v,g,h,b,y,E,S,C,A,O,w,I,T,R,L,k,P,M,U,x,D,Z,_=e.summary,j=e.triggerSubmit,F=e.onSubmit,V=e["data-testid"],q=(0,c.$)().t;return(0,s.useEffect)((function(){j&&F(_)}),[j]),s.createElement(N.Z,{className:"wizard-summary","data-testid":V},s.createElement(N.Z.Row,null,s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16,textAlign:"center"},s.createElement("div",{className:"general-details"},s.createElement(l.JT,{name:null==_?void 0:_.name,image:null==_?void 0:_.imageUrl,size:"tiny"}),(null==_?void 0:_.name)&&s.createElement(l.X6,{size:"small",className:"name"},_.name),(null==_||null===(t=_.advancedConfigurations)||void 0===t?void 0:t.discoverableByEndUsers)&&s.createElement(p.Z,{className:"info-label"},q("console:develop.features.applications.addWizard.steps.summary.sections.discoverable.heading")),(null==_||null===(n=_.inboundProtocolConfiguration)||void 0===n||null===(o=n.oidc)||void 0===o?void 0:o.publicClient)&&s.createElement(p.Z,{className:"info-label"},q("console:develop.features.applications.addWizard.steps.summary.sections.public.heading")),(null==_||null===(i=_.inboundProtocolConfiguration)||void 0===i||null===(a=i.oidc)||void 0===a||null===(r=a.refreshToken)||void 0===r?void 0:r.renewRefreshToken)&&s.createElement(p.Z,{className:"info-label"},q("console:develop.features.applications.addWizard.steps.summary.sections.renewRefreshToken.heading")),(null==_?void 0:_.description)&&s.createElement("div",{className:"description"},_.description)))),(null==_?void 0:_.accessUrl)&&s.createElement(N.Z.Row,{className:"summary-field",columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},q("console:develop.features.applications.addWizard.steps.summary.sections.accessURL.heading"))),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value url"},_.accessUrl))),(null==_||null===(u=_.inboundProtocolConfiguration)||void 0===u||null===(d=u.saml)||void 0===d||null===(f=d.manualConfiguration)||void 0===f?void 0:f.issuer)&&s.createElement(N.Z.Row,{className:"summary-field",columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},q("console:develop.features.applications.addWizard.steps.summary.sections.issuer.heading"))),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value"},_.inboundProtocolConfiguration.saml.manualConfiguration.issuer))),(null==_||null===(m=_.inboundProtocolConfiguration)||void 0===m||null===(v=m.saml)||void 0===v||null===(g=v.manualConfiguration)||void 0===g?void 0:g.serviceProviderQualifier)&&s.createElement(N.Z.Row,{className:"summary-field",columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},q("console:develop.features.applications.addWizard.steps.summary.sections.applicationQualifier.heading"))),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value"},_.inboundProtocolConfiguration.saml.manualConfiguration.serviceProviderQualifier))),null!=_&&null!==(h=_.inboundProtocolConfiguration)&&void 0!==h&&null!==(b=h.oidc)&&void 0!==b&&b.grantTypes&&_.inboundProtocolConfiguration.oidc.grantTypes instanceof Array&&_.inboundProtocolConfiguration.oidc.grantTypes.length>0?s.createElement(N.Z.Row,{className:"summary-field",columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},q("console:develop.features.applications.addWizard.steps.summary.sections.grantType.heading"))),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement(p.Z.Group,null,_.inboundProtocolConfiguration.oidc.grantTypes.map((function(e,t){return s.createElement(p.Z,{key:t,basic:!0,circular:!0},e)}))))):null,(null==_||null===(y=_.inboundProtocolConfiguration)||void 0===y||null===(E=y.saml)||void 0===E||null===(S=E.manualConfiguration)||void 0===S?void 0:S.assertionConsumerUrls)&&s.createElement(N.Z.Row,{className:"summary-field",columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},q("console:develop.features.applications.addWizard.steps.summary.sections.assertionURLs.heading"))),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},_.inboundProtocolConfiguration.saml.manualConfiguration.assertionConsumerUrls.map((function(e,t){return s.createElement("div",{className:"value url",key:t},e)})))),(null==_||null===(C=_.inboundProtocolConfiguration)||void 0===C||null===(A=C.oidc)||void 0===A?void 0:A.callbackURLs)&&s.createElement(N.Z.Row,{className:"summary-field",columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},q("console:develop.features.applications.addWizard.steps.summary.sections.callbackURLs.heading"))),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},Ve.EncodeDecodeUtils.decodeURLRegex(_.inboundProtocolConfiguration.oidc.callbackURLs[0]).map((function(e,t){return s.createElement("div",{className:"value url",key:t},e)})))),(null==_||null===(O=_.inboundProtocolConfiguration)||void 0===O||null===(w=O.wsTrust)||void 0===w?void 0:w.audience)&&s.createElement(N.Z.Row,{className:"summary-field",columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},q("console:develop.features.applications.addWizard.steps.summary.sections.audience.heading"))),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value url"},null==_||null===(I=_.inboundProtocolConfiguration)||void 0===I||null===(T=I.wsTrust)||void 0===T?void 0:T.audience))),(null==_||null===(R=_.inboundProtocolConfiguration)||void 0===R||null===(L=R.wsTrust)||void 0===L?void 0:L.certificateAlias)&&s.createElement(N.Z.Row,{className:"summary-field",columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},q("console:develop.features.applications.addWizard.steps.summary.sections.certificateAlias.heading"))),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value"},null==_||null===(k=_.inboundProtocolConfiguration)||void 0===k?void 0:k.wsTrust.certificateAlias))),(null==_||null===(P=_.inboundProtocolConfiguration)||void 0===P||null===(M=P.passiveSts)||void 0===M?void 0:M.realm)&&s.createElement(N.Z.Row,{className:"summary-field",columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},q("console:develop.features.applications.addWizard.steps.summary.sections.realm.heading"))),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value"},null==_||null===(U=_.inboundProtocolConfiguration)||void 0===U?void 0:U.passiveSts.realm))),(null==_||null===(x=_.inboundProtocolConfiguration)||void 0===x||null===(D=x.passiveSts)||void 0===D?void 0:D.replyTo)&&s.createElement(N.Z.Row,{className:"summary-field",columns:2},s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},q("console:develop.features.applications.addWizard.steps.summary.sections.audience.heading"))),s.createElement(N.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value url"},null==_||null===(Z=_.inboundProtocolConfiguration)||void 0===Z?void 0:Z.passiveSts.replyTo))))};function ao(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ro(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}io.defaultProps={"data-testid":"application-wizard-summary"};var lo=function(e){var t,n,o=e.initialValues,i=e.templateValues,d=e.triggerSubmit,p=e.onSubmit,f=e["data-testid"],m=(0,c.$)().t,v=(0,u.I0)(),g=ao((0,s.useState)(void 0),2),b=g[0],E=g[1];return(0,s.useEffect)((function(){(0,h.WL)(y.Ii.WS_TRUST).then((function(e){E(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?v((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:"Retrieval error"})):v((0,r.V_)({description:"An error occurred retrieving the protocol metadata.",level:a.QU.ERROR,message:"Retrieval error"}))}))}),[]),i&&b?s.createElement(qe.Es,{onSubmit:function(e){p(function(e){return{inboundProtocolConfiguration:{wsTrust:{audience:e.get("audience"),certificateAlias:e.get("certificateAlias")}}}}(e))},submitState:d},s.createElement(N.Z,null,s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(qe.gN,{name:"audience",label:m("console:develop.features.applications.forms.inboundWSTrust.fields.audience.label"),required:!0,requiredErrorMessage:m("console:develop.features.applications.forms.inboundWSTrust.fields.audience.validations.empty"),placeholder:m("console:develop.features.applications.forms.inboundWSTrust.fields.audience.placeholder"),type:"text",validation:function(e,t){Be.I.url(e)||(t.isValid=!1,t.errorMessages.push(m("console:develop.features.applications.forms.inboundWSTrust.fields.audience.validations.invalid")))},value:o?null==o?void 0:o.audience:null==i?void 0:i.audience,"data-testid":"".concat(f,"-audience-input")}),s.createElement(l.kW,null,m("console:develop.features.applications.forms.inboundWSTrust.fields.audience.hint")))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(qe.gN,{label:m("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.label"),name:"certificateAlias",type:"dropdown",required:!0,requiredErrorMessage:m("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.validations.empty"),default:b.certificateAlias.defaultValue,value:o?null==o?void 0:o.certificateAlias:null==i?void 0:i.certificateAlias,children:(t=null==b?void 0:b.certificateAlias,n=[],t&&t.options.map((function(e){n.push({key:t.options.indexOf(e),text:e,value:e})})),n),"data-testid":"".concat(f,"-certificate-alias-dropdown")}),s.createElement(l.kW,null,m("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.hint")))))):s.createElement(l.pO,null)};lo.defaultProps={"data-testid":"ws-trust-protocol-settings-wizard-form"};var so,co=n(62890);function uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(n),!0).forEach((function(t){fo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}!function(e){e.PROTOCOL_SELECTION="protocolSelection",e.GENERAL_SETTINGS="generalSettings",e.PROTOCOL_SETTINGS="protocolSettings",e.SUMMARY="summary"}(so||(so={}));var go=function(e){var t=e.closeWizard,n=e.currentStep,o=e.title,i=e.subTitle,d=e.template,p=e.addProtocol,m=e.selectedProtocols,v=e.appId,E=e.onUpdate,S=e["data-testid"],C=(0,c.$)().t,A=(0,u.v9)((function(e){return e.application.meta.protocolMeta})),O=mo((0,s.useState)(void 0),2),w=O[0],I=O[1],R=mo((0,s.useState)(void 0),2),L=R[0],P=R[1],M=mo((0,s.useState)(void 0),2),U=M[0],x=M[1],D=mo((0,s.useState)(n),2),Z=D[0],_=D[1],j=mo((0,s.useState)(void 0),2),F=j[0],V=j[1],q=(0,u.I0)(),B=mo((0,qe.cC)(),2),H=B[0],W=B[1],G=mo((0,qe.cC)(),2),K=G[0],Q=G[1],$=mo((0,qe.cC)(),2),Y=$[0],X=$[1],J=mo((0,s.useState)(d),2),ee=J[0],te=J[1],ne=mo((0,qe.cC)(),2),oe=ne[0],ie=ne[1],ae=mo((0,s.useState)(!1),2),re=ae[0],le=ae[1],se=mo((0,s.useState)(!1),2),ce=se[0],ue=se[1],de=mo((0,s.useState)(!1),1)[0],pe=mo((0,l.IK)(),3),fe=pe[0],me=pe[1],ve=pe[2],ge=function(e){var t=e;t=po(po({},t),{},{templateId:ee.id}),ue(!0),(0,h.W3)(t).then((function(e){if(q((0,r.V_)({description:C("console:develop.features.applications.notifications.addApplication.success.description"),level:a.QU.SUCCESS,message:C("console:develop.features.applications.notifications.addApplication.success.message")})),!(0,T.Z)(e.headers.location)){var t=e.headers.location,n=t.substring(t.lastIndexOf("/")+1),o=0;return ee.id===st.id&&(o=1),void g.m8.push({hash:"#".concat(y.El.TAB_INDEX).concat(o),pathname:g.$x.getPaths().get("APPLICATION_EDIT").replace(":id",n),search:"?".concat(b.jo.APP_STATE_URL_SEARCH_PARAM_KEY,"=").concat(b.jo.APP_STATE_URL_SEARCH_PARAM_VALUE)})}g.m8.push(g.$x.getPaths().get("APPLICATIONS"))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?me({description:e.response.data.description,level:a.QU.ERROR,message:C("console:develop.features.applications.notifications.addApplication.error.message")}):me({description:C("console:develop.features.applications.notifications.addApplication.genericError.description"),level:a.QU.ERROR,message:C("console:develop.features.applications.notifications.addApplication.genericError.message")})})).finally((function(){ue(!1)}))},he=function(e){ue(!0),(0,h.lp)(v,e,ee.authenticationProtocol).then((function(){q((0,r.V_)({description:C("console:develop.features.applications.notifications.updateProtocol.success.description"),level:a.QU.SUCCESS,message:C("console:develop.features.applications.notifications.updateProtocol.success.message")})),E(v),Ce()})).catch((function(e){e.response&&e.response.data&&e.response.data.description?me({description:e.response.data.description,level:a.QU.ERROR,message:C("console:develop.features.applications.notifications.updateProtocol.error.message")}):me({description:C("console:develop.features.applications.notifications.updateProtocol.genericError.description"),level:a.QU.ERROR,message:C("console:develop.features.applications.notifications.updateProtocol.error.message")})})).finally((function(){ue(!1)}))},be=function(){var e;switch(null===(e=w[Z])||void 0===e?void 0:e.name){case so.PROTOCOL_SELECTION:ie();break;case so.GENERAL_SETTINGS:W();break;case so.PROTOCOL_SETTINGS:Q();break;case so.SUMMARY:X()}},ye=function(e,t){t===so.PROTOCOL_SELECTION?e?(0,On.Z)(e,ee)?_(Z+1):te(e):ie():(_(Z+1),(0,An.Z)(L,t)?P((0,In.Z)(L,t,e)):P((0,wn.Z)(L,fo({},t,e))))},Ee=function(){if(L){var e={};if(p){var t=ee.authenticationProtocol;return t===y.AI.WS_FEDERATION?t="passiveSts":t===y.AI.WS_TRUST&&(t="wsTrust"),e=(0,Xe.Z)(L[so.PROTOCOL_SETTINGS],"inboundProtocolConfiguration."+t),ee.id===y.EL.SAML||re||(e=(0,wn.Z)((0,Cn.Z)(F.inboundProtocolConfiguration[t]),e)),e}for(var n=0,o=Object.entries(L);n<o.length;n++){var i=mo(o[n],2),a=i[0],r=i[1];a!==so.PROTOCOL_SELECTION&&(e=po(po({},e),r))}return(0,wn.Z)((0,Cn.Z)(F),e)}},Se=function(e){L[so.PROTOCOL_SELECTION]===y.AI.OIDC?delete e.inboundProtocolConfiguration.saml:L[so.PROTOCOL_SELECTION]===y.AI.SAML&&delete e.inboundProtocolConfiguration.oidc,ge(e)},Ce=function(){t()};(0,s.useEffect)((function(){if(ee)if(ee.id===st.id){var e=[].concat(Ae);I(e.splice(1,1))}else P((0,wn.Z)(L,fo({},so.PROTOCOL_SELECTION,ee.authenticationProtocol))),re||((t=ee.id)===y.EL.OIDC?V(k.P5.application):t===y.EL.SAML?V(k.qF.application):t===y.EL.WS_FEDERATION?V(k.qo.application):(0,h.FG)(t).then((function(e){V(e.application)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?me({description:e.response.data.description,level:a.QU.ERROR,message:C("console:develop.features.applications.notifications.fetchTemplate.error.message")}):me({description:C("console:develop.features.applications.notifications.fetchTemplate.genericError.description"),level:a.QU.ERROR,message:C("console:develop.features.applications.notifications.fetchTemplate.genericError.message")})}))),p?_(Z+1):I(Ae.slice(1));var t}),[ee,re]),(0,s.useEffect)((function(){ee&&(Object.prototype.hasOwnProperty.call(A,ee.authenticationProtocol)||(0,h.WL)(ee.authenticationProtocol).then((function(e){q((0,co.vX)(ee.authenticationProtocol,e))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?me({description:e.response.data.description,level:a.QU.ERROR,message:C("console:develop.features.applications.notifications.fetchProtocolMeta.error.message")}):me({description:C("console:develop.features.applications.notifications.fetchProtocolMeta.genericError.description"),level:a.QU.ERROR,message:C("console:develop.features.applications.notifications.fetchProtocolMeta.genericError.message")})})))}),[re]),(0,s.useEffect)((function(){if(p){var e=[].concat(Ae);e.splice(1,1),I(e)}}),[p]),(0,s.useEffect)((function(){void 0!==U&&(_(Z-1),x(void 0))}),[U]);var Ae=[{icon:(0,lt.jK)().protocolSelection,name:so.PROTOCOL_SELECTION,title:C("console:develop.features.applications.addWizard.steps.protocolSelection.heading")},{icon:(0,lt.jK)().general,name:so.GENERAL_SETTINGS,title:C("console:develop.features.applications.addWizard.steps.generalSettings.heading")},{icon:(0,lt.jK)().protocolConfig,name:so.PROTOCOL_SETTINGS,title:C("console:develop.features.applications.addWizard.steps.protocolConfig.heading")},{icon:(0,lt.jK)().summary,name:so.SUMMARY,title:C("console:develop.features.applications.addWizard.steps.summary.heading")}];return w?s.createElement(z.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",onClose:Ce,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(S,"-modal")},s.createElement(z.Z.Header,{className:"wizard-header"},o,i&&s.createElement(l.X6,{as:"h6"},i)),s.createElement(z.Z.Content,{className:"steps-container","data-testid":"".concat(S,"-steps")},s.createElement(l.Rg.Group,{current:Z},w.map((function(e,t){return s.createElement(l.Rg.Step,{key:t,icon:e.icon,title:e.title,"data-testid":"".concat(S,"-step-").concat(t)})})))),s.createElement(z.Z.Content,{className:"content-container",scrolling:!0},fe&&ve,function(){var e;switch(null===(e=w[Z])||void 0===e?void 0:e.name){case so.PROTOCOL_SELECTION:return s.createElement(Gn,{initialSelectedTemplate:ee,onSubmit:function(e){return ye(e,so.PROTOCOL_SELECTION)},defaultTemplates:[k.KE,k.We,k.vw],triggerSubmit:oe,selectedProtocols:m,setSelectedCustomInboundProtocol:le,"data-testid":"".concat(S,"-protocol-selection-form")});case so.GENERAL_SETTINGS:return ee.id===st.id?s.createElement(xn,{triggerSubmit:H,initialValues:L&&L[so.GENERAL_SETTINGS],onSubmit:function(e){!function(e){for(var t=(0,y.M7)(),n=0,o=Object.entries(e);n<o.length;n++){var i=mo(o[n],2),a=i[0],r=i[1];t=po(po({},t),{},fo({},a,r))}ge(t)}(e)},templateValues:F,"data-testid":"".concat(S,"-general-settings-form")}):s.createElement(xn,{triggerSubmit:H,initialValues:L&&L[so.GENERAL_SETTINGS],onSubmit:function(e){return ye(e,so.GENERAL_SETTINGS)},templateValues:F,"data-testid":"".concat(S,"-general-settings-form")});case so.PROTOCOL_SETTINGS:if(L&&L[so.PROTOCOL_SELECTION]){if(re)return s.createElement(kn,{triggerSubmit:K,protocolName:ee.id,initialValues:L&&L[so.PROTOCOL_SETTINGS],metadata:A[ee.id],onSubmit:function(e){return ye(e,so.PROTOCOL_SETTINGS)},"data-testid":"".concat(S,"-custom-protocol-settings-form")});if(L[so.PROTOCOL_SELECTION]===y.AI.OIDC)return s.createElement(Fn,{isProtocolConfig:!0,selectedTemplate:ee,triggerSubmit:K,fields:["callbackURLs"],initialValues:L&&L[so.PROTOCOL_SETTINGS],templateValues:F,onSubmit:function(e){return ye(e,so.PROTOCOL_SETTINGS)},showCallbackURL:!0,"data-testid":"".concat(S,"-oauth-protocol-settings-form")});if(L[so.PROTOCOL_SELECTION]===y.AI.SAML)return ee.id===y.EL.SAML?s.createElement(Jn,{triggerSubmit:K,initialValues:L&&L[so.PROTOCOL_SETTINGS],templateValues:F,fields:["issuer","assertionConsumerURLs"],hideFieldHints:!0,onSubmit:function(e){return ye(e,so.PROTOCOL_SETTINGS)},"data-testid":"".concat(S,"-saml-protocol-all-settings-form")}):s.createElement(oo,{triggerSubmit:K,initialValues:L&&L[so.PROTOCOL_SETTINGS],templateValues:F,onSubmit:function(e){return ye(e,so.PROTOCOL_SETTINGS)},"data-testid":"".concat(S,"-saml-protocol-settings-form")});if(L[so.PROTOCOL_SELECTION]===y.AI.WS_TRUST)return s.createElement(lo,{triggerSubmit:K,initialValues:L&&L[so.PROTOCOL_SETTINGS],templateValues:F,onSubmit:function(e){return ye(e,so.PROTOCOL_SETTINGS)},"data-testid":"".concat(S,"-ws-trust-protocol-settings-form")});if(L[so.PROTOCOL_SELECTION]===y.AI.WS_FEDERATION)return s.createElement(Vn,{triggerSubmit:K,initialValues:L&&L[so.PROTOCOL_SETTINGS],templateValues:F,onSubmit:function(e){return ye(e,so.PROTOCOL_SETTINGS)},"data-testid":"".concat(S,"-passive-sts-protocol-settings-form")})}return null;case so.SUMMARY:return p?s.createElement($n,{triggerSubmit:Y,summary:Ee(),onSubmit:he,image:ee.authenticationProtocol,customProtocol:re,samlMetaFileSelected:de,"data-testid":"".concat(S,"-protocol-summary")}):s.createElement(io,{triggerSubmit:Y,summary:Ee(),onSubmit:Se,"data-testid":"".concat(S,"-summary")})}}()),s.createElement(z.Z.Actions,null,s.createElement(N.Z,null,s.createElement(N.Z.Row,{column:1},s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(l.Qj,{"data-testid":"".concat(S,"-cancel-button"),floated:"left",onClick:Ce},C("common:cancel"))),s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:8},Z<w.length-1&&s.createElement(l.KM,{floated:"right",onClick:be,"data-testid":"".concat(S,"-next-button")},C("common:next"),s.createElement(f.Z,{name:"arrow right"})),Z===w.length-1&&s.createElement(l.KM,{floated:"right",onClick:be,"data-testid":"".concat(S,"-finish-button"),loading:ce,disabled:ce},C("common:finish")),Z>0&&s.createElement(l.Qj,{floated:"right",onClick:function(){x(Z)},"data-testid":"".concat(S,"-previous-button")},s.createElement(f.Z,{name:"arrow left"}),C("common:previous"))))))):null};function ho(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}go.defaultProps={currentStep:0,"data-testid":"application-create-wizard"};var yo=function(e){var t=e.initialValues,n=e.idpList,o=e.triggerSubmit,i=e.onSubmit,a=e.isEdit,r=e.readOnly,u=e.isSubmitting,d=e["data-testid"],p=(0,c.$)().t,f=ho((0,s.useState)([]),2),m=f[0],v=f[1],g=ho((0,s.useState)(void 0),2),h=g[0],b=g[1],y=ho((0,s.useState)(),2),E=y[0],S=y[1],C=ho((0,s.useState)(null==t?void 0:t.blocking),2),A=C[0],O=C[1],w=ho((0,s.useState)(null==t?void 0:t.jit),2),I=w[0],T=w[1],R=ho((0,s.useState)(null==t?void 0:t.rules),2),L=R[0],k=R[1],P=ho((0,s.useState)(null==t?void 0:t.connector),2),M=P[0],U=P[1];(0,s.useEffect)((function(){if(n&&null!=t&&t.idp){var e=null==n?void 0:n.find((function(e){return e.name===(null==t?void 0:t.idp)}));S(e.id)}}),[n]),(0,s.useEffect)((function(){if(n){var e=[],t={key:-1,text:"",value:""};n.map((function(n,o){t={key:o,text:n.name,value:n.id},e.push(t)})),v(e)}}),[n]),(0,s.useEffect)((function(){if(E){var e=[],t={key:-1,text:"",value:""};(0,Xt.OL)(E).then((function(n){n.provisioning.outboundConnectors.connectors.map((function(n,o){n.isEnabled&&(t={key:o,text:n.name,value:n.name},e.push(t))})),b(e)}))}}),[E]);return s.createElement(qe.Es,{onSubmit:function(e){return i(function(e){var t=m.find((function(e){return e.value===E})).text;return{blocking:A||!!e.get("blocking").includes("blocking"),connector:M,idp:t,jit:I||!!e.get("jit").includes("jit"),rules:L||!!e.get("blocking").includes("blocking")}}(e))},submitState:o&&o},s.createElement(N.Z,null,!a&&s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(qe.gN,{type:"dropdown",label:p("console:develop.features.applications.forms.outboundProvisioning.fields.idp.label"),placeholder:p("console:develop.features.applications.forms.outboundProvisioning.fields.idp.placeholder"),name:"idp",children:m,requiredErrorMessage:p("console:develop.features.applications.forms.outboundProvisioning.fields.idp.validations.empty"),readOnly:r,required:!1,value:null==t?void 0:t.idp,listen:function(e){S(e.get("idp").toString())},"data-testid":"".concat(d,"-idp-dropdown")}))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(qe.gN,{type:"dropdown",label:p("console:develop.features.applications.forms.outboundProvisioning.fields.connector.label"),placeholder:p("console:develop.features.applications.forms.outboundProvisioning.fields.connector.placeholder"),name:"connector",children:h,requiredErrorMessage:p("console:develop.features.applications.forms.outboundProvisioning.fields.connector.validations.empty"),readOnly:r,required:!0,value:null==t?void 0:t.connector,listen:function(e){U(e.get("connector").toString())},"data-testid":"".concat(d,"-provisioning-connector-dropdown")}),(null==h?void 0:h.length)<=0&&s.createElement(l.kW,{icon:"warning sign"},p("console:develop.features.applications.edit.sections.provisioning.outbound.addIdpWizard.errors.noProvisioningConnector")))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(qe.gN,{name:"rules",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:p("console:develop.features.applications.forms.outboundProvisioning.fields.rules.label"),value:"rules"}],value:null!=t&&t.rules?["rules"]:[],listen:function(e){k(e.get("rules").includes("rules"))},readOnly:r,"data-testid":"".concat(d,"-rules-checkbox")}),s.createElement(l.kW,null,p("console:develop.features.applications.forms.outboundProvisioning.fields.rules.hint")))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(qe.gN,{name:"blocking",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:p("console:develop.features.applications.forms.outboundProvisioning.fields.blocking.label"),value:"blocking"}],readOnly:r,value:null!=t&&t.blocking?["blocking"]:[],listen:function(e){O(e.get("blocking").includes("blocking"))},"data-testid":"".concat(d,"-blocking-checkbox")}),s.createElement(l.kW,null,p("console:develop.features.applications.forms.outboundProvisioning.fields.blocking.hint")))),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(qe.gN,{name:"jit",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:p("console:develop.features.applications.forms.outboundProvisioning.fields.jit.label"),value:"jit"}],value:null!=t&&t.jit?["jit"]:[],listen:function(e){T(e.get("jit").includes("jit"))},readOnly:r,"data-testid":"".concat(d,"-jit-checkbox")}),s.createElement(l.kW,null,p("console:develop.features.applications.forms.outboundProvisioning.fields.jit.hint")))),a&&!r&&s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(l.KM,{type:"submit",size:"small",className:"form-button","data-testid":"".concat(d,"-submit-button"),loading:u,disabled:u},p("common:update"))))))};function Eo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return So(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return So(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}yo.defaultProps={"data-testid":"application-outbound-provisioning-wizard-idp-form"};var Co=function(e){var t=e.application,n=e.closeWizard,o=e.currentStep,i=e.onUpdate,d=e["data-testid"],p=(0,c.$)().t,m=(0,u.I0)(),v=Eo((0,qe.cC)(),2),g=v[0],b=v[1],y=Eo((0,s.useState)(void 0),2),E=y[0],S=y[1],C=Eo((0,s.useState)(o),2),A=C[0],O=C[1],w=Eo((0,s.useState)(void 0),2),I=w[0],T=w[1],R=Eo((0,s.useState)(!1),2),L=R[0],k=R[1];(0,s.useEffect)((function(){void 0!==E&&(O(A-1),S(void 0))}),[E]),(0,s.useEffect)((function(){I||(0,Xt.SN)().then((function(e){T(e.identityProviders)}))}),[]);var P=function(){if(0===A)b()},M=function(e){var o;if(null!=t&&null!==(o=t.provisioningConfigurations)&&void 0!==o&&o.outboundProvisioningIdps.find((function(t){return t.connector===e.connector&&t.idp===e.idp})))return m((0,r.V_)({description:p("console:develop.features.applications.notifications.updateOutboundProvisioning.genericError.description"),level:a.QU.ERROR,message:p("console:develop.features.applications.notifications.updateOutboundProvisioning.genericError.message")})),void n();!function(e,o){k(!0),(0,h.TH)(e,o).then((function(){m((0,r.V_)({description:p("console:develop.features.applications.notifications.updateApplication.success.description"),level:a.QU.SUCCESS,message:p("console:develop.features.applications.notifications.updateApplication.success.message")})),i(t.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?m((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:p("console:develop.features.applications.notifications.updateApplication.error.message")})):m((0,r.V_)({description:p("console:develop.features.applications.notifications.updateApplication.genericError.description"),level:a.QU.ERROR,message:p("console:develop.features.applications.notifications.updateApplication.genericError.message")}))})).finally((function(){k(!1),n()}))}(t.id,function(e){var n,o=null==t||null===(n=t.provisioningConfigurations)||void 0===n?void 0:n.outboundProvisioningIdps;return o.push(e),{provisioningConfigurations:{outboundProvisioningIdps:o}}}(e))},U=[{content:s.createElement(yo,{initialValues:null,triggerSubmit:g,onSubmit:function(e){M(e)},idpList:I,"data-testid":"".concat(d,"-form"),isSubmitting:L}),icon:(0,lt.jK)().general,title:p("console:develop.features.applications.edit.sections.provisioning.outbound.addIdpWizard.steps.details")}];return s.createElement(z.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",size:"small",onClose:n,"data-testid":d,closeOnDimmerClick:!1,closeOnEscape:!0},s.createElement(z.Z.Header,{className:"wizard-header"},p("console:develop.features.applications.edit.sections.provisioning.outbound.addIdpWizard.heading"),s.createElement(l.X6,{as:"h6"},p("console:develop.features.applications.edit.sections.provisioning.outbound.addIdpWizard.subHeading"))),s.createElement(z.Z.Content,{className:"steps-container"},s.createElement(l.Rg.Group,{current:A,"data-testid":"".concat(d,"-steps")},U.map((function(e,t){return s.createElement(l.Rg.Step,{key:t,icon:e.icon,title:e.title,"data-testid":"".concat(d,"-step-").concat(t)})})))),s.createElement(z.Z.Content,{className:"content-container",scrolling:!0},U[A].content),s.createElement(z.Z.Actions,null,s.createElement(N.Z,null,s.createElement(N.Z.Row,{column:1},s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(l.Qj,{floated:"left",onClick:function(){return n()},"data-testid":"".concat(d,"-cancel-button")},p("common:cancel"))),s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:8},A<U.length-1&&s.createElement(l.KM,{floated:"right",onClick:P,"data-testid":"".concat(d,"-next-button")},p("common:next"),s.createElement(f.Z,{name:"arrow right"})),A===U.length-1&&s.createElement(l.KM,{floated:"right",onClick:P,"data-testid":"".concat(d,"-finish-button"),loading:L,disabled:L},p("common:finish")),A>0&&s.createElement(l.Qj,{floated:"right",onClick:function(){S(A)},"data-testid":"".concat(d,"-previous-button")},s.createElement(f.Z,{name:"arrow left"}),p("common:previous")))))))};Co.defaultProps={currentStep:0,"data-testid":"outbound-provisioning-idp-create-wizard"};var Ao=n(95123),Oo=n(47417),wo=n(99139);function Io(e){return Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(e)}function To(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?To(Object(n),!0).forEach((function(t){Lo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):To(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function No(){No=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),r=new A(o||[]);return a._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return w()}for(n.method=i,n.arg=a;;){var r=n.delegate;if(r){var l=E(r,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=c(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var u={};function d(){}function p(){}function f(){}var m={};l(m,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==t&&n.call(g,i)&&(m=g);var h=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function o(i,a,r,l){var s=c(e[i],e,a);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==Io(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,r,l)}),(function(e){o("throw",e,r,l)})):t.resolve(d).then((function(e){u.value=e,r(u)}),(function(e){return o("throw",e,r,l)}))}l(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){o(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var o=c(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,u;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=f,l(h,"constructor",f),l(f,"constructor",p),p.displayName=l(f,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,r,"GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,o,i,a){void 0===a&&(a=Promise);var r=new y(s(t,n,o,i),a);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},b(h),l(h,r,"Generator"),l(h,i,(function(){return this})),l(h,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],r=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function ko(e,t,n,o,i,a,r){try{var l=e[a](r),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(o,i)}function Po(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Uo=function(e){var t=e.title,n=e.closeWizard,o=e.template,i=e.subTemplates,d=e.subTemplatesSectionTitle,p=e.subTitle,f=e.templateLoadingStrategy,v=e["data-testid"],S=(0,c.$)().t,C=(0,l.fQ)().getLink,A=(0,u.I0)(),O=g.h.getState().config.deployment.tenant,w=Po((0,qe.cC)(),2),I=w[0],R=w[1],L=Po((0,qe.cC)(),2),k=L[0],M=L[1],U=(0,u.v9)((function(e){return e.config.ui.isClientSecretHashEnabled})),x=(0,u.v9)((function(e){var t,n,o;return null===(t=e.config)||void 0===t||null===(n=t.deployment)||void 0===n||null===(o=n.extensions)||void 0===o?void 0:o.asgardeoReservedAppRegex})),D=Po((0,s.useState)(null),2),Z=D[0],_=D[1],j=Po((0,s.useState)(void 0),2),F=j[0],V=j[1],q=Po((0,s.useState)(y.AI.OAUTH2_OIDC),2),B=q[0],H=q[1],z=Po((0,s.useState)(!1),2),W=z[0],G=z[1],K=Po((0,s.useState)(void 0),2),Q=K[0],$=K[1],Y=Po((0,s.useState)(o),2),X=Y[0],J=Y[1],ee=Po((0,s.useState)([]),2),te=ee[0],ne=ee[1],oe=Po((0,s.useState)(!1),2),ie=oe[0],ae=oe[1],re=Po((0,s.useState)(!1),2),le=re[0],se=re[1],ce=Po((0,s.useState)(!1),2),ue=ce[0],de=ce[1],pe=Po((0,s.useState)(!1),2),fe=pe[0],me=pe[1],ve=(0,s.useRef)(),he=(0,s.useRef)(),be=(0,s.useRef)(),ye=Po((0,s.useState)(void 0),2),Ee=ye[0],Se=ye[1],Ce=Po((0,l.IK)(),3),Ae=Ce[0],Oe=Ce[1],we=Ce[2],Ie=g.lD.getInstance();(0,s.useEffect)((function(){if(X&&X.id!==st.id&&xe.F.isCurrentOrganizationRoot()){var e=[];(0,g.ZY)().then((function(t){t.map((function(t){e.push(t.url)}))})),ne(e),Oe(null)}}),[X]),(0,s.useEffect)((function(){X.id!==st.id?(0,T.Z)(i)||!Array.isArray(i)||i.length<1?Le(o.id,o):(J(i[0]),Le(i[0].id,i[0])):_(st)}),[i]),(0,s.useEffect)((function(){var e,t,n;if(Pe("all",!1),F||Q){if(!F){var i;if(X.id===st.id&&B===y.AI.SAML)return;if(null!=o&&o.authenticationProtocol||(null===(i=o.subTemplates)||void 0===i?void 0:i.length)>0)return}if(Q){var l,s,c,u=(0,Cn.Z)(Z),d="inboundProtocolConfiguration.oidc.callbackURLs",p=(0,Xe.Z)(F,d,[]);if((0,T.Z)(null==p?void 0:p.filter(Boolean))||((0,In.Z)(u,"application.".concat(d),[]),(0,In.Z)(u,"application.".concat("inboundProtocolConfiguration.oidc.allowedOrigins"),[])),null!=u&&null!==(e=u.application)&&void 0!==e&&null!==(t=e.inboundProtocolConfiguration)&&void 0!==t&&null!==(n=t.saml)&&void 0!==n&&n.templateConfiguration)null==u||(null===(l=u.application)||void 0===l||(null===(s=l.inboundProtocolConfiguration)||void 0===s||(null===(c=s.saml)||void 0===c||delete c.templateConfiguration)));var f=(0,Cn.Z)((0,wn.Z)(null==u?void 0:u.application,F));f.name=Q.get("name").toString(),f.templateId=X.id,B===y.AI.OAUTH2_OIDC&&"custom-application"===(null==X?void 0:X.templateId)&&(f.isManagementApp=Q.get("isManagementApp").length>=2),X.id===st.id&&(B===y.AI.OAUTH2_OIDC?(f.templateId=b.jo.CUSTOM_APPLICATION_OIDC,f.inboundProtocolConfiguration={oidc:{grantTypes:["client_credentials"]}}):B===y.AI.SAML?(f.templateId=b.jo.CUSTOM_APPLICATION_SAML,Ee===y.T6.MANUAL&&(f.inboundProtocolConfiguration.saml.manualConfiguration=Object.assign(f.inboundProtocolConfiguration.saml.manualConfiguration,{attributeProfile:{alwaysIncludeAttributesInResponse:!0,enabled:!0}}))):B===y.AI.WS_FEDERATION&&(f.templateId=b.jo.CUSTOM_APPLICATION_PASSIVE_STS)),G(!0),(0,h.W3)(f).then((function(e){if(Ie.compute((function(){X.id===st.id?Ie.publish("application-register-new-application",{type:f.templateId}):Ie.publish("application-register-new-application",{type:X.templateId})})),A((0,r.V_)({description:S("console:develop.features.applications.notifications.addApplication.success.description"),level:a.QU.SUCCESS,message:S("console:develop.features.applications.notifications.addApplication.success.message")})),!(0,T.Z)(e.headers.location)){var t=e.headers.location,n=t.substring(t.lastIndexOf("/")+1),o="?",i=0;return U&&(o="".concat(o,"&").concat(b.jo.CLIENT_SECRET_HASH_ENABLED_URL_SEARCH_PARAM_KEY,"=true")),X.id===st.id&&(i=m.applicationConfig.customApplication.defaultTabIndex),void g.m8.push({hash:"#".concat(y.El.TAB_INDEX).concat(i),pathname:g.$x.getPaths().get("APPLICATION_EDIT").replace(":id",n),search:o})}g.m8.push(g.$x.getPaths().get("APPLICATIONS"))})).catch((function(e){var t,n;if(403!==e.response.status||(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code)!==b.jo.ERROR_CREATE_LIMIT_REACHED.getErrorCode())if(e.response&&e.response.data&&e.response.data.code&&e.response.data.code===b.jo.ERROR_CODE_ISSUER_EXISTS)ue&&(Ee!==y.T6.MANUAL?(Oe({description:e.response.data.description,level:a.QU.ERROR,message:S("console:develop.features.applications.notifications.addApplication.error.message")}),Me()):(Pe("issuer",!0),Ne("issuer")));else if(e.response&&e.response.data&&e.response.data.code&&e.response.data.code===b.jo.ERROR_CODE_INVALID_METADATA_URL)ue&&(Pe("metaUrl",!0),Ne("metaUrl"));else{if(e.response&&e.response.data&&e.response.data.description)return Oe({description:e.response.data.description,level:a.QU.ERROR,message:S("console:develop.features.applications.notifications.addApplication.error.message")}),void Me();Oe({description:S("console:develop.features.applications.notifications.addApplication.genericError.description"),level:a.QU.ERROR,message:S("console:develop.features.applications.notifications.addApplication.genericError.message")}),Me()}else me(!0)})).finally((function(){G(!1),ke(!1),Pe("all",!1)}))}}}),[Q,F]);var Te,Re=function(){n()},Le=function(e,t){f!==y.IJ.LOCAL?(0,h.FG)(e).then((function(e){_(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?A((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:S("console:develop.features.applications.notifications.fetchTemplate.error.message")})):A((0,r.V_)({description:S("console:develop.features.applications.notifications.fetchTemplate.genericError.description"),level:a.QU.ERROR,message:S("console:develop.features.applications.notifications.fetchTemplate.genericError.message")}))})):_(t)},Ne=function(e){var t={behavior:"smooth",block:"center"};switch(e){case"name":ve.current.scrollIntoView(t);break;case"issuer":he.current.scrollIntoView(t);var n=he.current.children[0].children[1].children[0];n.focus(),n.blur();break;case"metaUrl":be.current.scrollIntoView(t);var o=be.current.children[0].children[1].children[0];o.focus(),o.blur()}},ke=function(e){de(e)},Pe=function(e,t){switch(e){case"issuer":ae(t);break;case"metaUrl":se(t);break;default:se(t),ae(t)}},Me=function(){document.getElementById("notification-div").scrollIntoView({behavior:"smooth"})},Ue=function(){var e,t=(e=No().mark((function e(t,n){var o,i,l,s;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=t.toString().trim(),Ze(l)){e.next=5;break}return n.isValid=!1,n.errorMessages.push(S("console:develop.features.applications.forms.spaProtocolSettingsWizard.fields.name.validations.invalid",{appName:t.toString(),characterLimit:b.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH})),e.abrupt("return");case 5:if(!De(l)){e.next=9;break}return n.isValid=!1,n.errorMessages.push(S("console:develop.features.applications.forms.generalDetails.fields.name.validations.reserved",{appName:l,characterLimit:b.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH})),e.abrupt("return");case 9:return s=null,e.prev=10,e.next=13,(0,h.AY)(null,null,"name eq "+t.toString());case 13:s=e.sent,e.next=22;break;case 16:if(e.prev=16,e.t0=e.catch(10),!(e.t0.response&&e.t0.response.data&&e.t0.response.data.description)){e.next=21;break}return A((0,r.V_)({description:e.t0.response.data.description,level:a.QU.ERROR,message:S("console:develop.features.applications.notifications.fetchApplications.error.message")})),e.abrupt("return");case 21:A((0,r.V_)({description:S("console:develop.features.applications.notifications.fetchApplications.genericError.description"),level:a.QU.ERROR,message:S("console:develop.features.applications.notifications.fetchApplications.genericError.message")}));case 22:(null===(o=s)||void 0===o||null===(i=o.applications)||void 0===i?void 0:i.length)>0&&(n.isValid=!1,n.errorMessages.push(S("console:develop.features.applications.forms.generalDetails.fields.name.validations.duplicate")));case 23:case"end":return e.stop()}}),e,null,[[10,16]])})),function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){ko(a,o,i,r,l,"next",e)}function l(e){ko(a,o,i,r,l,"throw",e)}r(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),De=function(e){if(!x)return!1;var t=new RegExp(x);return e&&t.test(e)},Ze=function(e){return e&&!!e.match(b.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_PATTERN)},_e=function(){var e=i&&i instanceof Array&&i.length>0,t=X.id===st.id;if(!e&&!t)return null;if("mobile"===o.id||"desktop"===o.id)return null;var n=t?function(e){var t=Object.values(y.AI);t=t.filter((function(t){return m.applicationConfig.customApplication.allowedProtocolTypes&&m.applicationConfig.customApplication.allowedProtocolTypes.length>0?!!m.applicationConfig.customApplication.allowedProtocolTypes.includes(t)&&t:!(t===y.AI.WS_TRUST||t===y.AI.OIDC||t===y.AI.CUSTOM||e&&t===e)&&t}));var n=[y.AI.OAUTH2_OIDC,y.AI.SAML,y.AI.WS_FEDERATION];return(0,P.Z)(t,(function(e){return n.indexOf(e)}))}():i;return s.createElement(N.Z.Row,{className:"pt-0 mt-0"},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:14},s.createElement("div",{className:"sub-template-selection"},s.createElement("label",{className:"sub-templates-label"},d),s.createElement(Oo.Z.Group,{itemsPerRow:3,className:"sub-templates"},n.map((function(e,n){var o=t?e:e.id,i=t?e:e.image,a=t?e===y.AI.OAUTH2_OIDC?s.createElement(s.Fragment,null,s.createElement("div",null,"OAuth2.0"),s.createElement("div",null,"OpenID Connect")):E.yf.resolveProtocolDisplayName(e):e.name,r=t?B===e:X.id===e.id,c=!t&&e.previewOnly;return s.createElement(l.B0,{key:n,image:Ro(Ro({},(0,lt.B0)()),(0,g.r2)())[i],size:"small",className:"sub-template-selection-card",header:a,selected:r,onClick:function(){e.previewOnly||(t?H(e):(J(e),Le(e.id,e)))},imageSize:"x30",imageOptions:{relaxed:!0,square:!1,width:"auto"},contentTopBorder:!1,showTooltips:!1,renderDisabledItemsAsGrayscale:!1,disabled:c,overlay:s.createElement(Ao.Z,{className:"lighter",active:!0},S("common:featureAvailable")),overlayOpacity:.6,"data-testid":"".concat(v,"-").concat(o,"-card")})}))),s.createElement(ge.Z,{hidden:!0}))))};return s.createElement(s.Fragment,null,fe&&s.createElement(wo.P,{actionLabel:S("console:develop.features.applications.notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){me(!1),Re()},header:S("console:develop.features.applications.notifications.tierLimitReachedError.heading"),description:S("console:develop.features.applications.notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:S("console:develop.features.applications.notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:fe}),s.createElement(g.wv,{open:!fe,className:"wizard minimal-application-create-wizard",dimmer:"blurring",onClose:Re,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(v,"-modal")},s.createElement(g.wv.MainPanel,null,s.createElement(g.wv.Header,{className:"wizard-header"},t,p&&s.createElement(l.X6,{as:"h6"},p,s.createElement(l.eb,{link:(null==X?void 0:X.templateId)===y.u.SPA?C("develop.applications.newApplication.singlePageApplication.learnMore"):(null==X?void 0:X.templateId)===y.u.OIDC_WEB_APPLICATION?C("develop.applications.newApplication.oidcApplication.learnMore"):(null==X?void 0:X.templateId)===y.u.SAML_WEB_APPLICATION?C("develop.applications.newApplication.samlApplication.learnMore"):(null==X?void 0:X.templateId)===y.u.MOBILE_APPLICATION?C("develop.applications.newApplication.mobileApplication.learnMore"):void 0},S("common:learnMore")))),s.createElement(g.wv.Content,null,s.createElement(qe.Es,{onSubmit:function(e){$(e),M()},onSubmitError:function(e,t){for(var n=e.entries(),o=n.next();!o.done;){if(!o.value[1]||!t.get(o.value[0]).isValid){Ne(o.value[0]);break}o=n.next()}},submitState:I,id:"name-input"},s.createElement(N.Z,null,Ae&&s.createElement(N.Z.Row,{columns:1,id:"notification-div"},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:14},we)),s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:14},s.createElement(qe.gN,{name:"name",ref:ve,label:S("console:develop.features.applications.forms.generalDetails.fields.name.label"),required:!0,requiredErrorMessage:S("console:develop.features.applications.forms.generalDetails.fields.name.validations.empty"),placeholder:S("console:develop.features.applications.forms.generalDetails.fields.name.placeholder"),type:"text","data-testid":"".concat(v,"-application-name-input"),validation:Ue,displayErrorOn:"blur",maxLength:b.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH}))),_e(),s.createElement(N.Z.Row,{className:"pt-0 mt-0"},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:14},(Te=X.authenticationProtocol,X.id===st.id&&(Te=B),Te===y.AI.OIDC?s.createElement(Fn,{isProtocolConfig:!1,tenantDomain:O,allowedOrigins:te,fields:["callbackURLs"],hideFieldHints:!0,triggerSubmit:k,templateValues:null==Z?void 0:Z.application,onSubmit:function(e){return V(e)},showCallbackURL:!0,addOriginByDefault:X.id===dt.id,isAllowEnabled:!(X.id===dt.id),"data-testid":"".concat(v,"-oauth-protocol-settings-form"),selectedTemplate:X}):Te===y.AI.SAML?s.createElement(Jn,{issuerRef:he,issuerError:ie,metaUrlRef:be,metaUrlError:le,handleProtocolValueChange:ke,fields:["issuer","assertionConsumerURLs"],hideFieldHints:!0,triggerSubmit:k,templateValues:null==Z?void 0:Z.application,onSubmit:function(e){return V(e)},setSAMLConfigureMode:Se,"data-testid":"".concat(v,"-saml-protocol-settings-form")}):void 0))),B===y.AI.OAUTH2_OIDC&&"custom-application"===(null==X?void 0:X.templateId)&&s.createElement("div",{className:"pt-0 mt-0"},s.createElement(qe.gN,{"data-testid":"".concat(v,"-management-app-checkbox"),name:"isManagementApp",required:!1,requiredErrorMessage:"is required",type:"checkbox",value:["isManagementApp"],children:[{label:S("console:develop.features.applications.forms.generalDetails.fields.isManagementApp.label"),value:"manageApp"}]}),s.createElement(l.kW,{compact:!0},S("console:develop.features.applications.forms.generalDetails.fields.isManagementApp.hint")))))),s.createElement(g.wv.Actions,null,s.createElement(N.Z,null,s.createElement(N.Z.Row,{column:1},s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(l.Qj,{floated:"left",onClick:Re},S("common:cancel"))),s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(l.KM,{floated:"right",onClick:function(){ae(!1),R()},"data-testid":"".concat(v,"-next-button"),loading:W,disabled:W},S("common:register"))))))),function(){var e,t,n;if(null==X||null===(e=X.content)||void 0===e||!e.wizardHelp)return null;var o,i,a=X.content.wizardHelp;X.authenticationProtocol===y.AI.SAML&&Ee===y.T6.META_FILE&&null!==(t=X.content)&&void 0!==t&&t.wizardHelp2&&(a=null===(o=X.content)||void 0===o?void 0:o.wizardHelp2);X.authenticationProtocol===y.AI.SAML&&Ee===y.T6.META_URL&&null!==(n=X.content)&&void 0!==n&&n.wizardHelp3&&(a=null===(i=X.content)||void 0===i?void 0:i.wizardHelp3);return s.createElement(g.wv.SidePanel,null,s.createElement(g.wv.Header,{className:"wizard-header help-panel-header muted"},s.createElement("div",{className:"help-panel-header-text"},S("console:develop.features.applications.wizards.minimalAppCreationWizard.help.heading"))),s.createElement(g.wv.Content,null,s.createElement(s.Suspense,{fallback:s.createElement(l.pO,null)},s.createElement(a,null))))}()))};function xo(e){return function(e){if(Array.isArray(e))return _o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Do(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||Zo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zo(e,t){if(e){if("string"==typeof e)return _o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_o(e,t):void 0}}function _o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Uo.defaultProps={"data-testid":"minimal-application-create-wizard",showHelpPanel:!0};var jo=function(e){var t,n,o,i,d=e.application,p=e.onUpdate,m=e.readOnly,v=e.defaultActiveIndexes,b=e["data-testid"],y=(0,c.$)().t,E=(0,u.I0)(),S=Do((0,s.useState)(!1),2),C=S[0],A=S[1],O=Do((0,s.useState)(!1),2),w=O[0],I=O[1],T=Do((0,s.useState)(!1),2),R=T[0],L=T[1],k=Do((0,s.useState)(void 0),2),P=k[0],M=k[1],x=Do((0,s.useState)(v),2),D=x[0],Z=x[1],_=Do((0,l.ZK)(),3),F=_[0],V=_[1],q=_[2],B=Do((0,s.useState)(void 0),2),H=B[0],z=B[1];(0,s.useEffect)((function(){P||(0,Xt.SN)().then((function(e){M(e.identityProviders)}))}),[]);var W=function(e,t){if(t){var n=xo(D);if(n.includes(t.accordionIndex)){var o=n.indexOf(t.accordionIndex);n.splice(o,1)}else n.push(t.accordionIndex);Z(n)}},G=function(e){!function(e,t){L(!0),(0,h.TH)(e,t).then((function(){E((0,r.V_)({description:y("console:develop.features.applications.notifications.updateApplication.success.description"),level:a.QU.SUCCESS,message:y("console:develop.features.applications.notifications.updateApplication.success.message")})),p(d.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?E((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:y("console:develop.features.applications.notifications.updateApplication.error.message")})):E((0,r.V_)({description:y("console:develop.features.applications.notifications.updateApplication.genericError.description"),level:a.QU.ERROR,message:y("console:develop.features.applications.notifications.updateApplication.genericError.message")}))})).finally((function(){L(!1)}))}(d.id,function(e){var t,n=null==d||null===(t=d.provisioningConfigurations)||void 0===t?void 0:t.outboundProvisioningIdps,o=n.find((function(t){return t.idp===e.idp&&t.connector===e.connector}));return n.splice(n.indexOf(o),1),n.push(e),{provisioningConfigurations:{outboundProvisioningIdps:n}}}(e))};return s.createElement(s.Fragment,null,s.createElement(l.X6,{as:"h4"},y("console:develop.features.applications.edit.sections.provisioning.outbound.heading")),s.createElement(l.X6,{subHeading:!0,as:"h6"},y("console:develop.features.applications.edit.sections.provisioning.outbound.subHeading")),s.createElement(ge.Z,{hidden:!0}),(null==d||null===(t=d.provisioningConfigurations)||void 0===t||null===(n=t.outboundProvisioningIdps)||void 0===n?void 0:n.length)>0?s.createElement(N.Z,null,!m&&s.createElement(N.Z.Row,null,s.createElement(N.Z.Column,null,s.createElement(l.KM,{floated:"right",onClick:function(){return A(!0)},"data-testid":"".concat(b,"-new-idp-button")},s.createElement(f.Z,{name:"add"}),y("console:develop.features.applications.edit.sections.provisioning.outbound.actions.addIdp")))),s.createElement(N.Z.Row,null,s.createElement(N.Z.Column,null,null==d||null===(o=d.provisioningConfigurations)||void 0===o||null===(i=o.outboundProvisioningIdps)||void 0===i?void 0:i.map((function(e,t){return s.createElement(g.Us,{key:e.idp,globalActions:!m&&[{icon:"trash alternate",onClick:function(){I(!0),z(e)},type:"icon"}],authenticators:[{content:s.createElement(yo,{initialValues:e,triggerSubmit:null,onSubmit:function(e){G(e)},idpList:P,isEdit:!0,"data-testid":"".concat(b,"-form"),isSubmitting:R}),id:null==e?void 0:e.idp,title:null==e?void 0:e.idp}],accordionActiveIndexes:D,accordionIndex:t,handleAccordionOnClick:W,"data-testid":"".concat(b,"-outbound-connector-accordion")})}))))):s.createElement(N.Z,null,s.createElement(N.Z.Row,null,s.createElement(N.Z.Column,{width:16},s.createElement(j.Z,null,s.createElement(l.$J,{title:y("console:develop.features.applications.placeholders.emptyOutboundProvisioningIDPs.title"),image:(0,g.jF)().emptyList,subtitle:[y("console:develop.features.applications.placeholders.emptyOutboundProvisioningIDPs.subtitles")],imageSize:"tiny",action:!m&&s.createElement(l.KM,{onClick:function(){return A(!0)}},s.createElement(f.Z,{name:"add"}),y("console:develop.features.applications.placeholders.emptyOutboundProvisioningIDPs.action"))}))))),H&&s.createElement(l.cV,{onClose:function(){return I(!1)},type:"negative",open:w,assertion:null==H?void 0:H.idp,assertionHint:s.createElement("p",null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.confirmations.deleteOutboundProvisioningIDP.assertionHint",tOptions:{name:null==H?void 0:H.idp}},"Please type ",s.createElement("strong",null,null==H?void 0:H.idp)," to confirm.")),assertionType:"input",primaryAction:"Confirm",secondaryAction:"Cancel",onSecondaryActionClick:function(){I(!1),V(null)},onPrimaryActionClick:function(){return function(e){var t,n=null==d||null===(t=d.provisioningConfigurations)||void 0===t?void 0:t.outboundProvisioningIdps,o=xo(n);o.splice(n.indexOf(e),1);var i={provisioningConfigurations:{outboundProvisioningIdps:o}};(0,h.TH)(d.id,i).then((function(){E((0,r.V_)({description:y("console:develop.features.applications.notifications.updateApplication.success.description"),level:a.QU.SUCCESS,message:y("console:develop.features.applications.notifications.updateApplication.success.message")})),p(d.id),I(!1)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?E(V({description:e.response.data.description,level:a.QU.ERROR,message:y("console:develop.features.applications.notifications.updateApplication.error.message")})):E(V({description:y("console:develop.features.applications.notifications.updateApplication.genericError.description"),level:a.QU.ERROR,message:y("console:develop.features.applications.notifications.updateApplication.genericError.message")}))}))}(H)},"data-testid":"".concat(b,"-connector-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(b,"-connector-delete-confirmation-modal-header")},y("console:develop.features.applications.confirmations.deleteOutboundProvisioningIDP.header")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(b,"-connector-delete-confirmation-modal-message")},y("console:develop.features.applications.confirmations.deleteOutboundProvisioningIDP.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(b,"-connector-delete-confirmation-modal-content")},s.createElement("div",{className:"modal-alert-wrapper"}," ",F&&q),y("console:develop.features.applications.confirmations.deleteOutboundProvisioningIDP.content"))),C&&s.createElement(Co,{closeWizard:function(){return A(!1)},application:d,onUpdate:p,"data-testid":"".concat(b,"-idp-create-wizard")}))};jo.defaultProps={"data-testid":"application-outbound-provisioning-configurations",defaultActiveIndexes:[-1]};var Fo=function(e){var t,n,o,a,r=e.application,l=e.featureConfig,c=e.provisioningConfigurations,d=e.onUpdate,p=e.readOnly,f=e["data-testid"],m=(0,u.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes}));return s.createElement(N.Z,null,s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:12},s.createElement(Sn,{appId:r.id,provisioningConfigurations:c,onUpdate:d,readOnly:p||!(0,i.Xr)(null==l?void 0:l.applications,null==l||null===(t=l.applications)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.update,m),"data-testid":"".concat(f,"-inbound-configuration")}))),s.createElement(N.Z.Row,null,s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:12},s.createElement(jo,{application:r,provisioningConfigurations:c,onUpdate:d,readOnly:p||!(0,i.Xr)(null==l?void 0:l.applications,null==l||null===(o=l.applications)||void 0===o||null===(a=o.scopes)||void 0===a?void 0:a.update,m),"data-testid":"".concat(f,"-outbound-configuration")}))))};Fo.defaultProps={"data-testid":"provisioning-settings"};var Vo=n(34936),qo=n(63987),Bo=n.n(qo);function Ho(e){return function(t){return typeof t===e}}var zo=Ho("function"),Wo=function(e){return"RegExp"===Object.prototype.toString.call(e).slice(8,-1)},Go=function(e){return!Ko(e)&&!function(e){return null===e}(e)&&(zo(e)||"object"==typeof e)},Ko=Ho("undefined"),Qo=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function $o(e,t){if(e===t)return!0;if(e&&Go(e)&&t&&Go(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return function(e,t){var n=e.length;if(n!==t.length)return!1;for(var o=n;0!=o--;)if(!$o(e[o],t[o]))return!1;return!0}(e,t);if(e instanceof Map&&t instanceof Map)return function(e,t){var n,o,i,a;if(e.size!==t.size)return!1;try{for(var r=Qo(e.entries()),l=r.next();!l.done;l=r.next()){var s=l.value;if(!t.has(s[0]))return!1}}catch(d){n={error:d}}finally{try{l&&!l.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}try{for(var c=Qo(e.entries()),u=c.next();!u.done;u=c.next())if(!$o((s=u.value)[1],t.get(s[0])))return!1}catch(p){i={error:p}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return!0}(e,t);if(e instanceof Set&&t instanceof Set)return function(e,t){var n,o;if(e.size!==t.size)return!1;try{for(var i=Qo(e.entries()),a=i.next();!a.done;a=i.next()){var r=a.value;if(!t.has(r[0]))return!1}}catch(l){n={error:l}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return!0}(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e.buffer),o=new DataView(t.buffer),i=e.byteLength;i--;)if(n.getUint8(i)!==o.getUint8(i))return!1;return!0}(e,t);if(Wo(e)&&Wo(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var i=n.length;0!=i--;)if(!Object.prototype.hasOwnProperty.call(t,n[i]))return!1;for(i=n.length;0!=i--;){var a=n[i];if(("_owner"!==a||!e.$$typeof)&&!$o(e[a],t[a]))return!1}return!0}return!(!Number.isNaN(e)||!Number.isNaN(t))||e===t}var Yo=["innerHTML","ownerDocument","style","attributes","nodeValue"],Xo=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],Jo=["bigint","boolean","null","number","string","symbol","undefined"];function ei(e){var t,n=Object.prototype.toString.call(e).slice(8,-1);return/HTML\w+Element/.test(n)?"HTMLElement":(t=n,Xo.includes(t)?n:void 0)}function ti(e){return function(t){return ei(t)===e}}function ni(e){return function(t){return typeof t===e}}function oi(e){if(null===e)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(oi.array(e))return"Array";if(oi.plainFunction(e))return"Function";var t=ei(e);return t||"Object"}oi.array=Array.isArray,oi.arrayOf=function(e,t){return!(!oi.array(e)&&!oi.function(t))&&e.every((function(e){return t(e)}))},oi.asyncGeneratorFunction=function(e){return"AsyncGeneratorFunction"===ei(e)},oi.asyncFunction=ti("AsyncFunction"),oi.bigint=ni("bigint"),oi.boolean=function(e){return!0===e||!1===e},oi.date=ti("Date"),oi.defined=function(e){return!oi.undefined(e)},oi.domElement=function(e){return oi.object(e)&&!oi.plainObject(e)&&1===e.nodeType&&oi.string(e.nodeName)&&Yo.every((function(t){return t in e}))},oi.empty=function(e){return oi.string(e)&&0===e.length||oi.array(e)&&0===e.length||oi.object(e)&&!oi.map(e)&&!oi.set(e)&&0===Object.keys(e).length||oi.set(e)&&0===e.size||oi.map(e)&&0===e.size},oi.error=ti("Error"),oi.function=ni("function"),oi.generator=function(e){return oi.iterable(e)&&oi.function(e.next)&&oi.function(e.throw)},oi.generatorFunction=ti("GeneratorFunction"),oi.instanceOf=function(e,t){return!(!e||!t)&&Object.getPrototypeOf(e)===t.prototype},oi.iterable=function(e){return!oi.nullOrUndefined(e)&&oi.function(e[Symbol.iterator])},oi.map=ti("Map"),oi.nan=function(e){return Number.isNaN(e)},oi.null=function(e){return null===e},oi.nullOrUndefined=function(e){return oi.null(e)||oi.undefined(e)},oi.number=function(e){return ni("number")(e)&&!oi.nan(e)},oi.numericString=function(e){return oi.string(e)&&e.length>0&&!Number.isNaN(Number(e))},oi.object=function(e){return!oi.nullOrUndefined(e)&&(oi.function(e)||"object"==typeof e)},oi.oneOf=function(e,t){return!!oi.array(e)&&e.indexOf(t)>-1},oi.plainFunction=ti("Function"),oi.plainObject=function(e){if("Object"!==ei(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.getPrototypeOf({})},oi.primitive=function(e){return oi.null(e)||(t=typeof e,Jo.includes(t));var t},oi.promise=ti("Promise"),oi.propertyOf=function(e,t,n){if(!oi.object(e)||!t)return!1;var o=e[t];return oi.function(n)?n(o):oi.defined(o)},oi.regexp=ti("RegExp"),oi.set=ti("Set"),oi.string=ni("string"),oi.symbol=ni("symbol"),oi.undefined=ni("undefined"),oi.weakMap=ti("WeakMap"),oi.weakSet=ti("WeakSet");const ii=oi;function ai(e,t,n){var o=n.actual,i=n.key,a=n.previous,r=n.type,l=fi(e,i),s=fi(t,i),c=[l,s].every(ii.number)&&("increased"===r?l<s:l>s);return ii.undefined(o)||(c=c&&s===o),ii.undefined(a)||(c=c&&l===a),c}function ri(e,t,n){var o=n.key,i=n.type,a=n.value,r=fi(e,o),l=fi(t,o),s="added"===i?r:l,c="added"===i?l:r;return ii.nullOrUndefined(a)?[r,l].every(ii.array)?!c.every(di(s)):[r,l].every(ii.plainObject)?function(e,t){return t.some((function(t){return!e.includes(t)}))}(Object.keys(s),Object.keys(c)):![r,l].every((function(e){return ii.primitive(e)&&ii.defined(e)}))&&("added"===i?!ii.defined(r)&&ii.defined(l):ii.defined(r)&&!ii.defined(l)):ii.defined(s)?!(!ii.array(s)&&!ii.plainObject(s))&&function(e,t,n){return!!pi(e,t)&&([e,t].every(ii.array)?!e.some(ci(n))&&t.some(ci(n)):[e,t].every(ii.plainObject)?!Object.entries(e).some(si(n))&&Object.entries(t).some(si(n)):t===n)}(s,c,a):$o(c,a)}function li(e,t,n){var o=(void 0===n?{}:n).key,i=fi(e,o),a=fi(t,o);if(!pi(i,a))throw new TypeError("Inputs have different types");if(!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every((function(e){return ii.string(e)||ii.array(e)||ii.plainObject(e)}))}(i,a))throw new TypeError("Inputs don't have length");return[i,a].every(ii.plainObject)&&(i=Object.keys(i),a=Object.keys(a)),[i,a]}function si(e){return function(t){var n=t[0],o=t[1];return ii.array(e)?$o(e,o)||e.some((function(e){return $o(e,o)||ii.array(o)&&di(o)(e)})):ii.plainObject(e)&&e[n]?!!e[n]&&$o(e[n],o):$o(e,o)}}function ci(e){return function(t){return ii.array(e)?e.some((function(e){return $o(e,t)||ii.array(t)&&di(t)(e)})):$o(e,t)}}function ui(e,t){return ii.array(e)?e.some((function(e){return $o(e,t)})):$o(e,t)}function di(e){return function(t){return e.some((function(e){return $o(e,t)}))}}function pi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(ii.array)||e.every(ii.number)||e.every(ii.plainObject)||e.every(ii.string)}function fi(e,t){return ii.plainObject(e)||ii.array(e)?ii.string(t)?t.split(".").reduce((function(e,t){return e&&e[t]}),e):ii.number(t)?e[t]:e:e}function mi(e,t){if([e,t].some(ii.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every((function(e){return ii.plainObject(e)||ii.array(e)})))throw new Error("Expected plain objects or array");var n=function(n,o,i){try{var a=fi(e,n),r=fi(t,n),l=ii.defined(o),s=ii.defined(i);if(l||s){var c=s?ui(i,a):!ui(o,a),u=ui(o,r);return c&&u}return[a,r].every(ii.array)||[a,r].every(ii.plainObject)?!$o(a,r):a!==r}catch(d){return!1}};return{added:function(n,o){try{return ri(e,t,{key:n,type:"added",value:o})}catch(i){return!1}},changed:n,changedFrom:function(n,o,i){if(!ii.defined(n))return!1;try{var a=fi(e,n),r=fi(t,n),l=ii.defined(i);return ui(o,a)&&(l?ui(i,r):!l)}catch(s){return!1}},changedTo:function(e,t){return!!ii.defined(e)&&n(e,t)},decreased:function(n,o,i){if(!ii.defined(n))return!1;try{return ai(e,t,{key:n,actual:o,previous:i,type:"decreased"})}catch(a){return!1}},emptied:function(n){try{var o=li(e,t,{key:n}),i=o[0],a=o[1];return!!i.length&&!a.length}catch(r){return!1}},filled:function(n){try{var o=li(e,t,{key:n}),i=o[0],a=o[1];return!i.length&&!!a.length}catch(r){return!1}},increased:function(n,o,i){if(!ii.defined(n))return!1;try{return ai(e,t,{key:n,actual:o,previous:i,type:"increased"})}catch(a){return!1}},removed:function(n,o){try{return ri(e,t,{key:n,type:"removed",value:o})}catch(i){return!1}}}}var vi=n(63730),gi=n(51979),hi=n.n(gi),bi=n(48879),yi=n.n(bi),Ei=n(47929),Si=n.n(Ei),Ci=n(99415),Ai=n(9942),Oi=n.n(Ai),wi=n(7862),Ii=n.n(wi),Ti=n(46004),Ri="undefined"!=typeof document&&"undefined"!=typeof navigator,Li=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(Ri&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var Ni=Ri&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),Li))}};function ki(e){return e&&"[object Function]"==={}.toString.call(e)}function Pi(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function Mi(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function Ui(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=Pi(e),n=t.overflow,o=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+o)?e:Ui(Mi(e))}function xi(e){return e&&e.referenceNode?e.referenceNode:e}var Di=Ri&&!(!window.MSInputMethodContext||!document.documentMode),Zi=Ri&&/MSIE 10/.test(navigator.userAgent);function _i(e){return 11===e?Di:10===e?Zi:Di||Zi}function ji(e){if(!e)return document.documentElement;for(var t=_i(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var o=n&&n.nodeName;return o&&"BODY"!==o&&"HTML"!==o?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===Pi(n,"position")?ji(n):n:e?e.ownerDocument.documentElement:document.documentElement}function Fi(e){return null!==e.parentNode?Fi(e.parentNode):e}function Vi(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,o=n?e:t,i=n?t:e,a=document.createRange();a.setStart(o,0),a.setEnd(i,0);var r,l,s=a.commonAncestorContainer;if(e!==s&&t!==s||o.contains(i))return"BODY"===(l=(r=s).nodeName)||"HTML"!==l&&ji(r.firstElementChild)!==r?ji(s):s;var c=Fi(e);return c.host?Vi(c.host,t):Vi(e,Fi(t).host)}function qi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",o=e.nodeName;if("BODY"===o||"HTML"===o){var i=e.ownerDocument.documentElement,a=e.ownerDocument.scrollingElement||i;return a[n]}return e[n]}function Bi(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=qi(t,"top"),i=qi(t,"left"),a=n?-1:1;return e.top+=o*a,e.bottom+=o*a,e.left+=i*a,e.right+=i*a,e}function Hi(e,t){var n="x"===t?"Left":"Top",o="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+o+"Width"])}function zi(e,t,n,o){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],_i(10)?parseInt(n["offset"+e])+parseInt(o["margin"+("Height"===e?"Top":"Left")])+parseInt(o["margin"+("Height"===e?"Bottom":"Right")]):0)}function Wi(e){var t=e.body,n=e.documentElement,o=_i(10)&&getComputedStyle(n);return{height:zi("Height",t,n,o),width:zi("Width",t,n,o)}}var Gi=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ki=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),Qi=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},$i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function Yi(e){return $i({},e,{right:e.left+e.width,bottom:e.top+e.height})}function Xi(e){var t={};try{if(_i(10)){t=e.getBoundingClientRect();var n=qi(e,"top"),o=qi(e,"left");t.top+=n,t.left+=o,t.bottom+=n,t.right+=o}else t=e.getBoundingClientRect()}catch(d){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?Wi(e.ownerDocument):{},r=a.width||e.clientWidth||i.width,l=a.height||e.clientHeight||i.height,s=e.offsetWidth-r,c=e.offsetHeight-l;if(s||c){var u=Pi(e);s-=Hi(u,"x"),c-=Hi(u,"y"),i.width-=s,i.height-=c}return Yi(i)}function Ji(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=_i(10),i="HTML"===t.nodeName,a=Xi(e),r=Xi(t),l=Ui(e),s=Pi(t),c=parseFloat(s.borderTopWidth),u=parseFloat(s.borderLeftWidth);n&&i&&(r.top=Math.max(r.top,0),r.left=Math.max(r.left,0));var d=Yi({top:a.top-r.top-c,left:a.left-r.left-u,width:a.width,height:a.height});if(d.marginTop=0,d.marginLeft=0,!o&&i){var p=parseFloat(s.marginTop),f=parseFloat(s.marginLeft);d.top-=c-p,d.bottom-=c-p,d.left-=u-f,d.right-=u-f,d.marginTop=p,d.marginLeft=f}return(o&&!n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(d=Bi(d,t)),d}function ea(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,o=Ji(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),r=t?0:qi(n),l=t?0:qi(n,"left"),s={top:r-o.top+o.marginTop,left:l-o.left+o.marginLeft,width:i,height:a};return Yi(s)}function ta(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===Pi(e,"position"))return!0;var n=Mi(e);return!!n&&ta(n)}function na(e){if(!e||!e.parentElement||_i())return document.documentElement;for(var t=e.parentElement;t&&"none"===Pi(t,"transform");)t=t.parentElement;return t||document.documentElement}function oa(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},r=i?na(e):Vi(e,xi(t));if("viewport"===o)a=ea(r,i);else{var l=void 0;"scrollParent"===o?"BODY"===(l=Ui(Mi(t))).nodeName&&(l=e.ownerDocument.documentElement):l="window"===o?e.ownerDocument.documentElement:o;var s=Ji(l,r,i);if("HTML"!==l.nodeName||ta(r))a=s;else{var c=Wi(e.ownerDocument),u=c.height,d=c.width;a.top+=s.top-s.marginTop,a.bottom=u+s.top,a.left+=s.left-s.marginLeft,a.right=d+s.left}}var p="number"==typeof(n=n||0);return a.left+=p?n:n.left||0,a.top+=p?n:n.top||0,a.right-=p?n:n.right||0,a.bottom-=p?n:n.bottom||0,a}function ia(e){return e.width*e.height}function aa(e,t,n,o,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var r=oa(n,o,a,i),l={top:{width:r.width,height:t.top-r.top},right:{width:r.right-t.right,height:r.height},bottom:{width:r.width,height:r.bottom-t.bottom},left:{width:t.left-r.left,height:r.height}},s=Object.keys(l).map((function(e){return $i({key:e},l[e],{area:ia(l[e])})})).sort((function(e,t){return t.area-e.area})),c=s.filter((function(e){var t=e.width,o=e.height;return t>=n.clientWidth&&o>=n.clientHeight})),u=c.length>0?c[0].key:s[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function ra(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=o?na(t):Vi(t,xi(n));return Ji(n,i,o)}function la(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),o=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+o,height:e.offsetHeight+n}}function sa(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function ca(e,t,n){n=n.split("-")[0];var o=la(e),i={width:o.width,height:o.height},a=-1!==["right","left"].indexOf(n),r=a?"top":"left",l=a?"left":"top",s=a?"height":"width",c=a?"width":"height";return i[r]=t[r]+t[s]/2-o[s]/2,i[l]=n===l?t[l]-o[c]:t[sa(l)],i}function ua(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function da(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var o=ua(e,(function(e){return e[t]===n}));return e.indexOf(o)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&ki(n)&&(t.offsets.popper=Yi(t.offsets.popper),t.offsets.reference=Yi(t.offsets.reference),t=n(t,e))})),t}function pa(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=ra(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=aa(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=ca(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=da(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function fa(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function ma(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<t.length;o++){var i=t[o],a=i?""+i+n:e;if(void 0!==document.body.style[a])return a}return null}function va(){return this.state.isDestroyed=!0,fa(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[ma("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function ga(e){var t=e.ownerDocument;return t?t.defaultView:window}function ha(e,t,n,o){var i="BODY"===e.nodeName,a=i?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:!0}),i||ha(Ui(a.parentNode),t,n,o),o.push(a)}function ba(e,t,n,o){n.updateBound=o,ga(e).addEventListener("resize",n.updateBound,{passive:!0});var i=Ui(e);return ha(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function ya(){this.state.eventsEnabled||(this.state=ba(this.reference,this.options,this.state,this.scheduleUpdate))}function Ea(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,ga(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Sa(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Ca(e,t){Object.keys(t).forEach((function(n){var o="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Sa(t[n])&&(o="px"),e.style[n]=t[n]+o}))}var Aa=Ri&&/Firefox/i.test(navigator.userAgent);function Oa(e,t,n){var o=ua(e,(function(e){return e.name===t})),i=!!o&&e.some((function(e){return e.name===n&&e.enabled&&e.order<o.order}));if(!i){var a="`"+t+"`",r="`"+n+"`";console.warn(r+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}var wa=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Ia=wa.slice(3);function Ta(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ia.indexOf(e),o=Ia.slice(n+1).concat(Ia.slice(0,n));return t?o.reverse():o}var Ra="flip",La="clockwise",Na="counterclockwise";function ka(e,t,n,o){var i=[0,0],a=-1!==["right","left"].indexOf(o),r=e.split(/(\+|\-)/).map((function(e){return e.trim()})),l=r.indexOf(ua(r,(function(e){return-1!==e.search(/,|\s/)})));r[l]&&-1===r[l].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var s=/\s*,\s*|\s+/,c=-1!==l?[r.slice(0,l).concat([r[l].split(s)[0]]),[r[l].split(s)[1]].concat(r.slice(l+1))]:[r];return c=c.map((function(e,o){var i=(1===o?!a:a)?"height":"width",r=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,r=!0,e):r?(e[e.length-1]+=t,r=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,o){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],r=i[2];if(!a)return e;if(0===r.indexOf("%")){return Yi("%p"===r?n:o)[t]/100*a}if("vh"===r||"vw"===r)return("vh"===r?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a;return a}(e,i,t,n)}))})),c.forEach((function(e,t){e.forEach((function(n,o){Sa(n)&&(i[t]+=n*("-"===e[o-1]?-1:1))}))})),i}var Pa={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],o=t.split("-")[1];if(o){var i=e.offsets,a=i.reference,r=i.popper,l=-1!==["bottom","top"].indexOf(n),s=l?"left":"top",c=l?"width":"height",u={start:Qi({},s,a[s]),end:Qi({},s,a[s]+a[c]-r[c])};e.offsets.popper=$i({},r,u[o])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,o=e.placement,i=e.offsets,a=i.popper,r=i.reference,l=o.split("-")[0],s=void 0;return s=Sa(+n)?[+n,0]:ka(n,a,r,l),"left"===l?(a.top+=s[0],a.left-=s[1]):"right"===l?(a.top+=s[0],a.left+=s[1]):"top"===l?(a.left+=s[0],a.top-=s[1]):"bottom"===l&&(a.left+=s[0],a.top+=s[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||ji(e.instance.popper);e.instance.reference===n&&(n=ji(n));var o=ma("transform"),i=e.instance.popper.style,a=i.top,r=i.left,l=i[o];i.top="",i.left="",i[o]="";var s=oa(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=a,i.left=r,i[o]=l,t.boundaries=s;var c=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<s[e]&&!t.escapeWithReference&&(n=Math.max(u[e],s[e])),Qi({},e,n)},secondary:function(e){var n="right"===e?"left":"top",o=u[n];return u[e]>s[e]&&!t.escapeWithReference&&(o=Math.min(u[n],s[e]-("right"===e?u.width:u.height))),Qi({},n,o)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=$i({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,o=t.reference,i=e.placement.split("-")[0],a=Math.floor,r=-1!==["top","bottom"].indexOf(i),l=r?"right":"bottom",s=r?"left":"top",c=r?"width":"height";return n[l]<a(o[s])&&(e.offsets.popper[s]=a(o[s])-n[c]),n[s]>a(o[l])&&(e.offsets.popper[s]=a(o[l])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Oa(e.instance.modifiers,"arrow","keepTogether"))return e;var o=t.element;if("string"==typeof o){if(!(o=e.instance.popper.querySelector(o)))return e}else if(!e.instance.popper.contains(o))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,r=a.popper,l=a.reference,s=-1!==["left","right"].indexOf(i),c=s?"height":"width",u=s?"Top":"Left",d=u.toLowerCase(),p=s?"left":"top",f=s?"bottom":"right",m=la(o)[c];l[f]-m<r[d]&&(e.offsets.popper[d]-=r[d]-(l[f]-m)),l[d]+m>r[f]&&(e.offsets.popper[d]+=l[d]+m-r[f]),e.offsets.popper=Yi(e.offsets.popper);var v=l[d]+l[c]/2-m/2,g=Pi(e.instance.popper),h=parseFloat(g["margin"+u]),b=parseFloat(g["border"+u+"Width"]),y=v-e.offsets.popper[d]-h-b;return y=Math.max(Math.min(r[c]-m,y),0),e.arrowElement=o,e.offsets.arrow=(Qi(n={},d,Math.round(y)),Qi(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(fa(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=oa(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),o=e.placement.split("-")[0],i=sa(o),a=e.placement.split("-")[1]||"",r=[];switch(t.behavior){case Ra:r=[o,i];break;case La:r=Ta(o);break;case Na:r=Ta(o,!0);break;default:r=t.behavior}return r.forEach((function(l,s){if(o!==l||r.length===s+1)return e;o=e.placement.split("-")[0],i=sa(o);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,p="left"===o&&d(c.right)>d(u.left)||"right"===o&&d(c.left)<d(u.right)||"top"===o&&d(c.bottom)>d(u.top)||"bottom"===o&&d(c.top)<d(u.bottom),f=d(c.left)<d(n.left),m=d(c.right)>d(n.right),v=d(c.top)<d(n.top),g=d(c.bottom)>d(n.bottom),h="left"===o&&f||"right"===o&&m||"top"===o&&v||"bottom"===o&&g,b=-1!==["top","bottom"].indexOf(o),y=!!t.flipVariations&&(b&&"start"===a&&f||b&&"end"===a&&m||!b&&"start"===a&&v||!b&&"end"===a&&g),E=!!t.flipVariationsByContent&&(b&&"start"===a&&m||b&&"end"===a&&f||!b&&"start"===a&&g||!b&&"end"===a&&v),S=y||E;(p||h||S)&&(e.flipped=!0,(p||h)&&(o=r[s+1]),S&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=o+(a?"-"+a:""),e.offsets.popper=$i({},e.offsets.popper,ca(e.instance.popper,e.offsets.reference,e.placement)),e=da(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],o=e.offsets,i=o.popper,a=o.reference,r=-1!==["left","right"].indexOf(n),l=-1===["top","left"].indexOf(n);return i[r?"left":"top"]=a[n]-(l?i[r?"width":"height"]:0),e.placement=sa(t),e.offsets.popper=Yi(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Oa(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=ua(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,o=t.y,i=e.offsets.popper,a=ua(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var r=void 0!==a?a:t.gpuAcceleration,l=ji(e.instance.popper),s=Xi(l),c={position:i.position},u=function(e,t){var n=e.offsets,o=n.popper,i=n.reference,a=Math.round,r=Math.floor,l=function(e){return e},s=a(i.width),c=a(o.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),p=t?u||d||s%2==c%2?a:r:l,f=t?a:l;return{left:p(s%2==1&&c%2==1&&!d&&t?o.left-1:o.left),top:f(o.top),bottom:f(o.bottom),right:p(o.right)}}(e,window.devicePixelRatio<2||!Aa),d="bottom"===n?"top":"bottom",p="right"===o?"left":"right",f=ma("transform"),m=void 0,v=void 0;if(v="bottom"===d?"HTML"===l.nodeName?-l.clientHeight+u.bottom:-s.height+u.bottom:u.top,m="right"===p?"HTML"===l.nodeName?-l.clientWidth+u.right:-s.width+u.right:u.left,r&&f)c[f]="translate3d("+m+"px, "+v+"px, 0)",c[d]=0,c[p]=0,c.willChange="transform";else{var g="bottom"===d?-1:1,h="right"===p?-1:1;c[d]=v*g,c[p]=m*h,c.willChange=d+", "+p}var b={"x-placement":e.placement};return e.attributes=$i({},b,e.attributes),e.styles=$i({},c,e.styles),e.arrowStyles=$i({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Ca(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Ca(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,o,i){var a=ra(i,t,e,n.positionFixed),r=aa(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",r),Ca(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},Ma={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Pa},Ua=function(){function e(t,n){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Gi(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=Ni(this.update.bind(this)),this.options=$i({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys($i({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){o.options.modifiers[t]=$i({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return $i({name:e},o.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&ki(e.onLoad)&&e.onLoad(o.reference,o.popper,o.options,e,o.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return Ki(e,[{key:"update",value:function(){return pa.call(this)}},{key:"destroy",value:function(){return va.call(this)}},{key:"enableEventListeners",value:function(){return ya.call(this)}},{key:"disableEventListeners",value:function(){return Ea.call(this)}}]),e}();Ua.Utils=window.PopperUtils,Ua.placements=wa,Ua.Defaults=Ma;const xa=Ua;function Da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Za(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(n),!0).forEach((function(t){Va(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Da(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ja(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Fa(e,t,n){return t&&ja(e.prototype,t),n&&ja(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Va(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ha(e,t)}function Ba(e){return Ba=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ba(e)}function Ha(e,t){return Ha=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ha(e,t)}function za(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ga(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wa(e)}function Ka(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Ba(e);if(t){var i=Ba(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Ga(this,n)}}var Qa={flip:{padding:20},preventOverflow:{padding:10}},$a={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing",ERROR:"error"},Ya=hi().canUseDOM,Xa=void 0!==vi.createPortal;function Ja(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function er(e){var t=e.title,n=e.data,o=e.warn,i=void 0!==o&&o,a=e.debug,r=void 0!==a&&a,l=i?console.warn||console.error:console.log;r&&t&&n&&(console.groupCollapsed("%creact-floater: ".concat(t),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach((function(e){ii.plainObject(e)&&e.key?l.apply(console,[e.key,e.value]):l.apply(console,[e])})):l.apply(console,[n]),console.groupEnd())}function tr(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,n,o)}function nr(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.removeEventListener(t,n,o)}function or(){}var ir=function(e){qa(n,e);var t=Ka(n);function n(){return _a(this,n),t.apply(this,arguments)}return Fa(n,[{key:"componentDidMount",value:function(){Ya&&(this.node||this.appendNode(),Xa||this.renderPortal())}},{key:"componentDidUpdate",value:function(){Ya&&(Xa||this.renderPortal())}},{key:"componentWillUnmount",value:function(){Ya&&this.node&&(Xa||vi.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var e=this.props,t=e.id,n=e.zIndex;this.node||(this.node=document.createElement("div"),t&&(this.node.id=t),n&&(this.node.style.zIndex=n),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!Ya)return null;var e=this.props,t=e.children,n=e.setRef;return this.node||this.appendNode(),Xa?vi.createPortal(t,this.node):(n(vi.unstable_renderSubtreeIntoContainer(this,t.length>1?s.createElement("div",null,t):t[0],this.node)),null)}},{key:"renderReact16",value:function(){var e=this.props,t=e.hasChildren,n=e.placement,o=e.target;return t||o||"center"===n?this.renderPortal():null}},{key:"render",value:function(){return Xa?this.renderReact16():null}}]),n}(s.Component);Va(ir,"propTypes",{children:Ii().oneOfType([Ii().element,Ii().array]),hasChildren:Ii().bool,id:Ii().oneOfType([Ii().string,Ii().number]),placement:Ii().string,setRef:Ii().func.isRequired,target:Ii().oneOfType([Ii().object,Ii().string]),zIndex:Ii().number});var ar=function(e){qa(n,e);var t=Ka(n);function n(){return _a(this,n),t.apply(this,arguments)}return Fa(n,[{key:"parentStyle",get:function(){var e=this.props,t=e.placement,n=e.styles.arrow.length,o={pointerEvents:"none",position:"absolute",width:"100%"};return t.startsWith("top")?(o.bottom=0,o.left=0,o.right=0,o.height=n):t.startsWith("bottom")?(o.left=0,o.right=0,o.top=0,o.height=n):t.startsWith("left")?(o.right=0,o.top=0,o.bottom=0):t.startsWith("right")&&(o.left=0,o.top=0),o}},{key:"render",value:function(){var e,t=this.props,n=t.placement,o=t.setArrowRef,i=t.styles.arrow,a=i.color,r=i.display,l=i.length,c=i.margin,u=i.position,d=i.spread,p={display:r,position:u},f=d,m=l;return n.startsWith("top")?(e="0,0 ".concat(f/2,",").concat(m," ").concat(f,",0"),p.bottom=0,p.marginLeft=c,p.marginRight=c):n.startsWith("bottom")?(e="".concat(f,",").concat(m," ").concat(f/2,",0 0,").concat(m),p.top=0,p.marginLeft=c,p.marginRight=c):n.startsWith("left")?(m=d,e="0,0 ".concat(f=l,",").concat(m/2," 0,").concat(m),p.right=0,p.marginTop=c,p.marginBottom=c):n.startsWith("right")&&(m=d,e="".concat(f=l,",").concat(m," ").concat(f,",0 0,").concat(m/2),p.left=0,p.marginTop=c,p.marginBottom=c),s.createElement("div",{className:"__floater__arrow",style:this.parentStyle},s.createElement("span",{ref:o,style:p},s.createElement("svg",{width:f,height:m,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},s.createElement("polygon",{points:e,fill:a}))))}}]),n}(s.Component);Va(ar,"propTypes",{placement:Ii().string.isRequired,setArrowRef:Ii().func.isRequired,styles:Ii().object.isRequired});var rr=["color","height","width"],lr=function(e){var t=e.handleClick,n=e.styles,o=n.color,i=n.height,a=n.width,r=za(n,rr);return s.createElement("button",{"aria-label":"close",onClick:t,style:r,type:"button"},s.createElement("svg",{width:"".concat(a,"px"),height:"".concat(i,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},s.createElement("g",null,s.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:o}))))};lr.propTypes={handleClick:Ii().func.isRequired,styles:Ii().object.isRequired};var sr=function(e){var t=e.content,n=e.footer,o=e.handleClick,i=e.open,a=e.positionWrapper,r=e.showCloseButton,l=e.title,c=e.styles,u={content:s.isValidElement(t)?t:s.createElement("div",{className:"__floater__content",style:c.content},t)};return l&&(u.title=s.isValidElement(l)?l:s.createElement("div",{className:"__floater__title",style:c.title},l)),n&&(u.footer=s.isValidElement(n)?n:s.createElement("div",{className:"__floater__footer",style:c.footer},n)),!r&&!a||ii.boolean(i)||(u.close=s.createElement(lr,{styles:c.close,handleClick:o})),s.createElement("div",{className:"__floater__container",style:c.container},u.close,u.title,u.content,u.footer)};sr.propTypes={content:Ii().node.isRequired,footer:Ii().node,handleClick:Ii().func.isRequired,open:Ii().bool,positionWrapper:Ii().bool.isRequired,showCloseButton:Ii().bool.isRequired,styles:Ii().object.isRequired,title:Ii().node};var cr=function(e){qa(n,e);var t=Ka(n);function n(){return _a(this,n),t.apply(this,arguments)}return Fa(n,[{key:"style",get:function(){var e=this.props,t=e.disableAnimation,n=e.component,o=e.placement,i=e.hideArrow,a=e.status,r=e.styles,l=r.arrow.length,s=r.floater,c=r.floaterCentered,u=r.floaterClosing,d=r.floaterOpening,p=r.floaterWithAnimation,f=r.floaterWithComponent,m={};return i||(o.startsWith("top")?m.padding="0 0 ".concat(l,"px"):o.startsWith("bottom")?m.padding="".concat(l,"px 0 0"):o.startsWith("left")?m.padding="0 ".concat(l,"px 0 0"):o.startsWith("right")&&(m.padding="0 0 0 ".concat(l,"px"))),-1!==[$a.OPENING,$a.OPEN].indexOf(a)&&(m=Za(Za({},m),d)),a===$a.CLOSING&&(m=Za(Za({},m),u)),a!==$a.OPEN||t||(m=Za(Za({},m),p)),"center"===o&&(m=Za(Za({},m),c)),n&&(m=Za(Za({},m),f)),Za(Za({},s),m)}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.handleClick,o=e.hideArrow,i=e.setFloaterRef,a=e.status,r={},l=["__floater"];return r.content=t?s.isValidElement(t)?s.cloneElement(t,{closeFn:n}):t({closeFn:n}):s.createElement(sr,this.props),a===$a.OPEN&&l.push("__floater__open"),o||(r.arrow=s.createElement(ar,this.props)),s.createElement("div",{ref:i,className:l.join(" "),style:this.style},s.createElement("div",{className:"__floater__body"},r.content,r.arrow))}}]),n}(s.Component);Va(cr,"propTypes",{component:Ii().oneOfType([Ii().func,Ii().element]),content:Ii().node,disableAnimation:Ii().bool.isRequired,footer:Ii().node,handleClick:Ii().func.isRequired,hideArrow:Ii().bool.isRequired,open:Ii().bool,placement:Ii().string.isRequired,positionWrapper:Ii().bool.isRequired,setArrowRef:Ii().func.isRequired,setFloaterRef:Ii().func.isRequired,showCloseButton:Ii().bool,status:Ii().string.isRequired,styles:Ii().object.isRequired,title:Ii().node});var ur=function(e){qa(n,e);var t=Ka(n);function n(){return _a(this,n),t.apply(this,arguments)}return Fa(n,[{key:"render",value:function(){var e,t=this.props,n=t.children,o=t.handleClick,i=t.handleMouseEnter,a=t.handleMouseLeave,r=t.setChildRef,l=t.setWrapperRef,c=t.style,u=t.styles;if(n)if(1===s.Children.count(n))if(s.isValidElement(n)){var d=ii.function(n.type)?"innerRef":"ref";e=s.cloneElement(s.Children.only(n),Va({},d,r))}else e=s.createElement("span",null,n);else e=n;return e?s.createElement("span",{ref:l,style:Za(Za({},u),c),onClick:o,onMouseEnter:i,onMouseLeave:a},e):null}}]),n}(s.Component);Va(ur,"propTypes",{children:Ii().node,handleClick:Ii().func.isRequired,handleMouseEnter:Ii().func.isRequired,handleMouseLeave:Ii().func.isRequired,setChildRef:Ii().func.isRequired,setWrapperRef:Ii().func.isRequired,style:Ii().object,styles:Ii().object.isRequired});var dr={zIndex:100};var pr=["arrow","flip","offset"],fr=["position","top","right","bottom","left"],mr=function(e){qa(o,e);var t=Ka(o);function o(e){var n;return _a(this,o),Va(Wa(n=t.call(this,e)),"setArrowRef",(function(e){n.arrowRef=e})),Va(Wa(n),"setChildRef",(function(e){n.childRef=e})),Va(Wa(n),"setFloaterRef",(function(e){n.floaterRef=e})),Va(Wa(n),"setWrapperRef",(function(e){n.wrapperRef=e})),Va(Wa(n),"handleTransitionEnd",(function(){var e=n.state.status,t=n.props.callback;n.wrapperPopper&&n.wrapperPopper.instance.update(),n.setState({status:e===$a.OPENING?$a.OPEN:$a.IDLE},(function(){var e=n.state.status;t(e===$a.OPEN?"open":"close",n.props)}))})),Va(Wa(n),"handleClick",(function(){var e=n.props,t=e.event,o=e.open;if(!ii.boolean(o)){var i=n.state,a=i.positionWrapper,r=i.status;("click"===n.event||"hover"===n.event&&a)&&(er({title:"click",data:[{event:t,status:r===$a.OPEN?"closing":"opening"}],debug:n.debug}),n.toggle())}})),Va(Wa(n),"handleMouseEnter",(function(){var e=n.props,t=e.event,o=e.open;if(!ii.boolean(o)&&!Ja()){var i=n.state.status;"hover"===n.event&&i===$a.IDLE&&(er({title:"mouseEnter",data:[{key:"originalEvent",value:t}],debug:n.debug}),clearTimeout(n.eventDelayTimeout),n.toggle())}})),Va(Wa(n),"handleMouseLeave",(function(){var e=n.props,t=e.event,o=e.eventDelay,i=e.open;if(!ii.boolean(i)&&!Ja()){var a=n.state,r=a.status,l=a.positionWrapper;"hover"===n.event&&(er({title:"mouseLeave",data:[{key:"originalEvent",value:t}],debug:n.debug}),o?-1===[$a.OPENING,$a.OPEN].indexOf(r)||l||n.eventDelayTimeout||(n.eventDelayTimeout=setTimeout((function(){delete n.eventDelayTimeout,n.toggle()}),1e3*o)):n.toggle($a.IDLE))}})),n.state={currentPlacement:e.placement,needsUpdate:!1,positionWrapper:e.wrapperOptions.position&&!!e.target,status:$a.INIT,statusWrapper:$a.INIT},n._isMounted=!1,n.hasMounted=!1,Ya&&window.addEventListener("load",(function(){n.popper&&n.popper.instance.update(),n.wrapperPopper&&n.wrapperPopper.instance.update()})),n}return Fa(o,[{key:"componentDidMount",value:function(){if(Ya){var e=this.state.positionWrapper,t=this.props,n=t.children,o=t.open,i=t.target;this._isMounted=!0,er({title:"init",data:{hasChildren:!!n,hasTarget:!!i,isControlled:ii.boolean(o),positionWrapper:e,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!n&&i&&ii.boolean(o)}}},{key:"componentDidUpdate",value:function(e,t){if(Ya){var n,o=this.props,i=o.autoOpen,a=o.open,r=o.target,l=o.wrapperOptions,s=mi(t,this.state),c=s.changedFrom,u=s.changed;if(e.open!==a)ii.boolean(a)&&(n=a?$a.OPENING:$a.CLOSING),this.toggle(n);e.wrapperOptions.position===l.position&&e.target===r||this.changeWrapperPosition(this.props),(u("status",$a.IDLE)&&a||c("status",$a.INIT,$a.IDLE)&&i)&&this.toggle($a.OPEN),this.popper&&u("status",$a.OPENING)&&this.popper.instance.update(),this.floaterRef&&(u("status",$a.OPENING)||u("status",$a.CLOSING))&&function(e,t,n){var o;tr(e,t,o=function(i){n(i),nr(e,t,o)},arguments.length>3&&void 0!==arguments[3]&&arguments[3])}(this.floaterRef,"transitionend",this.handleTransitionEnd),u("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){Ya&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.target,n=this.state.positionWrapper,o=this.props,i=o.disableFlip,a=o.getPopper,r=o.hideArrow,l=o.offset,s=o.placement,c=o.wrapperOptions,u="top"===s||"bottom"===s?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if("center"===s)this.setState({status:$a.IDLE});else if(t&&this.floaterRef){var d=this.options,p=d.arrow,f=d.flip,m=d.offset,v=za(d,pr);new xa(t,this.floaterRef,{placement:s,modifiers:Za({arrow:Za({enabled:!r,element:this.arrowRef},p),flip:Za({enabled:!i,behavior:u},f),offset:Za({offset:"0, ".concat(l,"px")},m)},v),onCreate:function(t){var n;e.popper=t,null!==(n=e.floaterRef)&&void 0!==n&&n.isConnected?(a(t,"floater"),e._isMounted&&e.setState({currentPlacement:t.placement,status:$a.IDLE}),s!==t.placement&&setTimeout((function(){t.instance.update()}),1)):e.setState({needsUpdate:!0})},onUpdate:function(t){e.popper=t;var n=e.state.currentPlacement;e._isMounted&&t.placement!==n&&e.setState({currentPlacement:t.placement})}})}if(n){var g=ii.undefined(c.offset)?0:c.offset;new xa(this.target,this.wrapperRef,{placement:c.placement||s,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(g,"px")},flip:{enabled:!1}},onCreate:function(t){e.wrapperPopper=t,e._isMounted&&e.setState({statusWrapper:$a.IDLE}),a(t,"wrapper"),s!==t.placement&&setTimeout((function(){t.instance.update()}),1)}})}}},{key:"rebuildPopper",value:function(){var e=this;this.floaterRefInterval=setInterval((function(){var t;null!==(t=e.floaterRef)&&void 0!==t&&t.isConnected&&(clearInterval(e.floaterRefInterval),e.setState({needsUpdate:!1}),e.initPopper())}),50)}},{key:"changeWrapperPosition",value:function(e){var t=e.target,n=e.wrapperOptions;this.setState({positionWrapper:n.position&&!!t})}},{key:"toggle",value:function(e){var t=this.state.status===$a.OPEN?$a.CLOSING:$a.OPENING;ii.undefined(e)||(t=e),this.setState({status:t})}},{key:"debug",get:function(){return this.props.debug||!!n.g.ReactFloaterDebug}},{key:"event",get:function(){var e=this.props,t=e.disableHoverToClick,n=e.event;return"hover"===n&&Ja()&&!t?"click":n}},{key:"options",get:function(){var e=this.props.options;return Oi()(Qa,e||{})}},{key:"styles",get:function(){var e,t=this,n=this.state,o=n.status,i=n.positionWrapper,a=n.statusWrapper,r=this.props.styles,l=Oi()(function(e){var t=Oi()(dr,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:t}}(r),r);i&&(e=-1===[$a.IDLE].indexOf(o)||-1===[$a.IDLE].indexOf(a)?l.wrapperPosition:this.wrapperPopper.styles,l.wrapper=Za(Za({},l.wrapper),e));if(this.target){var s=window.getComputedStyle(this.target);this.wrapperStyles?l.wrapper=Za(Za({},l.wrapper),this.wrapperStyles):-1===["relative","static"].indexOf(s.position)&&(this.wrapperStyles={},i||(fr.forEach((function(e){t.wrapperStyles[e]=s[e]})),l.wrapper=Za(Za({},l.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return l}},{key:"target",get:function(){if(!Ya)return null;var e=this.props.target;return e?ii.domElement(e)?e:document.querySelector(e):this.childRef||this.wrapperRef}},{key:"render",value:function(){var e=this.state,t=e.currentPlacement,n=e.positionWrapper,o=e.status,i=this.props,a=i.children,r=i.component,l=i.content,c=i.disableAnimation,u=i.footer,d=i.hideArrow,p=i.id,f=i.open,m=i.showCloseButton,v=i.style,g=i.target,h=i.title,b=s.createElement(ur,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:v,styles:this.styles.wrapper},a),y={};return n?y.wrapperInPortal=b:y.wrapperAsChildren=b,s.createElement("span",null,s.createElement(ir,{hasChildren:!!a,id:p,placement:t,setRef:this.setFloaterRef,target:g,zIndex:this.styles.options.zIndex},s.createElement(cr,{component:r,content:l,disableAnimation:c,footer:u,handleClick:this.handleClick,hideArrow:d||"center"===t,open:f,placement:t,positionWrapper:n,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:m,status:o,styles:this.styles,title:h}),y.wrapperInPortal),y.wrapperAsChildren)}}]),o}(s.Component);function vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(n),!0).forEach((function(t){Er(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function br(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function yr(e,t,n){return t&&br(e.prototype,t),n&&br(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sr(){return Sr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Sr.apply(this,arguments)}function Cr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Or(e,t)}function Ar(e){return Ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ar(e)}function Or(e,t){return Or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Or(e,t)}function wr(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ir(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tr(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ir(e)}function Rr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Ar(e);if(t){var i=Ar(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Tr(this,n)}}Va(mr,"propTypes",{autoOpen:Ii().bool,callback:Ii().func,children:Ii().node,component:(0,Ti.Z)(Ii().oneOfType([Ii().func,Ii().element]),(function(e){return!e.content})),content:(0,Ti.Z)(Ii().node,(function(e){return!e.component})),debug:Ii().bool,disableAnimation:Ii().bool,disableFlip:Ii().bool,disableHoverToClick:Ii().bool,event:Ii().oneOf(["hover","click"]),eventDelay:Ii().number,footer:Ii().node,getPopper:Ii().func,hideArrow:Ii().bool,id:Ii().oneOfType([Ii().string,Ii().number]),offset:Ii().number,open:Ii().bool,options:Ii().object,placement:Ii().oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:Ii().bool,style:Ii().object,styles:Ii().object,target:Ii().oneOfType([Ii().object,Ii().string]),title:Ii().node,wrapperOptions:Ii().shape({offset:Ii().number,placement:Ii().oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:Ii().bool})}),Va(mr,"defaultProps",{autoOpen:!1,callback:or,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:or,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var Lr={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},Nr="tour:start",kr="step:before",Pr="beacon",Mr="tooltip",Ur="step:after",xr="tour:end",Dr="tour:status",Zr="error:target_not_found",_r={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},jr={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished",ERROR:"error"},Fr=hi().canUseDOM,Vr=void 0!==vi.createPortal;function qr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent,t=e;return document.documentMode?t="ie":/Edge/.test(e)?t="edge":Boolean(window.opera)||e.indexOf(" OPR/")>=0?t="opera":void 0!==window.InstallTrigger?t="firefox":window.chrome?t="chrome":/(Version\/([0-9._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(t="safari"),t}function Br(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function Hr(e){var t=[];return function e(n){if("string"==typeof n||"number"==typeof n)t.push(n);else if(Array.isArray(n))n.forEach((function(t){return e(t)}));else if(n&&n.props){var o=n.props.children;Array.isArray(o)?o.forEach((function(t){return e(t)})):e(o)}}(e),t.join(" ").trim()}function zr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Wr(e,t){return!(!ii.plainObject(e)||!ii.array(t))&&Object.keys(e).every((function(e){return-1!==t.indexOf(e)}))}function Gr(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,o){return t+t+n+n+o+o})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:[]}function Kr(e){return e.disableBeacon||"center"===e.placement}function Qr(e,t){var n,o=(0,s.isValidElement)(e)||(0,s.isValidElement)(t),i=ii.undefined(e)||ii.undefined(t);if(Br(e)!==Br(t)||o||i)return!1;if(ii.domElement(e))return e.isSameNode(t);if(ii.number(e))return e===t;if(ii.function(e))return e.toString()===t.toString();for(var a in e)if(zr(e,a)){if(void 0===e[a]||void 0===t[a])return!1;if(n=Br(e[a]),-1!==["object","array"].indexOf(n)&&Qr(e[a],t[a]))continue;if("function"===n&&Qr(e[a],t[a]))continue;if(e[a]!==t[a])return!1}for(var r in t)if(zr(t,r)&&void 0===e[r])return!1;return!0}function $r(){return!(-1!==["chrome","safari","firefox","opera"].indexOf(qr()))}function Yr(e){var t=e.title,n=e.data,o=e.warn,i=void 0!==o&&o,a=e.debug,r=void 0!==a&&a,l=i?console.warn||console.error:console.log;r&&(t&&n?(console.groupCollapsed("%creact-joyride: ".concat(t),"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach((function(e){ii.plainObject(e)&&e.key?l.apply(console,[e.key,e.value]):l.apply(console,[e])})):l.apply(console,[n]),console.groupEnd()):console.error("Missing title or data props"))}var Xr={action:"",controlled:!1,index:0,lifecycle:_r.INIT,size:0,status:jr.IDLE},Jr=["action","index","lifecycle","status"];function el(e){var t=new Map,n=new Map,o=function(){function e(){var t=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=o.continuous,a=void 0!==i&&i,r=o.stepIndex,l=o.steps,s=void 0===l?[]:l;hr(this,e),Er(this,"listener",void 0),Er(this,"setSteps",(function(e){var o=t.getState(),i=o.size,a=o.status,r={size:e.length,status:a};n.set("steps",e),a===jr.WAITING&&!i&&e.length&&(r.status=jr.RUNNING),t.setState(r)})),Er(this,"addListener",(function(e){t.listener=e})),Er(this,"update",(function(e){if(!Wr(e,Jr))throw new Error("State is not valid. Valid keys: ".concat(Jr.join(", ")));t.setState(gr({},t.getNextState(gr(gr(gr({},t.getState()),e),{},{action:e.action||Lr.UPDATE}),!0)))})),Er(this,"start",(function(e){var n=t.getState(),o=n.index,i=n.size;t.setState(gr(gr({},t.getNextState({action:Lr.START,index:ii.number(e)?e:o},!0)),{},{status:i?jr.RUNNING:jr.WAITING}))})),Er(this,"stop",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t.getState(),o=n.index,i=n.status;-1===[jr.FINISHED,jr.SKIPPED].indexOf(i)&&t.setState(gr(gr({},t.getNextState({action:Lr.STOP,index:o+(e?1:0)})),{},{status:jr.PAUSED}))})),Er(this,"close",(function(){var e=t.getState(),n=e.index;e.status===jr.RUNNING&&t.setState(gr({},t.getNextState({action:Lr.CLOSE,index:n+1})))})),Er(this,"go",(function(e){var n=t.getState(),o=n.controlled,i=n.status;if(!o&&i===jr.RUNNING){var a=t.getSteps()[e];t.setState(gr(gr({},t.getNextState({action:Lr.GO,index:e})),{},{status:a?i:jr.FINISHED}))}})),Er(this,"info",(function(){return t.getState()})),Er(this,"next",(function(){var e=t.getState(),n=e.index;e.status===jr.RUNNING&&t.setState(t.getNextState({action:Lr.NEXT,index:n+1}))})),Er(this,"open",(function(){t.getState().status===jr.RUNNING&&t.setState(gr({},t.getNextState({action:Lr.UPDATE,lifecycle:_r.TOOLTIP})))})),Er(this,"prev",(function(){var e=t.getState(),n=e.index;e.status===jr.RUNNING&&t.setState(gr({},t.getNextState({action:Lr.PREV,index:n-1})))})),Er(this,"reset",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t.getState(),o=n.controlled;o||t.setState(gr(gr({},t.getNextState({action:Lr.RESET,index:0})),{},{status:e?jr.RUNNING:jr.READY}))})),Er(this,"skip",(function(){t.getState().status===jr.RUNNING&&t.setState({action:Lr.SKIP,lifecycle:_r.INIT,status:jr.SKIPPED})})),this.setState({action:Lr.INIT,controlled:ii.number(r),continuous:a,index:ii.number(r)?r:0,lifecycle:_r.INIT,status:s.length?jr.READY:jr.IDLE},!0),this.setSteps(s)}return yr(e,[{key:"setState",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.getState(),i=gr(gr({},o),e),a=i.action,r=i.index,l=i.lifecycle,s=i.size,c=i.status;t.set("action",a),t.set("index",r),t.set("lifecycle",l),t.set("size",s),t.set("status",c),n&&(t.set("controlled",e.controlled),t.set("continuous",e.continuous)),this.listener&&this.hasUpdatedState(o)&&this.listener(this.getState())}},{key:"getState",value:function(){return t.size?{action:t.get("action")||"",controlled:t.get("controlled")||!1,index:parseInt(t.get("index"),10),lifecycle:t.get("lifecycle")||"",size:t.get("size")||0,status:t.get("status")||""}:gr({},Xr)}},{key:"getNextState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getState(),o=n.action,i=n.controlled,a=n.index,r=n.size,l=n.status,s=ii.number(e.index)?e.index:a,c=i&&!t?a:Math.min(Math.max(s,0),r);return{action:e.action||o,controlled:i,index:c,lifecycle:e.lifecycle||_r.INIT,size:e.size||r,status:c===r?jr.FINISHED:e.status||l}}},{key:"hasUpdatedState",value:function(e){return JSON.stringify(e)!==JSON.stringify(this.getState())}},{key:"getSteps",value:function(){var e=n.get("steps");return Array.isArray(e)?e:[]}},{key:"getHelpers",value:function(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}}]),e}();return new o(e)}function tl(e){return e?e.getBoundingClientRect():{}}function nl(e){return"string"==typeof e?document.querySelector(e):e}function ol(e){return e&&1===e.nodeType?getComputedStyle(e):{}}function il(e,t,n){var o=Si()(e);return o.isSameNode(cl())?n?document:cl():o.scrollHeight>o.offsetHeight||t?o:(o.style.overflow="initial",cl())}function al(e,t){return!!e&&!il(e,t).isSameNode(cl())}function rl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fixed";if(!(e&&e instanceof HTMLElement))return!1;var n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&(ol(e).position===t||rl(e.parentNode,t))}function ll(e){return e instanceof HTMLElement?e.offsetParent instanceof HTMLElement?ll(e.offsetParent)+e.offsetTop:e.offsetTop:0}function sl(e,t,n){if(!e)return 0;var o=Si()(e),i=ll(e);return al(e,n)&&!function(e){return e.offsetParent!==document.body}(e)&&(i-=ll(o)),Math.floor(i-t)}function cl(){return document.scrollingElement||document.createElement("body")}!function(e){function t(t,n,o,i,a,r){var l=i||"<<anonymous>>",s=r||o;if(null==n[o])return t?new Error("Required ".concat(a," `").concat(s,"` was not specified in `").concat(l,"`.")):null;for(var c=arguments.length,u=new Array(c>6?c-6:0),d=6;d<c;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,o,l,a,s].concat(u))}var n=t.bind(null,!1);n.isRequired=t.bind(null,!0)}((function(e,t,n,o,i){var a=e[t],r=a;if(!s.isValidElement(a)&&(0,Ci.isValidElementType)(a)){var l={ref:function(){},step:{}};r=s.createElement(r,l)}if(ii.string(a)||ii.number(a)||!(0,Ci.isValidElementType)(a)||-1===[Ci.Element,Ci.ForwardRef].indexOf((0,Ci.typeOf)(r)))return new Error("Invalid ".concat(o," `").concat(i,"` supplied to `").concat(n,"`. Expected a React class or forwardRef."))}));var ul={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",zIndex:100},dl={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},pl={borderRadius:4,position:"absolute"};var fl={floaterProps:{options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},locale:{back:"Back",close:"Close",last:"Last",next:"Next",open:"Open the dialog",skip:"Skip"},step:{event:"click",placement:"bottom",offset:10}};function ml(e){var t=["beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent"];return Object.keys(e).filter((function(e){return-1!==t.indexOf(e)})).reduce((function(t,n){return t[n]=e[n],t}),{})}function vl(e,t){if(!e)return null;var n=Oi().all([ml(t),fl.step,e],{isMergeableObject:ii.plainObject}),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Oi()(ul,e.options||{}),n=290;window.innerWidth>480&&(n=380),t.width&&(n=window.innerWidth<t.width?window.innerWidth-30:t.width);var o={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:t.zIndex},i={beacon:gr(gr({},dl),{},{display:"inline-block",height:t.beaconSize,position:"relative",width:t.beaconSize,zIndex:t.zIndex}),beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:t.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:"rgba(".concat(Gr(t.primaryColor).join(","),", 0.2)"),border:"2px solid ".concat(t.primaryColor),borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:t.backgroundColor,borderRadius:5,boxSizing:"border-box",color:t.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:n},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:gr(gr({},dl),{},{backgroundColor:t.primaryColor,borderRadius:4,color:"#fff"}),buttonBack:gr(gr({},dl),{},{color:t.primaryColor,marginLeft:"auto",marginRight:5}),buttonClose:gr(gr({},dl),{},{color:t.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14}),buttonSkip:gr(gr({},dl),{},{color:t.textColor,fontSize:14}),overlay:gr(gr({},o),{},{backgroundColor:t.overlayColor,mixBlendMode:"hard-light"}),overlayLegacy:gr({},o),overlayLegacyCenter:gr(gr({},o),{},{backgroundColor:t.overlayColor}),spotlight:gr(gr({},pl),{},{backgroundColor:"gray"}),spotlightLegacy:gr(gr({},pl),{},{boxShadow:"0 0 0 9999px ".concat(t.overlayColor,", ").concat(t.spotlightShadow)}),floaterStyles:{arrow:{color:t.arrowColor},options:{zIndex:t.zIndex+100}},options:t};return Oi()(i,e)}(Oi()(t.styles||{},e.styles||{})),i=al(nl(e.target),n.disableScrollParentFix),a=Oi().all([t.floaterProps||{},fl.floaterProps,n.floaterProps||{}]);return a.offset=n.offset,a.styles=Oi()(a.styles||{},o.floaterStyles||{}),delete o.floaterStyles,a.offset+=t.spotlightPadding||e.spotlightPadding||0,e.placementBeacon&&(a.wrapperOptions.placement=e.placementBeacon),i&&(a.options.preventOverflow.boundariesElement="window"),gr(gr({},n),{},{locale:Oi().all([fl.locale,t.locale||{},n.locale||{}]),floaterProps:a,styles:o})}function gl(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ii.plainObject(e)?!!e.target||(Yr({title:"validateStep",data:"target is missing from the step",warn:!0,debug:t}),!1):(Yr({title:"validateStep",data:"step must be an object",warn:!0,debug:t}),!1)}function hl(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ii.array(e)?e.every((function(e){return gl(e,t)})):(Yr({title:"validateSteps",data:"steps must be an array",warn:!0,debug:t}),!1)}var bl=yr((function e(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(hr(this,e),Er(this,"element",void 0),Er(this,"options",void 0),Er(this,"canBeTabbed",(function(e){var t=e.tabIndex;return(null===t||t<0)&&(t=void 0),!isNaN(t)&&n.canHaveFocus(e)})),Er(this,"canHaveFocus",(function(e){var t=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(t)&&!e.getAttribute("disabled")||"a"===t&&!!e.getAttribute("href"))&&n.isVisible(e)})),Er(this,"findValidTabElements",(function(){return[].slice.call(n.element.querySelectorAll("*"),0).filter(n.canBeTabbed)})),Er(this,"handleKeyDown",(function(e){var t=n.options.keyCode,o=void 0===t?9:t;e.keyCode===o&&n.interceptTab(e)})),Er(this,"interceptTab",(function(e){var t=n.findValidTabElements();if(t.length){e.preventDefault();var o=e.shiftKey,i=t.indexOf(document.activeElement);-1===i||!o&&i+1===t.length?i=0:o&&0===i?i=t.length-1:i+=o?-1:1,t[i].focus()}})),Er(this,"isHidden",(function(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0,n=window.getComputedStyle(e);return!(!t||e.innerHTML)||(t&&"visible"!==n.getPropertyValue("overflow")||"none"===n.getPropertyValue("display"))})),Er(this,"isVisible",(function(e){for(var t=e;t;)if(t instanceof HTMLElement){if(t===document.body)break;if(n.isHidden(t))return!1;t=t.parentNode}return!0})),Er(this,"removeScope",(function(){window.removeEventListener("keydown",n.handleKeyDown)})),Er(this,"checkFocus",(function(e){document.activeElement!==e&&(e.focus(),window.requestAnimationFrame((function(){return n.checkFocus(e)})))})),Er(this,"setFocus",(function(){var e=n.options.selector;if(e){var t=n.element.querySelector(e);t&&window.requestAnimationFrame((function(){return n.checkFocus(t)}))}})),!(t instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=t,this.options=o,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()})),yl=function(e){Cr(n,e);var t=Rr(n);function n(e){var o;if(hr(this,n),Er(Ir(o=t.call(this,e)),"setBeaconRef",(function(e){o.beacon=e})),!e.beaconComponent){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",a.id="joyride-beacon-animation",void 0!==e.nonce&&a.setAttribute("nonce",e.nonce),a.appendChild(document.createTextNode("\n        @keyframes joyride-beacon-inner {\n          20% {\n            opacity: 0.9;\n          }\n        \n          90% {\n            opacity: 0.7;\n          }\n        }\n        \n        @keyframes joyride-beacon-outer {\n          0% {\n            transform: scale(1);\n          }\n        \n          45% {\n            opacity: 0.7;\n            transform: scale(0.75);\n          }\n        \n          100% {\n            opacity: 0.9;\n            transform: scale(1);\n          }\n        }\n      ")),i.appendChild(a)}return o}return yr(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.shouldFocus;setTimeout((function(){ii.domElement(e.beacon)&&t&&e.beacon.focus()}),0)}},{key:"componentWillUnmount",value:function(){var e=document.getElementById("joyride-beacon-animation");e&&e.parentNode.removeChild(e)}},{key:"render",value:function(){var e,t=this.props,n=t.beaconComponent,o=t.locale,i=t.onClickOrHover,a=t.styles,r={"aria-label":o.open,onClick:i,onMouseEnter:i,ref:this.setBeaconRef,title:o.open};if(n){var l=n;e=s.createElement(l,r)}else e=s.createElement("button",Sr({key:"JoyrideBeacon",className:"react-joyride__beacon",style:a.beacon,type:"button"},r),s.createElement("span",{style:a.beaconInner}),s.createElement("span",{style:a.beaconOuter}));return e}}]),n}(s.Component);function El(e){var t=e.styles;return s.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight",style:t})}var Sl=["mixBlendMode","zIndex"],Cl=function(e){Cr(n,e);var t=Rr(n);function n(){var e;hr(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return Er(Ir(e=t.call.apply(t,[this].concat(i))),"_isMounted",!1),Er(Ir(e),"state",{mouseOverSpotlight:!1,isScrolling:!1,showSpotlight:!0}),Er(Ir(e),"handleMouseMove",(function(t){var n=e.state.mouseOverSpotlight,o=e.spotlightStyles,i=o.height,a=o.left,r=o.position,l=o.top,s=o.width,c="fixed"===r?t.clientY:t.pageY,u="fixed"===r?t.clientX:t.pageX,d=u>=a&&u<=a+s&&(c>=l&&c<=l+i);d!==n&&e.updateState({mouseOverSpotlight:d})})),Er(Ir(e),"handleScroll",(function(){var t=nl(e.props.target);e.scrollParent!==document?(e.state.isScrolling||e.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(e.scrollTimeout),e.scrollTimeout=setTimeout((function(){e.updateState({isScrolling:!1,showSpotlight:!0})}),50)):rl(t,"sticky")&&e.updateState({})})),Er(Ir(e),"handleResize",(function(){clearTimeout(e.resizeTimeout),e.resizeTimeout=setTimeout((function(){e._isMounted&&e.forceUpdate()}),100)})),e}return yr(n,[{key:"componentDidMount",value:function(){var e=this.props;e.debug,e.disableScrolling;var t=e.disableScrollParentFix,n=nl(e.target);this.scrollParent=il(n,t,!0),this._isMounted=!0,window.addEventListener("resize",this.handleResize)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,o=n.lifecycle,i=n.spotlightClicks,a=mi(e,this.props).changed;a("lifecycle",_r.TOOLTIP)&&(this.scrollParent.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout((function(){t.state.isScrolling||t.updateState({showSpotlight:!0})}),100)),(a("spotlightClicks")||a("disableOverlay")||a("lifecycle"))&&(i&&o===_r.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):o!==_r.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),this.scrollParent.removeEventListener("scroll",this.handleScroll)}},{key:"spotlightStyles",get:function(){var e=this.state.showSpotlight,t=this.props,n=t.disableScrollParentFix,o=t.spotlightClicks,i=t.spotlightPadding,a=t.styles,r=nl(t.target),l=tl(r),s=rl(r),c=function(e,t,n){var o=tl(e),i=il(e,n),a=al(e,n),r=0;i instanceof HTMLElement&&(r=i.scrollTop);var l=o.top+(a||rl(e)?0:r);return Math.floor(l-t)}(r,i,n);return gr(gr({},$r()?a.spotlightLegacy:a.spotlight),{},{height:Math.round(l.height+2*i),left:Math.round(l.left-i),opacity:e?1:0,pointerEvents:o?"none":"auto",position:s?"fixed":"absolute",top:c,transition:"opacity 0.2s",width:Math.round(l.width+2*i)})}},{key:"updateState",value:function(e){this._isMounted&&this.setState(e)}},{key:"render",value:function(){var e=this.state,t=e.mouseOverSpotlight,n=e.showSpotlight,o=this.props,i=o.disableOverlay,a=o.disableOverlayClose,r=o.lifecycle,l=o.onClickOverlay,c=o.placement,u=o.styles;if(i||r!==_r.TOOLTIP)return null;var d=u.overlay;$r()&&(d="center"===c?u.overlayLegacyCenter:u.overlayLegacy);var p,f,m,v=gr({cursor:a?"default":"pointer",height:(p=document,f=p.body,m=p.documentElement,f&&m?Math.max(f.scrollHeight,f.offsetHeight,m.clientHeight,m.scrollHeight,m.offsetHeight):0),pointerEvents:t?"none":"auto"},d),g="center"!==c&&n&&s.createElement(El,{styles:this.spotlightStyles});if("safari"===qr()){v.mixBlendMode,v.zIndex;var h=wr(v,Sl);g=s.createElement("div",{style:gr({},h)},g),delete v.backgroundColor}return s.createElement("div",{className:"react-joyride__overlay",style:v,onClick:l},g)}}]),n}(s.Component),Al=["styles"],Ol=["color","height","width"];function wl(e){var t=e.styles,n=wr(e,Al),o=t.color,i=t.height,a=t.width,r=wr(t,Ol);return s.createElement("button",Sr({style:r,type:"button"},n),s.createElement("svg",{width:"number"==typeof a?"".concat(a,"px"):a,height:"number"==typeof i?"".concat(i,"px"):i,viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},s.createElement("g",null,s.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:o}))))}var Il=function(e){Cr(n,e);var t=Rr(n);function n(){return hr(this,n),t.apply(this,arguments)}return yr(n,[{key:"render",value:function(){var e=this.props,t=e.backProps,n=e.closeProps,o=e.continuous,i=e.index,a=e.isLastStep,r=e.primaryProps,l=e.size,c=e.skipProps,u=e.step,d=e.tooltipProps,p=u.content,f=u.hideBackButton,m=u.hideCloseButton,v=u.hideFooter,g=u.showProgress,h=u.showSkipButton,b=u.title,y=u.styles,E=u.locale,S=E.back,C=E.close,A=E.last,O=E.next,w=E.skip,I={primary:C};return o&&(I.primary=a?A:O,g&&(I.primary=s.createElement("span",null,I.primary," (",i+1,"/",l,")"))),h&&!a&&(I.skip=s.createElement("button",Sr({style:y.buttonSkip,type:"button","aria-live":"off"},c),w)),!f&&i>0&&(I.back=s.createElement("button",Sr({style:y.buttonBack,type:"button"},t),S)),I.close=!m&&s.createElement(wl,Sr({styles:y.buttonClose},n)),s.createElement("div",Sr({key:"JoyrideTooltip",className:"react-joyride__tooltip",style:y.tooltip},d),s.createElement("div",{style:y.tooltipContainer},b&&s.createElement("h4",{style:y.tooltipTitle,"aria-label":b},b),s.createElement("div",{style:y.tooltipContent},p)),!v&&s.createElement("div",{style:y.tooltipFooter},s.createElement("div",{style:y.tooltipFooterSpacer},I.skip),I.back,s.createElement("button",Sr({style:y.buttonNext,type:"button"},r),I.primary)),I.close)}}]),n}(s.Component),Tl=["beaconComponent","tooltipComponent"],Rl=function(e){Cr(n,e);var t=Rr(n);function n(){var e;hr(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return Er(Ir(e=t.call.apply(t,[this].concat(i))),"handleClickBack",(function(t){t.preventDefault(),e.props.helpers.prev()})),Er(Ir(e),"handleClickClose",(function(t){t.preventDefault(),e.props.helpers.close()})),Er(Ir(e),"handleClickPrimary",(function(t){t.preventDefault();var n=e.props,o=n.continuous,i=n.helpers;o?i.next():i.close()})),Er(Ir(e),"handleClickSkip",(function(t){t.preventDefault(),e.props.helpers.skip()})),Er(Ir(e),"getElementsProps",(function(){var t=e.props,n=t.continuous,o=t.isLastStep,i=t.setTooltipRef,a=t.step,r=Hr(a.locale.back),l=Hr(a.locale.close),s=Hr(a.locale.last),c=Hr(a.locale.next),u=Hr(a.locale.skip),d=n?c:l;return o&&(d=s),{backProps:{"aria-label":r,"data-action":"back",onClick:e.handleClickBack,role:"button",title:r},closeProps:{"aria-label":l,"data-action":"close",onClick:e.handleClickClose,role:"button",title:l},primaryProps:{"aria-label":d,"data-action":"primary",onClick:e.handleClickPrimary,role:"button",title:d},skipProps:{"aria-label":u,"data-action":"skip",onClick:e.handleClickSkip,role:"button",title:u},tooltipProps:{"aria-modal":!0,ref:i,role:"alertdialog"}}})),e}return yr(n,[{key:"render",value:function(){var e=this.props,t=e.continuous,n=e.index,o=e.isLastStep,i=e.size,a=e.step;a.beaconComponent;var r,l=a.tooltipComponent,c=wr(a,Tl);if(l){var u=gr(gr({},this.getElementsProps()),{},{continuous:t,index:n,isLastStep:o,size:i,step:c}),d=l;r=s.createElement(d,u)}else r=s.createElement(Il,Sr({},this.getElementsProps(),{continuous:t,index:n,isLastStep:o,size:i,step:a}));return r}}]),n}(s.Component),Ll=function(e){Cr(n,e);var t=Rr(n);function n(){return hr(this,n),t.apply(this,arguments)}return yr(n,[{key:"componentDidMount",value:function(){Fr&&(Vr||this.renderReact15())}},{key:"componentDidUpdate",value:function(){Fr&&(Vr||this.renderReact15())}},{key:"componentWillUnmount",value:function(){Fr&&this.node&&(Vr||vi.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var e=this.props.id;this.node||(this.node=document.createElement("div"),e&&(this.node.id=e),document.body.appendChild(this.node))}},{key:"renderReact15",value:function(){if(!Fr)return null;var e=this.props.children;return this.node||this.appendNode(),vi.unstable_renderSubtreeIntoContainer(this,e,this.node),null}},{key:"renderReact16",value:function(){if(!Fr||!Vr)return null;var e=this.props.children;return this.node||this.appendNode(),vi.createPortal(e,this.node)}},{key:"render",value:function(){return Vr?this.renderReact16():null}}]),n}(s.Component),Nl=function(e){Cr(n,e);var t=Rr(n);function n(){var e;hr(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return Er(Ir(e=t.call.apply(t,[this].concat(i))),"scope",{removeScope:function(){}}),Er(Ir(e),"handleClickHoverBeacon",(function(t){var n=e.props,o=n.step,i=n.update;"mouseenter"===t.type&&"hover"!==o.event||i({lifecycle:_r.TOOLTIP})})),Er(Ir(e),"handleClickOverlay",(function(){var t=e.props,n=t.helpers;t.step.disableOverlayClose||n.close()})),Er(Ir(e),"setTooltipRef",(function(t){e.tooltip=t})),Er(Ir(e),"setPopper",(function(t,n){var o=e.props,i=o.action,a=o.setPopper,r=o.update;"wrapper"===n?e.beaconPopper=t:e.tooltipPopper=t,a(t,n),e.beaconPopper&&e.tooltipPopper&&r({action:i===Lr.CLOSE?Lr.CLOSE:i,lifecycle:_r.READY})})),e}return yr(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.debug,n=e.index;Yr({title:"step:".concat(n),data:[{key:"props",value:this.props}],debug:t})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.action,o=t.callback,i=t.continuous,a=t.controlled,r=t.debug,l=t.index,s=t.lifecycle,c=t.size,u=t.status,d=t.step,p=t.update,f=mi(e,this.props),m=f.changed,v=f.changedFrom,g={action:n,controlled:a,index:l,lifecycle:s,size:c,status:u},h=i&&n!==Lr.CLOSE&&(l>0||n===Lr.PREV),b=m("action")||m("index")||m("lifecycle")||m("status"),y=v("lifecycle",[_r.TOOLTIP,_r.INIT],_r.INIT);if(m("action",[Lr.NEXT,Lr.PREV,Lr.SKIP,Lr.CLOSE])&&(y||a)&&o(gr(gr({},g),{},{index:e.index,lifecycle:_r.COMPLETE,step:e.step,type:Ur})),m("index")&&l>0&&s===_r.INIT&&u===jr.RUNNING&&"center"===d.placement&&p({lifecycle:_r.READY}),b&&d){var E=nl(d.target),S=!!E,C=S&&function(e){if(!e)return!1;for(var t=e;t&&t!==document.body;){if(t instanceof HTMLElement){var n=getComputedStyle(t),o=n.display,i=n.visibility;if("none"===o||"hidden"===i)return!1}t=t.parentNode}return!0}(E);C?(v("status",jr.READY,jr.RUNNING)||v("lifecycle",_r.INIT,_r.READY))&&o(gr(gr({},g),{},{step:d,type:kr})):(console.warn(S?"Target not visible":"Target not mounted",d),o(gr(gr({},g),{},{type:Zr,step:d})),a||p({index:l+(-1!==[Lr.PREV].indexOf(n)?-1:1)}))}v("lifecycle",_r.INIT,_r.READY)&&p({lifecycle:Kr(d)||h?_r.TOOLTIP:_r.BEACON}),m("index")&&Yr({title:"step:".concat(s),data:[{key:"props",value:this.props}],debug:r}),m("lifecycle",_r.BEACON)&&o(gr(gr({},g),{},{step:d,type:Pr})),m("lifecycle",_r.TOOLTIP)&&(o(gr(gr({},g),{},{step:d,type:Mr})),this.scope=new bl(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus()),v("lifecycle",[_r.TOOLTIP,_r.INIT],_r.INIT)&&(this.scope.removeScope(),delete this.beaconPopper,delete this.tooltipPopper)}},{key:"componentWillUnmount",value:function(){this.scope.removeScope()}},{key:"open",get:function(){var e=this.props,t=e.step,n=e.lifecycle;return!(!Kr(t)&&n!==_r.TOOLTIP)}},{key:"render",value:function(){var e=this.props,t=e.continuous,n=e.debug,o=e.helpers,i=e.index,a=e.lifecycle,r=e.nonce,l=e.shouldScroll,c=e.size,u=e.step,d=nl(u.target);return gl(u)&&ii.domElement(d)?s.createElement("div",{key:"JoyrideStep-".concat(i),className:"react-joyride__step"},s.createElement(Ll,{id:"react-joyride-portal"},s.createElement(Cl,Sr({},u,{debug:n,lifecycle:a,onClickOverlay:this.handleClickOverlay}))),s.createElement(mr,Sr({component:s.createElement(Rl,{continuous:t,helpers:o,index:i,isLastStep:i+1===c,setTooltipRef:this.setTooltipRef,size:c,step:u}),debug:n,getPopper:this.setPopper,id:"react-joyride-step-".concat(i),isPositioned:u.isFixed||rl(d),open:this.open,placement:u.placement,target:u.target},u.floaterProps),s.createElement(yl,{beaconComponent:u.beaconComponent,locale:u.locale,nonce:r,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:l,styles:u.styles}))):null}}]),n}(s.Component),kl=function(e){Cr(n,e);var t=Rr(n);function n(e){var o;return hr(this,n),Er(Ir(o=t.call(this,e)),"initStore",(function(){var e=o.props,t=e.debug,n=e.getHelpers,i=e.run,a=e.stepIndex;o.store=new el(gr(gr({},o.props),{},{controlled:i&&ii.number(a)})),o.helpers=o.store.getHelpers();var r=o.store.addListener;return Yr({title:"init",data:[{key:"props",value:o.props},{key:"state",value:o.state}],debug:t}),r(o.syncState),n(o.helpers),o.store.getState()})),Er(Ir(o),"callback",(function(e){var t=o.props.callback;ii.function(t)&&t(e)})),Er(Ir(o),"handleKeyboard",(function(e){var t=o.state,n=t.index,i=t.lifecycle,a=o.props.steps[n],r=window.Event?e.which:e.keyCode;i===_r.TOOLTIP&&27===r&&a&&!a.disableCloseOnEsc&&o.store.close()})),Er(Ir(o),"syncState",(function(e){o.setState(e)})),Er(Ir(o),"setPopper",(function(e,t){"wrapper"===t?o.beaconPopper=e:o.tooltipPopper=e})),Er(Ir(o),"shouldScroll",(function(e,t,n,o,i,a,r){return!e&&(0!==t||n||o===_r.TOOLTIP)&&"center"!==i.placement&&(!i.isFixed||!rl(a))&&r.lifecycle!==o&&-1!==[_r.BEACON,_r.TOOLTIP].indexOf(o)})),o.state=o.initStore(),o}return yr(n,[{key:"componentDidMount",value:function(){if(Fr){var e=this.props,t=e.disableCloseOnEsc,n=e.debug,o=e.run,i=e.steps,a=this.store.start;hl(i,n)&&o&&a(),t||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}}},{key:"componentDidUpdate",value:function(e,t){if(Fr){var n=this.state,o=n.action,i=n.controlled,a=n.index,r=n.lifecycle,l=n.status,s=this.props,c=s.debug,u=s.run,d=s.stepIndex,p=s.steps,f=e.steps,m=e.stepIndex,v=this.store,g=v.reset,h=v.setSteps,b=v.start,y=v.stop,E=v.update,S=mi(e,this.props).changed,C=mi(t,this.state),A=C.changed,O=C.changedFrom,w=vl(p[a],this.props),I=!Qr(f,p),T=ii.number(d)&&S("stepIndex"),R=nl(null==w?void 0:w.target);if(I&&(hl(p,c)?h(p):console.warn("Steps are not valid",p)),S("run")&&(u?b(d):y()),T){var L=m<d?Lr.NEXT:Lr.PREV;o===Lr.STOP&&(L=Lr.START),-1===[jr.FINISHED,jr.SKIPPED].indexOf(l)&&E({action:o===Lr.CLOSE?Lr.CLOSE:L,index:d,lifecycle:_r.INIT})}i||l!==jr.RUNNING||0!==a||R||(E({index:a+1}),this.callback(gr(gr({},this.state),{},{type:Zr,step:w})));var N=gr(gr({},this.state),{},{index:a,step:w});if(A("action",[Lr.NEXT,Lr.PREV,Lr.SKIP,Lr.CLOSE])&&A("status",jr.PAUSED)){var k=vl(p[t.index],this.props);this.callback(gr(gr({},N),{},{index:t.index,lifecycle:_r.COMPLETE,step:k,type:Ur}))}if(A("status",[jr.FINISHED,jr.SKIPPED])){var P=vl(p[t.index],this.props);i||this.callback(gr(gr({},N),{},{index:t.index,lifecycle:_r.COMPLETE,step:P,type:Ur})),this.callback(gr(gr({},N),{},{index:t.index,step:P,type:xr})),g()}else O("status",[jr.IDLE,jr.READY],jr.RUNNING)?this.callback(gr(gr({},N),{},{type:Nr})):(A("status")||A("action",Lr.RESET))&&this.callback(gr(gr({},N),{},{type:Dr}));w&&(this.scrollToStep(t),o===Lr.START&&r===_r.INIT&&l===jr.RUNNING&&"center"===w.placement&&E({lifecycle:_r.READY}))}}},{key:"componentWillUnmount",value:function(){this.props.disableCloseOnEsc||document.body.removeEventListener("keydown",this.handleKeyboard)}},{key:"scrollToStep",value:function(e){var t=this.state,n=t.index,o=t.lifecycle,i=t.status,a=this.props,r=a.debug,l=a.disableScrolling,s=a.disableScrollParentFix,c=a.scrollToFirstStep,u=a.scrollOffset,d=a.scrollDuration,p=vl(a.steps[n],this.props);if(p){var f=nl(p.target),m=this.shouldScroll(l,n,c,o,p,f,e);if(i===jr.RUNNING&&m){var v=al(f,s),g=il(f,s),h=Math.floor(sl(f,u,s))||0;if(Yr({title:"scrollToStep",data:[{key:"index",value:n},{key:"lifecycle",value:o},{key:"status",value:i}],debug:r}),o===_r.BEACON&&this.beaconPopper){var b=this.beaconPopper,y=b.placement,E=b.popper;-1!==["bottom"].indexOf(y)||v||(h=Math.floor(E.top-u))}else if(o===_r.TOOLTIP&&this.tooltipPopper){var S=this.tooltipPopper,C=S.flipped,A=S.placement,O=S.popper;-1===["top","right","left"].indexOf(A)||C||v?h-=p.spotlightPadding:h=Math.floor(O.top-u)}h=h>=0?h:0,i===jr.RUNNING&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cl(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;new Promise((function(o,i){var a=t.scrollTop,r=e>a?e-a:a-e;yi().top(t,e,{duration:r<100?50:n},(function(e){return e&&"Element already at target scroll position"!==e.message?i(e):o()}))}))}(h,g,d)}}}},{key:"render",value:function(){if(!Fr)return null;var e,t=this.state,n=t.index,o=t.status,i=this.props,a=i.continuous,r=i.debug,l=i.nonce,c=i.scrollToFirstStep,u=vl(i.steps[n],this.props);return o===jr.RUNNING&&u&&(e=s.createElement(Nl,Sr({},this.state,{callback:this.callback,continuous:a,debug:r,setPopper:this.setPopper,helpers:this.helpers,nonce:l,shouldScroll:!u.disableScrolling&&(0!==n||c),step:u,update:this.store.update}))),s.createElement("div",{className:"react-joyride"},e)}}]),n}(s.Component);Er(kl,"defaultProps",{continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:function(){},hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]});var Pl=n(32733),Ml=n(25730);new Set;function Ul(){return[["b","\b"],["f","\f"],["n","\n"],["r","\r"],["t","\t"],["v","\v"],["0","\0"]].reduce(((e,[t,n])=>(e.set(t,n),e)),new Map)}const xl=Ul();[...xl.keys()].reduce(((e,t)=>(e.set(xl.get(t),`\\${t}`),e)),new Map);function Dl(e,t){let n;n="number"==typeof t?{count:t}:t&&"object"==typeof t?t:{};const{count:o=1,defaultEscapeValue:i=!0,b:a=i,f:r=i,n:l=i,r:s=i,t:c=i,v:u=i,0:d=i,x:p=i,u:f=i,uEs6:m=f}=n,v=Ul();a||v.delete("b"),r||v.delete("f"),l||v.delete("n"),s||v.delete("r"),c||v.delete("t"),u||v.delete("v"),d||v.delete("0");const g=[];p&&g.push("x[a-fA-F0-9]{2}"),f&&g.push("u[a-fA-F0-9]{4}"),m&&g.push("u{[a-fA-F0-9]+}");const h=new RegExp(`\\\\(${[...g,".","$"].join("|")})`,"g");for(let b=Math.max(1,o>>0);b>0;--b)e=e.replace(h,((...[,e])=>{const t=e;if(t.length>1){if("x"===t[0])return String.fromCharCode(Number.parseInt(t.slice(1),16));if("u"===t[0]){if("{"===t[1]){const e=t.slice(2,-1),n=Number.parseInt(e,16);if(n>1114111)return t;if(n>=65536){const e=n-65536,t=55296+(e>>10),o=56320+(1023&e);return`${String.fromCharCode(t,o)}`}return String.fromCharCode(n)}return String.fromCharCode(Number.parseInt(t.slice(1),16))}}return v.get(t)||t}));return e}var Zl=n(76937),_l=n(7247);function jl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Vl=function(e){var t,n,o=e.template,i=e.open,a=e.onClose,r=(0,c.$)().t,u=(0,l.fQ)().getLink;return s.createElement(z.Z,{open:i,onClose:a,dimmer:"blurring",size:"small"},s.createElement(z.Z.Header,null,o.title),s.createElement(z.Z.Content,{scrolling:!0},s.createElement("p",null,o.summary,(t=null==o?void 0:o.name,n=void 0,t===y.qr.USER_AGE_BASED&&(n=u("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.userAgeBased.learnMore")),t===y.qr.GROUP_BASED&&(n=u("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.groupBased.learnMore")),t===y.qr.IP_BASED&&(n=u("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.ipBased.learnMore")),t===y.qr.NEW_DEVICE_BASED&&(n=u("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.deviceBased.learnMore")),void 0===n?null:s.createElement(l.eb,{link:n},r("common:learnMore")))),Array.isArray(null==o?void 0:o.preRequisites)&&o.preRequisites.length>0&&s.createElement(s.Fragment,null,s.createElement("h4",null,r("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.prerequisites")),s.createElement(it.Z,null,o.preRequisites.map((function(e,t){return s.createElement(it.Z.Item,{key:t},s.createElement(it.Z.Icon,{name:"check circle outline",color:"green"}),s.createElement(it.Z.Content,null,e))})))),(0,_l.Z)(o.parametersDescription)&&s.createElement(s.Fragment,null,s.createElement("h4",null,r("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.parameters")),s.createElement(x.Z,{definition:!0},s.createElement(x.Z.Header,null,s.createElement(x.Z.Row,null,s.createElement(x.Z.HeaderCell,null),s.createElement(x.Z.HeaderCell,null,r("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.description")))),s.createElement(x.Z.Body,null,Object.entries(o.parametersDescription).map((function(e,t){var n=jl(e,2),o=n[0],i=n[1];return s.createElement(x.Z.Row,{key:t},s.createElement(x.Z.Cell,null,o),s.createElement(x.Z.Cell,null,i))}))))),(0,_l.Z)(o.defaultStepsDescription)&&s.createElement(s.Fragment,null,s.createElement("h4",null,r("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.defaultSteps")),Object.entries(o.defaultStepsDescription).map((function(e,t,n){var o=jl(e,2),i=o[0],a=o[1];return s.createElement("div",{className:"stepper",key:"".concat(t,"-").concat(i)},s.createElement("div",{className:"step-number"},t+1),s.createElement("div",{className:"step-text"},a),n.length!==t+1&&s.createElement("div",{className:"step-connector"},s.createElement("div",{className:"step-line"})))}))),o.helpLink&&s.createElement(s.Fragment,null,s.createElement("h4",null,r("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.helpReference")),s.createElement(l.v0,{type:"info",content:s.createElement("a",{target:"_blank",href:o.helpLink,rel:"noreferrer"},o.helpLink)})),o.code&&s.createElement(s.Fragment,null,s.createElement("h4",null,r("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.code")),s.createElement(l.pq,{lint:!0,language:"javascript",sourceCode:o.code,options:{lineWrapping:!0},readOnly:!0,"data-testid":"".concat(o.title,"-code-editor"),getThemeFromEnvironment:!0}))),s.createElement(z.Z.Actions,null,s.createElement(l.Qj,{onClick:a},r("common:cancel"))))};function ql(e){return function(e){if(Array.isArray(e))return zl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Hl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||Hl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hl(e,t){if(e){if("string"==typeof e)return zl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zl(e,t):void 0}}function zl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Wl=(0,s.forwardRef)((function(e,t){var n=e.defaultActiveIndexes,o=e.onTemplateSelect,i=e.templates,a=e.title,r=e.visible,u=e.readOnly,d=e["data-testid"],p=(0,c.$)().t,m=Bl((0,s.useState)(n),2),v=m[0],g=m[1],h=Bl((0,s.useState)(null),2),b=h[0],y=h[1],E=function(e,t){var n=t.index,o=ql(v);if(o.includes(n)){var i=o.indexOf(n);o.splice(i,1)}else o.push(n);g(o)};return s.createElement(s.Fragment,null,b&&s.createElement(Vl,{template:b,open:!!b,onClose:function(){y(null)}}),s.createElement(Ml.Z,{as:j.Z,ref:t,className:"script-templates-panel",animation:"overlay",icon:"labeled",direction:"right",vertical:!0,secondary:!0,visible:r,"data-testid":d},a&&"string"==typeof a?s.createElement(l.X6,{as:"h6",bold:!0},a):a,i&&i instanceof Array&&i.length>0?s.createElement(Zl.Z,{as:R.Z,className:"template-category-menu","data-testid":"".concat(d,"-accordion"),fluid:!0,secondary:!0,vertical:!0},(0,P.Z)(i,"order").map((function(e,t){return(null==e?void 0:e.templates)&&e.templates instanceof Array&&s.createElement(R.Z.Item,{key:t},s.createElement(Zl.Z.Title,{active:v.includes(t),className:"category-name",content:e.displayName,index:t,icon:s.createElement(f.Z,{className:"angle right caret-icon"}),onClick:E,"data-testid":"".concat(d,"-accordion-title-").concat(t)}),s.createElement(Zl.Z.Content,{className:"template-list",active:v.includes(t),"data-testid":"".concat(d,"-accordion-content-").concat(t)},e.templates.map((function(e,t){return s.createElement(R.Z.Item,{key:t,className:"template-list-item","data-componentid":e.name},s.createElement(l.GI,{trigger:s.createElement("div",{className:"template-name"},e.name),content:e.title||e.name}),s.createElement("div",{className:"actions"},s.createElement(l.u,{compact:!0,trigger:s.createElement(f.Z,{className:"add-button",name:"info circle",onClick:function(){y(e)},"data-componentid":"".concat(e.name,"-info")}),content:p("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.popupContent")}),!u&&s.createElement(l.u,{compact:!0,trigger:s.createElement(f.Z,{className:"add-button",name:"add",onClick:function(){return o(e)},"data-componentid":"".concat(e.name,"-add")}),content:p("common:add")})))}))))}))):null))}));Wl.defaultProps={"data-testid":"script-templates-side-panel",defaultActiveIndexes:[-1],visible:!1};var Gl=n(22651),Kl=n(39079),Ql=n(80704);function $l(e){return $l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(e)}function Yl(){Yl=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),r=new A(o||[]);return a._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return w()}for(n.method=i,n.arg=a;;){var r=n.delegate;if(r){var l=E(r,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=c(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var u={};function d(){}function p(){}function f(){}var m={};l(m,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==t&&n.call(g,i)&&(m=g);var h=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function o(i,a,r,l){var s=c(e[i],e,a);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==$l(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,r,l)}),(function(e){o("throw",e,r,l)})):t.resolve(d).then((function(e){u.value=e,r(u)}),(function(e){return o("throw",e,r,l)}))}l(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){o(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var o=c(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,u;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=f,l(h,"constructor",f),l(f,"constructor",p),p.displayName=l(f,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,r,"GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,o,i,a){void 0===a&&(a=Promise);var r=new y(s(t,n,o,i),a);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},b(h),l(h,r,"Generator"),l(h,i,(function(){return this})),l(h,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],r=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function Xl(e,t,n,o,i,a,r){try{var l=e[a](r),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(o,i)}function Jl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return es(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return es(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var ts=function(e){var t=e.authenticationSequence,n=e.onTemplateSelect,o=e.onScriptChange,i=e.readOnly,p=e.authenticationSteps,m=e.isDefaultScript,v=e.isMinimized,y=e.onAdaptiveScriptReset,S=e["data-testid"],C=(0,c.$)().t,A=(0,l.fQ)().getLink,O=(0,u.I0)(),w=(0,s.useRef)(null),I=(0,s.useRef)(null),L=Jl((0,s.useState)(void 0),2),N=L[0],k=L[1],P=Jl((0,s.useState)(void 0),2),M=P[0],x=P[1],_=Jl((0,s.useState)(!0),2),j=_[0],F=_[1],V=Jl((0,s.useState)(void 0),2),q=V[0],B=V[1],H=Jl((0,s.useState)(!0),2),z=H[0],W=H[1],G=Jl((0,s.useState)(void 0),2),K=G[0],Q=G[1],$=Jl((0,s.useState)(void 0),2),Y=$[0],X=$[1],J=Jl((0,s.useState)(!1),2),ee=J[0],te=J[1],ne=Jl((0,s.useState)(!1),2),oe=ne[0],ie=ne[1],ae=Jl((0,s.useState)(!1),2),re=ae[0],le=ae[1],se=Jl((0,s.useState)(!1),2),ce=se[0],ue=se[1],de=Jl((0,s.useState)(v),2),pe=de[0],fe=de[1],me=Jl((0,s.useState)(!1),2),ve=me[0],ge=me[1],he=Jl((0,s.useState)(!1),2),be=he[0],ye=he[1],Ee=Jl((0,s.useState)(void 0),2),Se=Ee[0],Ce=Ee[1],Ae=Jl((0,s.useState)(!1),2),Oe=Ae[0],we=Ae[1],Ie=Jl((0,s.useState)([]),2),Te=Ie[0],Re=Ie[1],Le=Jl((0,s.useState)([]),2),Ne=Le[0],ke=Le[1],Pe=Jl((0,s.useState)(!0),2),Me=Pe[0],Ue=Pe[1],De=Jl((0,s.useState)(!1),2),Ze=De[0],_e=De[1],je=Jl((0,s.useState)(void 0),2),qe=je[0],Be=je[1],He=g.lD.getInstance();(0,s.useEffect)((function(){ze()}),[]);var ze=function(){xe.F.getOrganizationType()!==rt.$B.SUPER_ORGANIZATION&&xe.F.getOrganizationType()!==rt.$B.FIRST_LEVEL_ORGANIZATION&&xe.F.getOrganizationType()!==rt.$B.TENANT||(Ue(!0),(0,Gl.pR)({params:{secretType:Ql.H0}}).then((function(e){Re(e.data),ke(e.data)})).catch((function(e){var t,n;e.response&&e.response.data&&e.response.data.description?O((0,r.V_)({description:null===(t=e.response.data)||void 0===t?void 0:t.description,level:a.QU.ERROR,message:null===(n=e.response.data)||void 0===n?void 0:n.message})):O((0,r.V_)({description:C("console:develop.features.secrets.errors.generic.description"),level:a.QU.ERROR,message:C("console:develop.features.secrets.errors.generic.message")}))})).finally((function(){Ue(!1)})))},We=function(){ze()},Ge=function(){ye(!1),We()};(0,s.useEffect)((function(){(0,h.im)().then((function(e){k(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?O((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:Fe.ru.API_RETRIEVAL_ERROR_ALERT_MESSAGE})):O((0,r.V_)({description:b.jo.ADAPTIVE_AUTH_TEMPLATES_FETCH_ERROR,level:a.QU.ERROR,message:Fe.ru.API_RETRIEVAL_ERROR_ALERT_MESSAGE}))}))}),[]);var Ke=function(){var e,t,n,o="100%";j&&(o="calc(100% - ".concat(null==w||null===(e=w.current)||void 0===e||null===(t=e.ref)||void 0===t||null===(n=t.current)||void 0===n?void 0:n.offsetWidth,"px)"));I.current.style.width=o};(0,s.useEffect)((function(){Ke()}),[j]),(0,s.useEffect)((function(){Ke()})),(0,s.useEffect)((function(){var e;i?fe(!0):null==t||!t.script||E.w1.isDefaultScript(t.script,null==t||null===(e=t.steps)||void 0===e?void 0:e.length)?fe(!1):fe(!0)}),[t]),(0,s.useEffect)((function(){$e(null==t?void 0:t.script)}),[null==t?void 0:t.steps,null==t?void 0:t.script,p]);var Qe,$e=function(e){var n,o;if(!e&&0===(null==t||null===(n=t.steps)||void 0===n?void 0:n.length))return B(E.w1.getDefaultScript()),void te(!1);if(!e&&(null==t||null===(o=t.steps)||void 0===o?void 0:o.length)>0)return B(E.w1.generateScript(p+1)),void te(!1);if(Ve.StringUtils.isValidJSONString(e)){if(ee&&!oe&&E.w1.minifyScript(K)!==E.w1.minifyScript(JSON.parse(e)))return;return te(!0),B(JSON.parse(e)),void ie(!1)}return e&&E.w1.isDefaultScript(null!=K?K:e,null!=Y?Y:p)?(X(p),B(E.w1.generateScript(p+1)),void te(!1)):e&&!E.w1.isDefaultScript(null!=K?K:e,null!=Y?Y:p)?(X(p),E.w1.minifyScript(K)!==E.w1.minifyScript(e)?void B(null!=K?K:e):(B(Bo().js(Dl(e))),void te(!1))):void(m?Ye():(B(e),te(!1)))},Ye=function(){B(E.w1.generateScript(p+1)),te(!1),y(),fe(!1)},Je=[{content:s.createElement("div",{className:"tour-step"},s.createElement(l.X6,{bold:!0,as:"h6"},C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.0.heading")),s.createElement(l.xv,null,C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.0.content.0")),s.createElement(l.xv,null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.0.content.1"},"Click on the ",s.createElement(l.EK,null,"Next")," button to learn about the process."))),disableBeacon:!0,placement:"top",target:'[data-tourid="conditional-auth"]'},{content:s.createElement("div",{className:"tour-step"},s.createElement(l.X6,{bold:!0,as:"h6"},C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.1.heading")),s.createElement(l.xv,null,C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.1.content.0"))),disableBeacon:!0,placement:"right",target:'[data-tourid="add-authentication-options-button"]'},{content:s.createElement("div",{className:"tour-step"},s.createElement(l.X6,{bold:!0,as:"h6"},C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.2.heading")),s.createElement(l.xv,null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.2.content.0"},"Click here if you need to add more steps to the flow. Once you add a new step,",s.createElement(l.EK,null,"executeStep(STEP_NUMBER);")," will appear on the script editor."))),disableBeacon:!0,placement:"right",target:'[data-tourid="add-new-step-button"]'}],et=function(){var e,t=(e=Yl().mark((function e(){return Yl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!qe){e.next=19;break}return e.prev=1,e.next=4,(0,Gl.c8)({params:{secretName:qe.secretName,secretType:qe.type}});case 4:O((0,r.V_)({description:C("console:develop.features.secrets.alerts.deleteSecret.description",{secretName:qe.secretName,secretType:qe.type}),level:a.QU.SUCCESS,message:C("console:develop.features.secrets.alerts.deleteSecret.message")})),e.next=13;break;case 7:if(e.prev=7,e.t0=e.catch(1),!(e.t0.response&&e.t0.response.data&&e.t0.response.data.description)){e.next=12;break}return O((0,r.V_)({description:e.t0.response.data.description,level:a.QU.ERROR,message:e.t0.response.data.message})),e.abrupt("return");case 12:O((0,r.V_)({description:C("console:develop.features.secrets.errors.generic.description"),level:a.QU.ERROR,message:C("console:develop.features.secrets.errors.generic.message")}));case 13:return e.prev=13,We(),_e(!1),Be(void 0),e.finish(13);case 19:case"end":return e.stop()}}),e,null,[[1,7,13,19]])})),function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){Xl(a,o,i,r,l,"next",e)}function l(e){Xl(a,o,i,r,l,"throw",e)}r(void 0)}))});return function(){return t.apply(this,arguments)}}(),tt=function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=g.Wj.getUserPreferences();if(!(0,T.Z)(n)){var o=(0,Cn.Z)(n);(0,In.Z)(null==o||null===(e=o.identityAppsSettings)||void 0===e?void 0:e.devPortal,b.jo.CONDITIONAL_AUTH_TOUR_STATUS_STORAGE_KEY,t),g.Wj.setUserPreferences(o)}},nt=function(){var e,t=g.Wj.getUserPreferences();return!(0,T.Z)(t)&&(0,Xe.Z)(null==t||null===(e=t.identityAppsSettings)||void 0===e?void 0:e.devPortal,b.jo.CONDITIONAL_AUTH_TOUR_STATUS_STORAGE_KEY,!1)},ot=s.createElement(l.cV,{onClose:function(){_e(!1),Be(void 0)},onSecondaryActionClick:function(){_e(!1),Be(void 0)},onPrimaryActionClick:et,open:Ze,type:"negative",assertionHint:C("console:develop.features.secrets.modals.deleteSecret.assertionHint"),assertionType:"checkbox",primaryAction:C("console:develop.features.secrets.modals.deleteSecret.primaryActionButtonText"),secondaryAction:C("console:develop.features.secrets.modals.deleteSecret.secondaryActionButtonText"),"data-testid":"".concat(S,"-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(S,"-delete-confirmation-modal-header")},C("console:develop.features.secrets.modals.deleteSecret.title")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(S,"-delete-confirmation-modal-message")},C("console:develop.features.secrets.modals.deleteSecret.warningMessage")),s.createElement(l.cV.Content,{"data-testid":"".concat(S,"-delete-confirmation-modal-content")},C("console:develop.features.secrets.modals.deleteSecret.content")));return s.createElement(s.Fragment,null,s.createElement("div",{className:"conditional-auth-section"},s.createElement(l.el,{fluid:!0,"data-testid":"".concat(S,"-accordion"),className:"conditional-auth-accordion"},s.createElement(l.el.Title,{"data-testid":"".concat(S,"-accordion-title"),active:pe,content:s.createElement(s.Fragment,null,s.createElement("div",{className:"conditional-auth-accordion-title"},!i&&s.createElement(Z.Z,{toggle:!0,"data-tourid":"conditional-auth",onChange:function(){pe?le(!0):(He.publish("application-sign-in-method-enable-conditional-authentication"),fe(!0))},checked:pe,className:"conditional-auth-accordion-toggle"}),s.createElement("div",{className:"conditional-auth-accordion-title-text"},s.createElement(l.X6,{as:"h5",compact:!0},C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.heading")),s.createElement(l.xv,{muted:!0,compact:!0},C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.description"),s.createElement(l.eb,{link:A("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.learnMore")},C("common:learnMore"))))),s.createElement(kl,{continuous:!0,disableOverlay:!0,showSkipButton:!0,callback:function(e){e.status!==jr.FINISHED&&e.status!==jr.SKIPPED||tt()},run:!!pe&&!1===nt(),steps:Je,styles:{buttonClose:{display:"none"},tooltipContent:{paddingBottom:1}},locale:{back:C("common:back"),close:C("common:close"),last:C("common:done"),next:C("common:next"),skip:C("common:skip")}})),hideChevron:!0}),s.createElement(l.el.Content,{active:pe,className:"conditional-auth-accordion-content","data-testid":"".concat(S,"-accordion-content")},s.createElement(Ml.Z.Pushable,{className:"script-editor-with-template-panel no-border"},!i&&s.createElement(Wl,{title:C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.templates.heading"),ref:w,onTemplateSelect:function(e){x(e),ue(!0)},templates:(null==N?void 0:N.templatesJSON)&&Object.values(N.templatesJSON),visible:j,readOnly:i,"data-testid":"".concat(S,"-script-templates-side-panel")}),s.createElement(Ml.Z.Pusher,null,s.createElement("div",{className:"script-editor-container",ref:I},s.createElement(R.Z,{attached:"top",className:"action-panel",secondary:!0},s.createElement(R.Z.Menu,{position:"right"},void 0===(Qe=A("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.apiReference"))?null:s.createElement(R.Z.Item,{className:"action p-3",href:Qe,target:"_blank"},s.createElement(l.u,{compact:!0,trigger:s.createElement(l.zx,{labelPosition:"left"},s.createElement(l.dn,{className:"p-1 mr-1",transparent:!0,defaultIcon:!0,size:"micro",icon:(0,g.YT)().openBookIcon,"data-testid":"".concat(S,"-code-editor-open-documentation")}),s.createElement("p",null,C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.apiDocumentation"))),content:C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.goToApiDocumentation"),size:"mini"})),s.createElement(R.Z.Item,{className:"action ".concat(Oe?"selected-secret":"")},s.createElement("div",null,s.createElement(Pl.Z,{defaultOpen:!Me,labeled:!0,button:!0,upward:!1,options:Ne,onOpen:function(){return we(!0)},onClose:function(){return we(!1)},icon:s.createElement(l.GI,{disabled:Oe,trigger:s.createElement("div",null,s.createElement(l.dn,{hoverable:!0,transparent:!0,defaultIcon:!0,size:"micro",hoverType:"rounded",icon:(0,g.YT)().keyIcon,"data-testid":"".concat(S,"-code-editor-secret-selection")})),content:s.createElement(U.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.tooltips.keyIcon"},"Securely store access keys as secrets. A secret can replace the consumer secret in ",s.createElement(l.EK,null,"callChoreo()")," function in the conditional authentication scripts."),position:"bottom left",pinned:!0})},s.createElement(Pl.Z.Menu,null,Te.length>0&&s.createElement(D.Z,{"data-testid":"".concat(S,"-secret-search"),icon:"search",iconPosition:"left",className:"search",placeholder:C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.search"),onChange:function(e){var t;null!==(t=e.currentTarget)&&void 0!==t&&t.value?ke(Te.filter((function(t){return t.secretName.toLowerCase().includes(e.currentTarget.value.toLowerCase())}))):ke(Te)},onClick:function(e){return e.stopPropagation()}}),s.createElement(Pl.Z.Menu,{"data-testid":"".concat(S,"-secret-list"),scrolling:!0,className:"custom-dropdown"},Ne.length>0?Ne.map((function(e){return s.createElement(Pl.Z.Item,{key:e.secretId},s.createElement(d.Z,{as:"h6",className:"header-with-icon",style:{margin:"0.25rem auto"}},s.createElement(l.dn,{defaultIcon:!0,link:!0,linkType:"primary",transparent:!0,floated:"right",size:"micro",style:{paddingTop:0},icon:s.createElement(l.u,{trigger:s.createElement(f.Z,{name:"trash alternate"}),content:C("common:delete"),size:"mini"}),onClick:function(){!function(e){Be(e),_e(!0)}(e)},"data-testid":"".concat(S,"-secret-delete")}),s.createElement(l.dn,{defaultIcon:!0,transparent:!0,link:!0,linkType:"primary",floated:"right",size:"micro",style:{paddingTop:0},icon:s.createElement(l.u,{trigger:s.createElement(f.Z,{name:"plus"}),content:C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.tooltips.plusIcon"),size:"mini"}),onClick:function(){!function(e){var t=Se.getDoc(),n='"'.concat(e.secretName,'"');if(t.somethingSelected())t.replaceSelection(n);else{var o=t.getCursor();t.replaceRange(n,o)}}(e)},"data-testid":"".concat(S,"-secret-add")}),s.createElement(d.Z.Content,null,e.secretName),s.createElement(d.Z.Subheader,{className:"truncate ellipsis"},e.description)))})):s.createElement(Pl.Z.Item,{"data-testid":"".concat(S,"-empty-placeholder"),key:"secretEmptyPlaceholder",text:C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.emptyPlaceholder"),disabled:!0})),(xe.F.getOrganizationType()===rt.$B.SUPER_ORGANIZATION||xe.F.getOrganizationType()===rt.$B.FIRST_LEVEL_ORGANIZATION||xe.F.getOrganizationType()===rt.$B.TENANT)&&s.createElement(Pl.Z.Menu,{className:"create-button-item",scrolling:!0},s.createElement(Pl.Z.Item,{key:"createSecret",text:C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.create"),onClick:function(){ye(!0)}})))))),s.createElement(R.Z.Item,{className:"action"},s.createElement(l.u,{compact:!0,trigger:s.createElement("div",null,s.createElement(l.dn,{hoverable:!0,transparent:!0,defaultIcon:!0,size:"micro",hoverType:"rounded",icon:(0,g.YT)().maximize,onClick:function(){ge(!ve)},"data-testid":"".concat(S,"-code-editor-fullscreen-toggle")})),content:function(){var e=C("common:goFullScreen");return ve&&setTimeout((function(){e=C("common:exitFullScreen")}),500),e},size:"mini"})),s.createElement(R.Z.Item,{className:"action"},s.createElement(l.u,{compact:!0,trigger:s.createElement("div",null,s.createElement(l.dn,{hoverable:!0,defaultIcon:!0,transparent:!0,size:"micro",hoverType:"rounded",icon:z?(0,g.YT)().lightMode:(0,g.YT)().darkMode,onClick:function(){W(!z)},"data-testid":"".concat(S,"-code-editor-mode-toggle")})),content:C(z?"common:lightMode":"common:darkMode"),size:"mini"})),!i&&s.createElement(R.Z.Item,{onClick:function(){F(!j)},className:"action hamburger","data-testid":"".concat(S,"-script-template-sidebar-toggle")},s.createElement(f.Z,{name:"bars"})))),s.createElement("div",{className:"code-editor-wrapper"},s.createElement(l.pq,{editorDidMount:function(e){Ce(e)},lint:!0,allowFullScreen:!0,controlledFullScreenMode:!1,triggerFullScreen:ve,language:"javascript",sourceCode:q,options:{lineWrapping:!0},onChange:function(e,t,n){Q(n),o(n)},onFullScreenToggle:function(e){ge(e),function(){var e=E.w1.sourceToString(K);if(e!==E.w1.sourceToString(q)){var t=Se.doc.getCursor();B(e.split(b.jo.LINE_BREAK)),Se.doc.setCursor(t)}}()},theme:z?"dark":"light",readOnly:i,translations:{copyCode:C("common:copyToClipboard"),exitFullScreen:C("common:exitFullScreen"),goFullScreen:C("common:goFullScreen")},"data-testid":"".concat(S,"-code-editor")}))))))),be&&s.createElement(Kl.Z,{onClose:Ge}),Ze&&ot),re&&s.createElement(l.cV,{onClose:function(){return le(!1)},type:"warning",open:re,primaryAction:C("common:confirm"),secondaryAction:C("common:cancel"),onSecondaryActionClick:function(){return le(!1)},onPrimaryActionClick:function(){le(!1),Ye()},"data-testid":"".concat(S,"-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(S,"-reset-confirmation-modal-header")},C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.heading")),s.createElement(l.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(S,"-reset-confirmation-modal-message")},C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(S,"-reset-confirmation-modal-content")},s.createElement(U.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.content"},"This action will reset the adaptive authentication script back to default. Click ",s.createElement(l.EK,null,"Confirm")," to proceed."))),ce&&s.createElement(l.cV,{onClose:function(){return ue(!1)},type:"warning",open:ce,primaryAction:C("common:confirm"),secondaryAction:C("common:cancel"),onSecondaryActionClick:function(){ue(!1),x(void 0)},onPrimaryActionClick:function(){var e;ue(!1),e=M,He.publish("application-sign-in-method-conditional-authentication-template",{type:(0,Vo.Z)(e.name)}),ie(!0),n(e),x(void 0)},"data-testid":"".concat(S,"-adaptive-script-template-change-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(S,"-reset-confirmation-modal-header")},C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.heading")),s.createElement(l.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(S,"-reset-confirmation-modal-message")},C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(S,"-reset-confirmation-modal-content")},s.createElement(U.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.changeConfirmation.content"},"The selected template will replace the existing script in the editor and the step configuration. Your current progress will be lost. Click ",s.createElement(l.EK,null,"Confirm")," to proceed."))))};ts.defaultProps={"data-testid":"script-based-flow",isMinimized:!0};var ns=n(50350),os=n(83849),is=n.n(os),as=n(2189);function rs(e){return function(e){if(Array.isArray(e))return cs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ss(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ls(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||ss(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ss(e,t){if(e){if("string"==typeof e)return cs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cs(e,t):void 0}}function cs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var us=function(e){var t=e.authenticators,n=e.authenticationSteps,o=e.currentStep,i=e.defaultName,a=e.heading,r=e.onAuthenticatorSelect,u=e.selected,d=e.showLabels,v=e["data-testid"],g=(0,c.$)().t,h=ls((0,s.useState)(void 0),2),b=h[0],y=h[1],S=is()("authenticator",{"with-labels":d});(0,s.useEffect)((function(){u&&y(u)}),[u]);var C=function(e){return e.category===Xt.Xi.SECOND_FACTOR?0!==o&&E.Yw.isSecondFactorAdditionValid(e.defaultAuthenticator.authenticatorId,o,n):![Xt.bQ.IDENTIFIER_FIRST_AUTHENTICATOR_ID,Xt.bQ.BASIC_AUTHENTICATOR_ID].includes(e.id)||E.Yw.isFirstFactorValid(o,n)},A=function(e){var t,n,i=s.createElement(p.Z,{attached:"top"},s.createElement(f.Z,{name:"info circle"})," Info");return e.category===Xt.Xi.SECOND_FACTOR?s.createElement(s.Fragment,null,0===o?s.createElement(s.Fragment,null,i,s.createElement(l.xv,null,null!==(t=m.applicationConfig.signInMethod.authenticatorSelection.messages.secondFactorDisabledInFirstStep)&&void 0!==t?t:g("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.secondFactorDisabledInFirstStep"))):s.createElement(s.Fragment,null,i,s.createElement(l.xv,null,null!==(n=m.applicationConfig.signInMethod.authenticatorSelection.messages.secondFactorDisabled)&&void 0!==n?n:s.createElement(U.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.secondFactorDisabled"},"The second-factor authenticators can only be used if"," ",s.createElement(l.EK,{withBackground:!0},"Username & Password"),","," ",s.createElement(l.EK,{withBackground:!0},"Social Login"),",",s.createElement(l.EK,{withBackground:!0},"Security Key/Biometrics"),"or any other handlers that can handle these factors are present in a previous step.")))):e.category===Xt.Xi.SOCIAL?s.createElement(s.Fragment,null,i,s.createElement(l.xv,null,g("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.authenticatorDisabled"))):[Xt.bQ.IDENTIFIER_FIRST_AUTHENTICATOR_ID,Xt.bQ.BASIC_AUTHENTICATOR_ID].includes(e.id)?s.createElement(s.Fragment,null,i,s.createElement(l.xv,null,g("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.firstFactorDisabled"))):void 0},O=function(e){var t;return e&&null!==(t=Xt.Cr.getAuthenticatorLabels(e.authenticatorId))&&void 0!==t?t:[]};return s.createElement(s.Fragment,{"data-testid":v},a&&s.createElement(l.X6,{as:"h6"},a),t.map((function(e,t){return s.createElement(l.GI,{hoverable:!0,hideOnScroll:!0,position:"top center",key:t,on:"hover",disabled:C(e),content:A(e),trigger:s.createElement(l.rJ,{showTooltips:!0,imageSize:"micro",className:S,header:e.displayName||i,disabled:!C(e),selected:C(e)&&Array.isArray(b)&&b.some((function(t){return t.id===e.id})),subHeader:e.categoryDisplayName,description:e.description,image:e.image,tags:d&&O(null==e?void 0:e.defaultAuthenticator),onClick:function(){C(e)&&function(e){if(e.isEnabled){if(b.some((function(t){return t.id===e.id}))){var t=b.filter((function(t){return t.id!==e.id}));return r(t),void y(t)}r([].concat(rs(b),[e])),y([].concat(rs(b),[e]))}}(e)},imageOptions:{floated:!1,inline:!0},"data-testid":"".concat(v,"-authenticator-").concat(e.name)})})})))};us.defaultProps={"data-testid":"authenticators",defaultName:"Unknown",showLabels:!0};var ds=["allowSocialLoginAddition","authenticationSteps","authenticators","categorizedIDPTemplates","className","currentStep","header","onClose","open","onAddNewClick","onIDPCreateWizardTrigger","onModalSubmit","message","showStepSelector","stepCount","showLabels","subjectStepId","attributeStepId","refreshAuthenticators","data-testid"];function ps(){return ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ps.apply(this,arguments)}function fs(e){return function(e){if(Array.isArray(e))return gs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vs(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ms(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||vs(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vs(e,t){if(e){if("string"==typeof e)return gs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gs(e,t):void 0}}function gs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function hs(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var bs=function(e){var t=e.allowSocialLoginAddition,n=e.authenticationSteps,o=e.authenticators,i=e.categorizedIDPTemplates,a=e.className,r=e.currentStep,u=e.header,d=e.onClose,m=e.open,v=e.onAddNewClick,h=e.onIDPCreateWizardTrigger,b=e.onModalSubmit,y=e.message,E=e.showStepSelector,S=e.stepCount,C=e.showLabels,A=e.subjectStepId,O=e.attributeStepId,w=e.refreshAuthenticators,I=e["data-testid"],R=hs(e,ds),k=(0,c.$)().t,P=ms((0,s.useState)(m),1)[0],M=ms((0,s.useState)([]),2),U=M[0],x=M[1],Z=ms((0,s.useState)([]),2),_=Z[0],j=Z[1],F=ms((0,s.useState)(S),2),V=F[0],q=F[1],B=ms((0,s.useState)(null),2),H=B[0],W=B[1],G=ms((0,s.useState)(!1),2),K=G[0],Q=G[1],$=ms((0,s.useState)([]),2),Y=$[0],X=$[1],J=ms((0,s.useState)([]),2),ee=J[0],te=J[1],ne=is()("add-authenticator-modal",a),oe=g.lD.getInstance();(0,s.useEffect)((function(){o&&(j(o),ie(o))}),[o]);var ie=function(e){var t=[];e.filter((function(e){Xt.zc.getAuthenticatorLabels(e).filter((function(e){t.includes(e)||t.push(e)}))})),X(t)},ae=function(e,t){var n=t.value.toLocaleLowerCase();W(n),j(re(n,ee))},re=function(e,t){var n=function(e){return!!(0,T.Z)(t)||Xt.zc.getAuthenticatorLabels(e).some((function(e){return t.includes(e)}))};return o.filter((function(t){var o,i,a,r,l;return e?(null==t||null===(o=t.displayName)||void 0===o?void 0:o.toLocaleLowerCase()).includes(e)||Xt.zc.getAuthenticatorLabels(t).some((function(t){var n,o,i;return(null==t||null===(n=t.toLocaleLowerCase())||void 0===n?void 0:n.includes(e))||(null===(o=(0,as.Z)(t))||void 0===o||null===(i=o.toLocaleLowerCase())||void 0===i?void 0:i.includes(e))}))||null!==(i=t.category)&&void 0!==i&&null!==(a=i.toLocaleLowerCase())&&void 0!==a&&a.includes(e)||null!==(r=t.categoryDisplayName)&&void 0!==r&&null!==(l=r.toLocaleLowerCase())&&void 0!==l&&l.includes(e)?n(t):void 0:n(t)}))},le=function(){v(),Q(!0)};return s.createElement(s.Fragment,null,s.createElement(z.Z,ps({className:ne,"data-testid":I,open:P},R),s.createElement(z.Z.Header,null,u),E&&s.createElement(z.Z.Content,{className:"step-selection-dropdown-container"},s.createElement(s.Fragment,null,s.createElement(l.X6,{as:"h5"},k("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.stepSelectDropdown.label")),s.createElement(l.kW,null,k("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.stepSelectDropdown.hint")),s.createElement(L.Z,null,s.createElement(L.Z.Field,{inline:!0},s.createElement(L.Z.Select,{scrolling:!0,placeholder:k("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.stepSelectDropdown.placeholder"),options:function(){for(var e=[],t=0;t<S;t++)e.push({key:t,text:"".concat(k("common:step")," ").concat(t+1),value:t+1});return e}(),onChange:function(e,t){var n=t.value;q(parseInt(n,10))},value:V,"data-testid":"".concat(I,"-step-select")}))))),K&&i?s.createElement(z.Z.Content,{scrolling:!0,className:"authenticator-container"},s.createElement("div",{className:"page-header-wrapper"},s.createElement("div",{className:"back-button mb-0",onClick:function(){return Q(!1)}},s.createElement(f.Z,{name:"arrow left"}),k("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.goBackButton"))),s.createElement(ge.Z,{hidden:!0}),i.map((function(e,t){return s.createElement(l.Q8,{key:t,isEmpty:!(null!=e&&e.templates&&Array.isArray(e.templates)&&e.templates.length>0),emptyPlaceholder:s.createElement(l.$J,{image:(0,g.jF)().newList,imageSize:"tiny",title:k("console:develop.features.authenticationProvider.placeHolders.emptyConnectionTypeList.title"),subtitle:[k("console:develop.features.authenticationProvider.placeHolders.emptyConnectionTypeList.subtitles.0"),k("console:develop.features.authenticationProvider.placeHolders.emptyConnectionTypeList.subtitles.1")],"data-testid":"".concat(I,"-empty-placeholder")})},e.templates.map((function(e,t){return s.createElement(l.Q8.Card,{key:t,resourceName:e.name,isResourceComingSoon:e.comingSoon,disabled:e.disabled,comingSoonRibbonLabel:k("common:comingSoon"),resourceDescription:e.description,resourceImage:Xt.zc.resolveTemplateImage(e.image,(0,Xt.nI)()),tags:e.tags,onClick:function(){h(e.id,(function(){Q(!1)}),e)},showTooltips:!1,"data-testid":"".concat(I,"-").concat(e.name)})})))}))):s.createElement(s.Fragment,null,s.createElement(z.Z.Content,{className:"authenticator-search-container"},s.createElement(D.Z,{loading:!1,className:"mb-3",icon:s.createElement(f.Z,{name:"search"}),value:H,iconPosition:"left",fluid:!0,onChange:ae,placeholder:k("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.search.placeholder")}),Y&&Array.isArray(Y)&&Y.length>0&&s.createElement(p.Z.Group,null,Y.map((function(e,t){var n=ee.includes(e);return s.createElement(p.Z,{basic:!0,key:t,as:"a",className:"filter-label ".concat(n?"active":""),onClick:function(){return function(e){var t=[];t=ee.includes(e)?ee.filter((function(t){return t!==e})):[].concat(fs(ee),[e]),te(t),j(re(H,t))}(e)}},Xt.zc.getAuthenticatorLabelDisplayName(e),n&&s.createElement(f.Z,{name:"check"}))})))),s.createElement(z.Z.Content,{scrolling:!0,className:"authenticator-container"},y,_&&Array.isArray(_)&&_.length>0?s.createElement(Oo.Z.Group,{itemsPerRow:3},s.createElement(us,{refreshAuthenticators:w,authenticators:_,authenticationSteps:n,onAuthenticatorSelect:function(e){x(e)},selected:U,showLabels:C,"data-testid":"".concat(I,"-authenticators"),currentStep:r,subjectStepId:A,attributeStepId:O}),t&&s.createElement(Oo.Z,{as:"div",className:"basic-card authenticator add-custom-authenticator-card ".concat(C?"with-labels":""),onClick:le},s.createElement(Oo.Z.Content,{textAlign:"center"},s.createElement(l.dn,{transparent:!0,className:"mb-3",size:"mini",icon:(0,lt.s_)().addCircleOutline}),s.createElement(l.xv,{weight:"500"},k("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.addNewAuthenticatorCard.title"))))):s.createElement("div",null,s.createElement(l.$J,{subtitle:[k("console:develop.features.applications.placeholders.emptyAuthenticatorsList.subtitles")]}),t&&s.createElement(Oo.Z.Group,{centered:!0,itemsPerRow:3},s.createElement(Oo.Z,{as:"div",className:"basic-card authenticator add-custom-authenticator-card ".concat(C?"with-labels":""),onClick:le},s.createElement(Oo.Z.Content,{textAlign:"center"},s.createElement(l.dn,{transparent:!0,className:"mb-3",size:"mini",icon:(0,lt.s_)().addCircleOutline}),s.createElement(l.xv,{weight:"500"},k("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.addNewAuthenticatorCard.title")))))))),s.createElement(z.Z.Actions,null,s.createElement(N.Z,null,s.createElement(N.Z.Row,{column:1},s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(l.Qj,{floated:"left",onClick:function(e){return d(e,null)}},k("common:cancel"))),!K&&s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(l.KM,{floated:"right",onClick:function(){oe.compute((function(){null==U||U.forEach((function(e){oe.publish("application-sign-in-method-add-new-authenticator",{type:(0,Vo.Z)(e.defaultAuthenticator.name)})}))})),b(U,V)},disabled:(0,T.Z)(U),"data-testid":"".concat(I,"-next-button")},k("common:add"))))))))};bs.defaultProps={"data-testid":"add-authenticator-modal",showLabels:!0,size:"small"};var ys=n(91778);function Es(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ss(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ss(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ss(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Cs=function(e){var t=e.authenticators,n=e.className,o=e.onStepDelete,i=e.onAddAuthenticationClick,a=e.onStepOptionAuthenticatorChange,r=e.onStepOptionDelete,u=e.readOnly,d=e.showStepDeleteAction,m=e.showStepMeta,v=e.step,h=e.stepIndex,b=e.subjectStepId,y=e.attributeStepId,E=e.onSubjectCheckboxChange,S=e.onAttributeCheckboxChange,C=e["data-testid"],A=(0,c.$)().t,O=is()("authentication-step-container timeline-body",n),w=Es((0,s.useState)(!1),2),I=w[0],T=w[1];(0,s.useEffect)((function(){v.options.map((function(e){[Xt.bQ.TOTP_AUTHENTICATOR,Xt.bQ.EMAIL_OTP_AUTHENTICATOR,Xt.bQ.SMS_OTP_AUTHENTICATOR,Xt.bQ.IDENTIFIER_FIRST_AUTHENTICATOR].includes(e.authenticator)?T(!1):T(!0)}))}),[JSON.stringify(v.options)]);var R=(0,s.useMemo)((function(){return b===h+1}),[b,h]),N=(0,s.useMemo)((function(){return y===h+1}),[y,h]);return s.createElement("div",{className:"timeline-item"},s.createElement("div",{className:"timeline-badge"},v.id),s.createElement("div",{className:O,"data-testid":C},m&&s.createElement("div",{className:"authentication-step-actions"},s.createElement(l.X6,{className:"step-header",bold:"500",as:"h6"},A("common:step")," ",v.id),!u&&d&&s.createElement(f.Z,{className:"delete-button",name:"cancel",onClick:function(){return o(h)},"data-testid":"".concat(C,"-delete-button")})),s.createElement("div",{className:"authentication-step with-extension ".concat(v.options&&v.options instanceof Array&&v.options.length>0?"":"empty-placeholder-container")},v.options&&v.options instanceof Array&&v.options.length>0?s.createElement(s.Fragment,null,v.options.map((function(e,n){return function(e,n,o){if(t&&t instanceof Array&&t.length>0){var i,c,d,f=null;return(f=e.idp===Xt.bQ.LOCAL_IDP_IDENTIFIER?t.find((function(t){return t.defaultAuthenticator.name===e.authenticator})):t.find((function(t){return t.idp===e.idp})))?s.createElement(l.GI,{wide:!0,style:{minWidth:"200px"},key:n,hoverable:!0,disabled:!(null!==(i=f)&&void 0!==i&&i.authenticators&&f.authenticators instanceof Array&&f.authenticators.length>1),trigger:s.createElement("div",{className:"authenticator-item-wrapper","data-testid":"".concat(C,"-option")},s.createElement(Oo.Z,{fluid:!0,className:"basic-card authenticator-card"},s.createElement(Oo.Z.Content,null,!u&&s.createElement(p.Z,{basic:!0,floating:!0,circular:!0,className:"close-button",size:"mini",onClick:!u&&function(){return r(n,o)},"data-testid":"".concat(C,"-close-button")},s.createElement(l.dn,{transparent:!0,size:"nano",icon:(0,g.s_)().crossIcon})),s.createElement(l.dn,{square:!0,inline:!0,className:"card-image",size:"micro",spaced:"right",floated:"left",icon:f.image,"data-testid":"".concat(C,"-image"),transparent:!0}),s.createElement("span",{"data-testid":"".concat(C,"-option-name")},f.displayName)))),content:s.createElement("div",null,s.createElement(p.Z,{attached:"top"},A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.actions.selectAuthenticator")),s.createElement(L.Z,{"data-testid":"".concat(C,"-authenticator-selection")},null===(c=f)||void 0===c||null===(d=c.authenticators)||void 0===d?void 0:d.map((function(t){return s.createElement(L.Z.Field,{key:t.authenticatorId},s.createElement(ys.Z,{label:t.name,name:t.name,value:t.authenticatorId,checked:t.name===e.authenticator,onChange:function(){return a(n,o,t)}}))}))))}):null}}(e,h,n)})),!u&&s.createElement(l.Qj,{"data-tourid":"add-authentication-options-button",className:"authenticator-item-wrapper",onClick:i},s.createElement(f.Z,{name:"plus"}),A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.actions.addAuthentication"))):!u&&s.createElement(s.Fragment,null,s.createElement(l.Qj,{fluid:!0,"data-tourid":"add-authentication-options-button",onClick:i},s.createElement(f.Z,{name:"plus"}),A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.actions.addAuthentication")),s.createElement(l.$J,{subtitle:[A("console:develop.features.applications.placeholders.emptyAuthenticatorStep.subtitles.0")],"data-testid":"".concat(C,"-empty-placeholder")}))),!u&&m&&v.options&&v.options instanceof Array&&v.options.length>0&&I&&s.createElement("div",{className:"checkboxes-extension"},s.createElement(Z.Z,{label:A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.subjectIdentifierFrom.label"),checked:R,onChange:function(){return E(h+1)},readOnly:R}),s.createElement(Z.Z,{label:A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.attributesFrom.label"),checked:N,onChange:function(){return S(h+1)},readOnly:N}))))};function As(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Os(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?As(Object(n),!0).forEach((function(t){ws(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):As(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Is(e){return function(e){if(Array.isArray(e))return Ls(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Rs(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ts(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||Rs(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rs(e,t){if(e){if("string"==typeof e)return Ls(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ls(e,t):void 0}}function Ls(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Cs.defaultProps={"data-testid":"authentication-step"};var Ns=function(e){var t=e.authenticators,n=e.authenticationSequence,o=e.onIDPCreateWizardTrigger,i=e.onUpdate,d=e.readOnly,p=e.triggerUpdate,f=e.updateSteps,v=e.onAuthenticationSequenceChange,h=e.refreshAuthenticators,S=e["data-testid"],C=(0,c.$)().t,A=(0,u.I0)(),O=(0,u.v9)((function(e){return e.config})),w=(0,u.v9)((function(e){var t;return null===(t=e.identityProvider)||void 0===t?void 0:t.groupedTemplates})),I=Ts((0,s.useState)([]),2),R=I[0],L=I[1],N=Ts((0,s.useState)([]),2),k=N[0],P=N[1],U=Ts((0,s.useState)([]),2),x=U[0],D=U[1],Z=Ts((0,s.useState)([]),2),_=Z[0],j=Z[1],F=Ts((0,s.useState)([]),2),V=F[0],q=F[1],B=Ts((0,s.useState)(1),2),H=B[0],z=B[1],W=Ts((0,s.useState)(1),2),G=W[0],K=W[1],Q=Ts((0,s.useState)(!1),2),$=Q[0],Y=Q[1],X=Ts((0,s.useState)(1),2),J=X[0],ee=X[1],te=Ts((0,s.useState)(!1),2),ne=te[0],oe=te[1],ie=Ts((0,s.useState)(void 0),2),ae=ie[0],re=ie[1],le=Ts((0,s.useState)(!1),2),se=le[0],ce=le[1],ue=(0,s.useRef)(null),de=g.lD.getInstance();(0,s.useEffect)((function(){if(t&&Array.isArray(t)&&t[0]&&t[1]){var e=t[0],n=t[1],o=[],i=[],a=[],r=[];e.forEach((function(e){e.name!==Xt.bQ.BACKUP_CODE_AUTHENTICATOR&&(b.jo.SECOND_FACTOR_AUTHENTICATORS.includes(e.id)?r.push(e):a.push(e))})),n.forEach((function(e){b.jo.SOCIAL_AUTHENTICATORS.includes(e.defaultAuthenticator.authenticatorId)?o.push(e):i.push(e)})),j(r),D(a),L(i),P(o)}}),[t]),(0,s.useEffect)((function(){n&&(q(null==n?void 0:n.steps),z(null==n?void 0:n.subjectStepId),K(null==n?void 0:n.attributeStepId))}),[n]),(0,s.useEffect)((function(){p&&(ye()&&i({attributeStepId:G,requestPathAuthenticators:[],steps:V,subjectStepId:H,type:y.a1.USER_DEFINED}))}),[p]),(0,s.useEffect)((function(){if(null!=ue&&ue.current)try{ue.current.scrollLeft=ue.current.scrollWidth}catch(e){}}),[V]),(0,s.useEffect)((function(){se&&w&&w.length>0&&Ce(w)}),[w,se]),(0,s.useEffect)((function(){Is(V).some((function(e){return!(0,T.Z)(e.options)}))?v(!1,V):v(!0,V)}),[V]);var pe=function(e,t){var n=[].concat(Is(x),Is(R),Is(k),Is(_)).find((function(e){return e.id===t}));if(n){var o=Is(V);e===o.length&&(o.push({id:o.length+1,options:[]}),f(!0));var i=function(e,t){var n,o=t.some((function(t){var n;return t.authenticator===(null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name)})),i=b.jo.EIDP_AUTHENTICATORS.includes(null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name);return o&&i&&(o=t.some((function(t){return t.idp===(null==e?void 0:e.idp)}))),!o||(A((0,r.V_)({description:C("console:develop.features.applications.notifications.duplicateAuthenticationStep.genericError.description"),level:a.QU.WARNING,message:C("console:develop.features.applications.notifications.duplicateAuthenticationStep.genericError.message")})),!1)}(n,o[e].options);if(b.jo.HANDLER_AUTHENTICATORS.includes(t)&&Y(!0),!b.jo.SECOND_FACTOR_AUTHENTICATORS.includes(t)||0!==e&&E.Yw.isSecondFactorAdditionValid(n.defaultAuthenticator.authenticatorId,e,o)){if(m.applicationConfig.signInMethod.authenticatorSelection.customAuthenticatorAdditionValidation(t,e,A)&&i){var l=n.authenticators.find((function(e){return e.authenticatorId===n.defaultAuthenticator.authenticatorId}));o[e].options.push({authenticator:l.name,idp:n.idp}),q(o)}}else A((0,r.V_)({description:C("console:develop.features.applications.notifications.secondFactorAuthenticatorToFirstStep.genericError.description"),level:a.QU.WARNING,message:C("console:develop.features.applications.notifications.secondFactorAuthenticatorToFirstStep.genericError.message")}))}},fe=function(e,t){var n=Is(V),o=Ts(E.Yw.getLeftAndRightSideSteps(e,n),2),i=o[0],a=o[1];if(E.Yw.hasSpecificFactorsInSteps(Is(b.jo.SECOND_FACTOR_AUTHENTICATORS),a)){var r=n[e].options[t],l=E.Yw.countSpecificFactorInSteps(Is(b.jo.SECOND_FACTOR_AUTHENTICATORS),a)===E.Yw.countSpecificFactorInSteps([Xt.bQ.TOTP_AUTHENTICATOR,Xt.bQ.EMAIL_OTP_AUTHENTICATOR],a),s=[].concat(Is(b.jo.FIRST_FACTOR_AUTHENTICATORS),[Xt.bQ.IDENTIFIER_FIRST_AUTHENTICATOR]).includes(r.authenticator),c=[].concat(Is(b.jo.TOTP_HANDLERS),Is(b.jo.EMAIL_OTP_HANDLERS)).includes(r.authenticator),u=E.Yw.getImmediateStepHavingSpecificFactors(b.jo.SECOND_FACTOR_AUTHENTICATORS,n);if(s||c){var d=0,p=0;if(n[e].options.filter((function(e){b.jo.FIRST_FACTOR_AUTHENTICATORS.includes(e.authenticator)&&d++,[].concat(Is(b.jo.TOTP_HANDLERS),Is(b.jo.EMAIL_OTP_HANDLERS)).includes(e.authenticator)&&p++})),l&&p<=1||!l&&d<=1)if(!(l?E.Yw.hasSpecificFactorsInSteps([].concat(Is(b.jo.TOTP_HANDLERS),Is(b.jo.EMAIL_OTP_HANDLERS)),i):E.Yw.hasSpecificFactorsInSteps(b.jo.FIRST_FACTOR_AUTHENTICATORS,i))){var f=Ts(E.Yw.getLeftAndRightSideSteps(u,n),1)[0];if((l?E.Yw.countSpecificFactorInSteps([].concat(Is(b.jo.TOTP_HANDLERS),Is(b.jo.EMAIL_OTP_HANDLERS)),f):E.Yw.countSpecificFactorInSteps(b.jo.FIRST_FACTOR_AUTHENTICATORS,f))<=1)return void me()}}}n[e].options.splice(t,1),q(n)},me=function(){A((0,r.V_)({description:C("console:develop.features.applications.notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.description"),level:a.QU.WARNING,message:C("console:develop.features.applications.notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.message")}))},ve=function(e,t,n){var o=Is(V);o[e].options[t].authenticator=n.name,q(o)},ge=function(e){var t=Is(V);if(t.length<=1)A((0,r.V_)({description:C("console:develop.features.applications.notifications.authenticationStepMin.genericError.description"),level:a.QU.WARNING,message:C("console:develop.features.applications.notifications.authenticationStepMin.genericError.message")}));else{var n=Ts(E.Yw.getLeftAndRightSideSteps(e,t),3),o=n[0],i=n[1],l=n[2],s=E.Yw.hasSpecificFactorsInSteps(b.jo.SECOND_FACTOR_AUTHENTICATORS,i),c=E.Yw.countSpecificFactorInSteps([Xt.bQ.TOTP_AUTHENTICATOR],i),u=E.Yw.countSpecificFactorInSteps(b.jo.SECOND_FACTOR_AUTHENTICATORS,i)+E.Yw.countSpecificFactorInSteps(b.jo.FIRST_FACTOR_AUTHENTICATORS,i);if(s)if(!(u===c?E.Yw.hasSpecificFactorsInSteps(b.jo.TOTP_HANDLERS,o):E.Yw.hasSpecificFactorsInSteps(b.jo.FIRST_FACTOR_AUTHENTICATORS,o)||E.Yw.checkImmediateStepHavingSpecificFactors(b.jo.FIRST_FACTOR_AUTHENTICATORS,l)))return void A((0,r.V_)({description:C("console:develop.features.applications.notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.description"),level:a.QU.WARNING,message:C("console:develop.features.applications.notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.message")}));t.splice(e,1),t.forEach((function(e,t){return e.id=t+1})),q(t),f(!1)}},he=function(e){z(e)},be=function(e){K(e)},ye=function(){var e=Is(V);return e.find((function(e){return(0,T.Z)(e.options)}))?(A((0,r.V_)({description:C("console:develop.features.applications.notifications.emptyAuthenticationStep.genericError.description"),level:a.QU.WARNING,message:C("console:develop.features.applications.notifications.emptyAuthenticationStep.genericError.message")})),!1):1!==e.length||1!==e[0].options.length||e[0].options[0].authenticator!==Xt.bQ.IDENTIFIER_FIRST_AUTHENTICATOR||(A((0,r.V_)({description:C("console:develop.features.applications.notifications.updateOnlyIdentifierFirstError.description"),level:a.QU.WARNING,message:C("console:develop.features.applications.notifications.updateOnlyIdentifierFirstError.message")})),!1)},Ee=function(e,t,n){var o;return(0,T.Z)(e)?[]:null===(o=O.ui)||void 0===o||!o.hiddenAuthenticators||!Array.isArray(O.ui.hiddenAuthenticators)||O.ui.hiddenAuthenticators.length<1?e:e.filter((function(e){return!O.ui.hiddenAuthenticators.includes(e.name)})).map((function(e){return Os(Os({},e),{},{category:t,categoryDisplayName:n})}))},Se=function(){if(void 0===w){var e=O.ui.identityProviderTemplateLoadingStrategy?O.ui.identityProviderTemplateLoadingStrategy===Xt.w7.REMOTE:Xt.bQ.DEFAULT_IDP_TEMPLATE_LOADING_STRATEGY===Xt.w7.REMOTE;Xt.b9.getIdentityProviderTemplates(e).finally((function(){ce(!0)}))}else Ce(w)},Ce=function(e){Xt.b9.categorizeTemplates(e).then((function(e){var t=[];e.filter((function(e){e.templates=(0,ns.Z)(e.templates,["comingSoon"],["desc"]),e.templates.filter((function(e){null!=e&&e.tags&&Array.isArray(e.tags)&&e.tags.length>0&&(t=(0,M.Z)(t,e.tags))}))})),re(e),ce(!1)})).catch((function(){re([]),ce(!1)}))};return s.createElement("div",{className:"authentication-flow-wrapper","data-testid":S},s.createElement("div",{className:"authentication-flow-section timeline"},s.createElement("div",{className:"timeline-button start"},s.createElement(l.dn,{size:"x50",transparent:!0,icon:(0,lt.m9)().startButton})),s.createElement("div",{className:"authentication-steps-section",ref:ue},V&&V instanceof Array&&V.length>0?V.map((function(e,t){return s.createElement(s.Fragment,{key:t},s.createElement(Cs,{authenticators:[].concat(Is(x),Is(R),Is(k),Is(_)),onStepDelete:ge,onStepOptionAuthenticatorChange:ve,onAddAuthenticationClick:function(){oe(!0),ee(t)},onStepOptionDelete:fe,showStepMeta:V.length>1,showStepDeleteAction:V.length>1,step:e,stepIndex:t,readOnly:d,subjectStepId:H,attributeStepId:G,onAttributeCheckboxChange:be,onSubjectCheckboxChange:he,"data-testid":"".concat(S,"-authentication-step-").concat(t)}))})):null),!d&&s.createElement("div",{className:"timeline-button add"},s.createElement(l.GI,{trigger:s.createElement("div",null,s.createElement(l.dn,{link:!0,transparent:!0,size:"mini",fill:"primary",icon:(0,lt.m9)().addButton,onClick:function(){var e=Is(V);e.push({id:e.length+1,options:[]}),de.publish("application-sign-in-method-click-add-new-step"),q(e),f(!0)},"data-tourid":"add-new-step-button"})),position:"left center",content:"Add a new authentication step"})),s.createElement("div",{className:"timeline-button done"},s.createElement(l.dn,{size:"x50",transparent:!0,icon:(0,lt.m9)().doneButton}))),ne&&s.createElement(bs,{refreshAuthenticators:h,authenticationSteps:V,allowSocialLoginAddition:!0,currentStep:J,open:ne,onModalSubmit:function(e){e.map((function(e){pe(J,e.id)})),oe(!1)},onClose:function(){return oe(!1)},header:C("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.heading"),authenticators:[].concat(Is(Ee(x,Xt.Xi.LOCAL,C(Xt.Cr.getAuthenticatorTypeDisplayName(Xt.Xi.LOCAL)))),Is(Ee(k,Xt.Xi.SOCIAL,C(Xt.Cr.getAuthenticatorTypeDisplayName(Xt.Xi.SOCIAL)))),Is(Ee(_,Xt.Xi.SECOND_FACTOR,C(Xt.Cr.getAuthenticatorTypeDisplayName(Xt.Xi.SECOND_FACTOR)))),Is(Ee(R,Xt.Xi.ENTERPRISE,C(Xt.Cr.getAuthenticatorTypeDisplayName(Xt.Xi.ENTERPRISE))))),showStepSelector:!1,stepCount:V.length,onAddNewClick:Se,onIDPCreateWizardTrigger:o,categorizedIDPTemplates:ae,subjectStepId:H,attributeStepId:G}),$&&s.createElement(l.cV,{onClose:function(){return Y(!1)},type:"warning",open:$,primaryAction:C("common:confirm"),secondaryAction:C("common:cancel"),onPrimaryActionClick:function(){return Y(!1)},"data-testid":"".concat(S,"-handler-disclaimer-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(S,"-delete-confirmation-modal-header")},C("console:develop.features.applications.confirmations.handlerAuthenticatorAddition.header")),s.createElement(l.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(S,"-delete-confirmation-modal-message")},C("console:develop.features.applications.confirmations.handlerAuthenticatorAddition.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(S,"-delete-confirmation-modal-content")},C("console:develop.features.applications.confirmations.handlerAuthenticatorAddition.content"))))};Ns.defaultProps={"data-testid":"step-based-flow"};const ks=JSON.parse('{"steps":[{"id":1,"options":[{"idp":"LOCAL","authenticator":"BasicAuthenticator"}]}]}');function Ps(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ps(Object(n),!0).forEach((function(t){Us(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ps(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Us(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ds(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ds(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ds(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Zs=function(e){var t,n=e.appId,o=e.authenticators,i=e.authenticationSequence,d=e.clientId,p=e.isLoading,m=e.setIsLoading,v=e.onIDPCreateWizardTrigger,b=e.onReset,y=e.onUpdate,S=e.readOnly,C=e.refreshAuthenticators,A=e["data-testid"],O=(0,c.$)().t,w=(0,l.fQ)().getLink,I=(0,u.I0)(),T=(0,u.v9)((function(e){return e.config})),R=xs((0,s.useState)(i),2),L=R[0],k=R[1],P=xs((0,s.useState)(!1),2),M=P[0],x=P[1],D=xs((0,s.useState)(void 0),2),Z=D[0],_=D[1],j=xs((0,s.useState)(void 0),2),F=j[0],V=j[1],q=xs((0,s.useState)(void 0),2),B=q[0],H=q[1],z=xs((0,s.useState)(1),2),W=z[0],G=z[1],K=xs((0,s.useState)(!0),2),Q=K[0],$=K[1],Y=xs((0,s.useState)(!1),2),X=Y[0],J=Y[1],ee=xs((0,s.useState)(),2),te=ee[0],ne=ee[1],oe=xs((0,s.useState)(void 0),2),ie=oe[0],ae=oe[1],re=g.lD.getInstance();(0,s.useEffect)((function(){var e=E.Yw.isConnectionsJITUPConflictWithMFA({federatedAuthenticators:o&&o[1],steps:te,subjectStepId:null==i?void 0:i.subjectStepId});ae(e)}),[W,o,te]),(0,s.useEffect)((function(){M&&x(!1)}),[M]),(0,s.useEffect)((function(){ue()}),[]),(0,s.useEffect)((function(){i&&null!=i&&i.steps&&Array.isArray(i.steps)&&G(i.steps.length)}),[i]);var le,se,ce=function(e,t){var o;o=t?{authenticationSequence:Ms(Ms({},ks),{},{requestPathAuthenticators:B,script:""})}:{authenticationSequence:Ms(Ms({},e),{},{requestPathAuthenticators:B,script:Z})},m(!0),(0,h.bz)(n,o).then((function(){I((0,r.V_)({description:O("console:develop.features.applications.notifications.updateAuthenticationFlow.success.description"),level:a.QU.SUCCESS,message:O("console:develop.features.applications.notifications.updateAuthenticationFlow.success.message")})),y(n)})).catch((function(e){var t;e.response&&"APP-60001"===(null===(t=e.response.data)||void 0===t?void 0:t.code)?I((0,r.V_)({description:s.createElement("p",null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.notifications.conditionalScriptLoopingError.description"},"Looping constructs such as ",s.createElement(l.EK,null,"for"),", ",s.createElement(l.EK,null,"while")," and,",s.createElement(l.EK,null,"forEach")," are not allowed in the conditional authentication script.")),level:a.QU.ERROR,message:O("console:develop.features.applications.notifications.conditionalScriptLoopingError.message")})):e.response&&e.response.data&&e.response.data.description?I((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:O("console:develop.features.applications.notifications.updateAuthenticationFlow.error.message")})):I((0,r.V_)({description:O("console:develop.features.applications.notifications.updateAuthenticationFlow.genericError.description"),level:a.QU.ERROR,message:O("console:develop.features.applications.notifications.updateAuthenticationFlow.genericError.message")}))})).finally((function(){m(!1)}))},ue=function(){(0,h.fF)().then((function(e){V(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.detail?I((0,r.V_)({description:O("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.notifications.getRequestPathAuthenticators.error.description",{description:e.response.data.description}),level:a.QU.ERROR,message:O("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.notifications.getRequestPathAuthenticators.error.message")})):I((0,r.V_)({description:O("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.notifications.getRequestPathAuthenticators.genericError.description"),level:a.QU.ERROR,message:O("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.notifications.getRequestPathAuthenticators.genericError.message")}))}))},de=function(){E.w1.isEmptyScript(Z)&&(_(E.w1.generateScript(W+1).join("\n")),$(!0)),re.compute((function(){var e={"script-based":!E.w1.isDefaultScript(Z,W),"step-based":[]};te.forEach((function(t){var n={};Array.isArray(null==t?void 0:t.options)&&t.options.length>0&&(t.options.forEach((function(e,t){n[t]=(0,Vo.Z)(null==e?void 0:e.authenticator)})),e["step-based"].push(n))})),re.publish("application-sign-in-method-click-update-button",{"client-id":d,type:e})})),x(!0)},pe=s.createElement(s.Fragment,null,s.createElement(l.X6,{as:"h4"},O("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.title")),s.createElement(l.kW,null,O("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.subTitle")),s.createElement(qe.Es,null,s.createElement(N.Z,null,s.createElement(N.Z.Row,{columns:1},s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(qe.gN,{name:"requestPathAuthenticators",label:"",type:"checkbox",required:!1,value:null==i?void 0:i.requestPathAuthenticators,requiredErrorMessage:"",children:null==F?void 0:F.map((function(e){return{label:e.displayName,value:e.name}})),listen:function(e){H(e.get("requestPathAuthenticators"))},readOnly:S,"data-testid":"".concat(A,"-request-path-authenticators")}))))));return s.createElement("div",null,s.createElement("div",null,s.createElement(l.X6,{as:"h4",className:"display-inline-block"},O("console:develop.features.applications.edit.sections.signOnMethod.sections.customization.heading")),!S&&s.createElement("div",{className:"display-inline-block floated right"},s.createElement(l.Qj,{className:"pr-0",onClick:function(){re.publish("application-revert-sign-in-method-default",{"client-id":d}),ce(null,!0),b()}},s.createElement(f.Z,{name:"refresh"}),O("console:develop.features.applications.edit.sections.signOnMethod.sections.customization.revertToDefaultButton.label")),s.createElement(l.kW,{inline:!0,popup:!0},O("console:develop.features.applications.edit.sections.signOnMethod.sections.customization.revertToDefaultButton.hint")))),s.createElement(ge.Z,{hidden:!0}),i.steps[0].options.find((function(e){return e.authenticator===Xt.bQ.FIDO_AUTHENTICATOR}))&&s.createElement(l.v0,{type:"warning",content:s.createElement(s.Fragment,null,s.createElement(U.c,{i18nKey:O("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.usernameless.info")},"To sign in with passwordless login, your users should have their FIDO2 security keys or biometrics registered via My Account."),s.createElement(l.eb,{link:w("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},O("common:learnMore")))}),s.createElement(Ns,{refreshAuthenticators:C,authenticators:o,authenticationSequence:L,isLoading:p,onUpdate:ce,triggerUpdate:M,readOnly:S,"data-testid":"".concat(A,"-step-based-flow"),updateSteps:function(e){G(e?W+1:W-1)},onIDPCreateWizardTrigger:v,onAuthenticationSequenceChange:function(e,t){J(e),ne(t)}}),s.createElement(ge.Z,{className:"x1",hidden:!0}),null!=ie&&ie.conflicting&&null!=ie&&ie.idpList.length?(le=ie.idpList,se=le.length>1,s.createElement(l.v0,{"data-componentid":"jit-provisioning-mfa-in-sequence-warning-message","data-testid":"jit-provisioning-mfa-in-sequence-warning-message",type:"warning",header:"Warning",content:s.createElement(s.Fragment,null,se?s.createElement(s.Fragment,null,"Currently, Just-in-Time (JIT) user provisioning is ",s.createElement("strong",null,"disabled")," for the following connections:",s.createElement("ul",{className:"mb-3"},null==le?void 0:le.map((function(e,t){var n=e.name;return s.createElement("li",{key:t},s.createElement("strong",null,n))})))):s.createElement(s.Fragment,null,"Currently, Just-in-Time(JIT) user provisioning is disabled for the ",s.createElement("strong",null,le[0].name)," connection."),se?s.createElement(s.Fragment,null,"To use MFA with these connections, ",s.createElement("em",null,"enable JIT provisioning")," or use an ",s.createElement("em",null,"authentication script")," to skip the MFA options for these connections during user login."):s.createElement(s.Fragment,null,"To use MFA with this connection, ",s.createElement("em",null,"enable JIT provisioning")," or use an ",s.createElement("em",null,"authentication script")," to skip the MFA options for this connection during user login."),s.createElement(l.eb,{link:w("develop.connections.edit.advancedSettings.jit")},"Learn More"))})):null,s.createElement(ge.Z,{className:"x2"}),isAdaptiveAuthenticationAvailable&&s.createElement(ts,{authenticationSequence:L,isLoading:p,onTemplateSelect:function(e){if(e){$(!1);var t=Ms({},L);if(e.code&&(t=Ms(Ms({},t),{},{requestPathAuthenticators:B,script:JSON.stringify(e.code)})),e.defaultAuthenticators){for(var n=[],o=0,i=Object.entries(e.defaultAuthenticators);o<i.length;o++){var a=xs(i[o],2),r=a[0],l=a[1];n.push({id:parseInt(r,10),options:l.local.map((function(e){return{authenticator:e,idp:"LOCAL"}}))})}t=Ms(Ms({},t),{},{attributeStepId:1,steps:n,subjectStepId:1})}k(t)}},onScriptChange:function(e){_(e)},readOnly:S,"data-testid":"".concat(A,"-script-based-flow"),authenticationSteps:W,isDefaultScript:Q,onAdaptiveScriptReset:function(){return $(!0)}}),!1===(null==T||null===(t=T.ui)||void 0===t?void 0:t.isRequestPathAuthenticationEnabled)?null:F&&pe,S?null:s.createElement(s.Fragment,null,s.createElement(ge.Z,{hidden:!0}),s.createElement(l.KM,{onClick:de,"data-testid":"".concat(A,"-update-button"),disabled:X||p,loading:p},O("common:update"))))};Zs.defaultProps={"data-testid":"sign-in-method-customization"};var _s=function(e){var t,n,o=e.isLoading,i=e.onLoginFlowSelect,a=e.hiddenOptions,r=e["data-testid"],d=e.clientId,p=(0,c.$)().t,f=(0,l.kH)().isMobileViewport,m=(0,u.v9)((function(e){return e.config})),v=g.lD.getInstance();return s.createElement(j.Z,{basic:!0,loading:o,"data-testid":r,className:"sign-in-method-landing"},s.createElement(N.Z,null,s.createElement(N.Z.Row,null,s.createElement(N.Z.Column,{width:16},s.createElement(l.X6,{as:"h2",textAlign:f?"center":"left"},p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.heading")))),s.createElement(N.Z.Row,null,s.createElement(N.Z.Column,{computer:8,tablet:16,mobile:16,className:"flow-options-column"},s.createElement("div",{className:"pr-5 pl-5"},!a.includes(y.Tb.DEFAULT)&&s.createElement(s.Fragment,null,s.createElement(l.X6,{as:"h4"},p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.headings.default")),s.createElement(l.rJ,{fluid:!0,"data-testid":"basic-configuration-flow-card",image:(0,lt.C4)().basic,imageSize:"mini",header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.defaultConfig.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.defaultConfig.description"),onClick:function(){v.publish("application-begin-sign-in-default-configuration",{"client-id":d}),i(y.Tb.DEFAULT)}})),s.createElement(l.X6,{as:"h4"},p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.headings.multiFactorLogin")),!a.includes(y.Tb.SECOND_FACTOR_TOTP)&&s.createElement(l.rJ,{fluid:!0,"data-testid":"totp-mfa-flow-card",image:(0,lt.C4)().totp,imageSize:"mini",header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.totp.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.totp.description"),onClick:function(){v.publish("application-begin-sign-in-totp-mfa",{"client-id":d}),i(y.Tb.SECOND_FACTOR_TOTP)}}),!a.includes(y.Tb.SECOND_FACTOR_EMAIL_OTP)&&s.createElement(l.rJ,{fluid:!0,"data-testid":"email-otp-mfa-flow-card",image:(0,lt.C4)().emailOTP,imageSize:"mini",header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.emailOTP.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.emailOTP.description"),onClick:function(){v.publish("application-begin-sign-in-email-otp-mfa",{"client-id":d}),i(y.Tb.SECOND_FACTOR_EMAIL_OTP)}}),!a.includes(y.Tb.SECOND_FACTOR_SMS_OTP)&&s.createElement(l.rJ,{fluid:!0,"data-testid":"sms-otp-mfa-flow-card",image:(0,lt.C4)().smsOTP,imageSize:"mini",header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.smsOTP.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.smsOTP.description"),onClick:function(){v.publish("application-begin-sign-in-sms-otp-mfa",{"client-id":d}),i(y.Tb.SECOND_FACTOR_SMS_OTP)}}))),s.createElement(N.Z.Column,{computer:8,tablet:16,mobile:16,className:"flow-options-column"},s.createElement("div",{className:"pr-5 pl-5"},s.createElement(l.X6,{as:"h4"},p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.headings.passwordlessLogin")),!(null!=a&&a.includes(y.Tb.FIDO_LOGIN))&&!(null!==(t=m.ui)&&void 0!==t&&t.hiddenAuthenticators.includes(Xt.bQ.FIDO_AUTHENTICATOR))&&s.createElement(l.rJ,{fluid:!0,"data-testid":"usernameless-flow-card",image:(0,lt.C4)().fido,imageSize:"mini",header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.usernameless.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.usernameless.description"),onClick:function(){v.publish("application-begin-sign-in-biometrics-password-less",{"client-id":d}),i(y.Tb.FIDO_LOGIN)}}),!(null!=a&&a.includes(y.Tb.MAGIC_LINK))&&!(null!==(n=m.ui)&&void 0!==n&&n.hiddenAuthenticators.includes(Xt.bQ.MAGIC_LINK_AUTHENTICATOR))&&s.createElement(l.rJ,{fluid:!0,"data-testid":"magic-link-flow-card",image:(0,lt.C4)().magicLink,imageSize:"mini",header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.magicLink.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.magicLink.description"),onClick:function(){v.publish("application-begin-sign-in-magiclink-password-less",{"client-id":d}),i(y.Tb.MAGIC_LINK)}}),(!a.includes(y.Tb.GOOGLE_LOGIN)||!a.includes(y.Tb.FACEBOOK_LOGIN)||!a.includes(y.Tb.GITHUB_LOGIN)||!a.includes(y.Tb.MICROSOFT_LOGIN))&&s.createElement(s.Fragment,null,s.createElement(l.X6,{as:"h4"},p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.headings.socialLogin")),!a.includes(y.Tb.GOOGLE_LOGIN)&&s.createElement(l.rJ,{fluid:!0,"data-testid":"google-login-flow-card",imageSize:"mini",image:(0,lt.C4)().google,header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.google.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.google.description"),onClick:function(){v.publish("application-begin-sign-in-google-social-login",{type:d}),i(y.Tb.GOOGLE_LOGIN)}}),!a.includes(y.Tb.GITHUB_LOGIN)&&s.createElement(l.rJ,{fluid:!0,"data-testid":"github-login-flow-card",imageSize:"mini",image:(0,lt.C4)().github,header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.github.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.github.description"),onClick:function(){return i(y.Tb.GITHUB_LOGIN)}}),!a.includes(y.Tb.FACEBOOK_LOGIN)&&s.createElement(l.rJ,{fluid:!0,"data-testid":"facebook-login-flow-card",imageSize:"mini",image:(0,lt.C4)().facebook,header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.facebook.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.facebook.description"),onClick:function(){return i(y.Tb.FACEBOOK_LOGIN)}}),!a.includes(y.Tb.MICROSOFT_LOGIN)&&s.createElement(l.rJ,{fluid:!0,"data-testid":"microsoft-login-flow-card",imageSize:"mini",image:(0,lt.C4)().microsoft,header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.microsoft.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.microsoft.description"),onClick:function(){v.publish("application-begin-sign-in-microsoft-social-login",{type:d}),i(y.Tb.MICROSOFT_LOGIN)}})))))))};_s.defaultProps={"data-testid":"sign-in-method-landing",hiddenOptions:[y.Tb.FACEBOOK_LOGIN,y.Tb.GITHUB_LOGIN]};const js=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"FacebookAuthenticator","idp":"<FACEBOOK_IDP>"}]}]}'),Fs=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GithubAuthenticator","idp":"<GITHUB_IDP>"}]}]}'),Vs=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GoogleOIDCAuthenticator","idp":"<GOOGLE_IDP>"}]}]}'),qs=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"MagicLinkAuthenticator","idp":"LOCAL"}]}]}'),Bs=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"OpenIDConnectAuthenticator","idp":"Microsoft"}]}]}'),Hs=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"email-otp-authenticator","idp":"LOCAL"}]}]}'),zs=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"sms-otp-authenticator","idp":"LOCAL"}]}]}'),Ws=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"totp","idp":"LOCAL"}]}]}'),Gs=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"},{"authenticator":"FIDOAuthenticator","idp":"LOCAL"}]}]}');var Ks=n(34118);function Qs(e){return function(e){if(Array.isArray(e))return tc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ec(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ys(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$s(Object(n),!0).forEach((function(t){Xs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Js(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||ec(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ec(e,t){if(e){if("string"==typeof e)return tc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tc(e,t):void 0}}function tc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var nc=null,oc=function(e){var t=e.appId,n=e.authenticationSequence,o=e.clientId,i=e.isLoading,a=e.onUpdate,r=e.readOnly,u=e["data-testid"],d=(0,c.$)().t,p=Js((0,s.useState)(void 0),2),f=p[0],m=p[1],v=Js((0,s.useState)(void 0),2),h=v[0],S=v[1],C=Js((0,s.useState)(void 0),2),A=C[0],O=C[1],w=Js((0,s.useState)(void 0),2),I=w[0],R=w[1],L=Js((0,s.useState)(void 0),2),N=L[0],k=L[1],P=Js((0,s.useState)(void 0),2),M=P[0],x=P[1],D=Js((0,s.useState)(void 0),2),Z=D[0],_=D[1],j=Js((0,s.useState)(!1),2),F=j[0],V=j[1],q=Js((0,s.useState)(!0),2),B=q[0],H=q[1],z=Js((0,s.useState)(!1),2),W=z[0],G=z[1],K=Js((0,s.useState)(void 0),2),Q=K[0],$=K[1],Y=Js((0,s.useState)(n),2),X=Y[0],J=Y[1],ee=Js((0,s.useState)(void 0),2),te=ee[0],ne=ee[1],oe=Js((0,s.useState)(void 0),2),ie=oe[0],ae=oe[1],re=Js((0,s.useState)(!1),2),le=re[0],se=re[1],ce=Js((0,s.useState)(void 0),2),ue=ce[0],de=ce[1],pe=g.lD.getInstance();(0,s.useEffect)((function(){fe().finally(),Ve.LocalStorageUtils.setValueInLocalStorage(b.jo.AUTHENTICATORS_LOCAL_STORAGE_KEY,JSON.stringify([]))}),[]),(0,s.useEffect)((function(){void 0!==n&&J(n)}),[n]);var fe=function(e){return H(!0),Xt.zc.getAllAuthenticators().then((function(t){var n=[],o=[],i=[],a=[];t[1].filter((function(e){e.defaultAuthenticator.authenticatorId===Xt.bQ.GOOGLE_OIDC_AUTHENTICATOR_ID?n.push(e):e.defaultAuthenticator.authenticatorId===Xt.bQ.GITHUB_AUTHENTICATOR_ID?o.push(e):e.defaultAuthenticator.authenticatorId===Xt.bQ.FACEBOOK_AUTHENTICATOR_ID?i.push(e):e.defaultAuthenticator.authenticatorId===Xt.bQ.MICROSOFT_AUTHENTICATOR_ID&&e.description===Ks.description&&a.push(e)})),R(n),k(o),x(i),_(a),O(t),e&&e(t,n,o,i,a)})).finally((function(){H(!1)}))},me=function(e,t,o,i,a){if(e)if(e===y.Tb.DEFAULT)pe.publish("application-sign-in-method-click-add",{type:"default"}),J(Ys(Ys({},n),(0,Cn.Z)(ks)));else if(e===y.Tb.SECOND_FACTOR_TOTP)pe.publish("application-sign-in-method-click-add",{type:"second-factor-totp"}),J(Ys(Ys({},n),(0,Cn.Z)(Ws)));else if(e===y.Tb.SECOND_FACTOR_EMAIL_OTP)pe.publish("application-sign-in-method-click-add",{type:"second-factor-email-otp"}),J(Ys(Ys({},n),(0,Cn.Z)(Hs)));else if(e===y.Tb.SECOND_FACTOR_SMS_OTP)pe.publish("application-sign-in-method-click-add",{type:"second-factor-sms-otp"}),J(Ys(Ys({},n),(0,Cn.Z)(zs)));else if(e===y.Tb.FIDO_LOGIN)pe.publish("application-sign-in-method-click-add",{type:"first-factor-fido"}),J(Ys(Ys({},n),(0,Cn.Z)(Gs)));else if(e===y.Tb.GOOGLE_LOGIN){if(pe.publish("application-sign-in-method-click-add",{type:"google-login"}),S(y.Tb.GOOGLE_LOGIN),(0,T.Z)(t))return void V(!0);if(t.length>1)return $(t[0]),void G(!0);1===t.length&&J(Ys(Ys({},n),ve(t[0].idp,y.Tb.GOOGLE_LOGIN)))}else if(e===y.Tb.GITHUB_LOGIN){if(pe.publish("application-sign-in-method-click-add",{type:"github-login"}),S(y.Tb.GITHUB_LOGIN),(0,T.Z)(o))return void V(!0);if(o.length>1)return $(o[0]),void G(!0);1===o.length&&J(Ys(Ys({},n),ve(o[0].idp,y.Tb.GITHUB_LOGIN)))}else if(e===y.Tb.FACEBOOK_LOGIN){if(pe.publish("application-sign-in-method-click-add",{type:"facebook-login"}),S(y.Tb.FACEBOOK_LOGIN),(0,T.Z)(i))return void V(!0);if(i.length>1)return $(i[0]),void G(!0);1===i.length&&J(Ys(Ys({},n),ve(i[0].idp,y.Tb.FACEBOOK_LOGIN)))}else if(e===y.Tb.MICROSOFT_LOGIN){if(pe.publish("application-sign-in-method-click-add",{type:"microsoft-login"}),S(y.Tb.MICROSOFT_LOGIN),(0,T.Z)(a))return void V(!0);if(a.length>1)return $(a[0]),void G(!0);1===a.length&&J(Ys(Ys({},n),ve(a[0].idp,y.Tb.MICROSOFT_LOGIN)))}else e===y.Tb.MAGIC_LINK&&(pe.publish("application-sign-in-method-click-add",{type:"magic-link-login"}),J(Ys(Ys({},n),(0,Cn.Z)(qs))));else J(n);m(e)},ve=function(e,t){var n={},o=null;return t===y.Tb.GOOGLE_LOGIN?(n=(0,Cn.Z)(Vs),o=Xt.bQ.GOOGLE_OIDC_AUTHENTICATOR_NAME):t===y.Tb.GITHUB_LOGIN?(n=(0,Cn.Z)(Fs),o=Xt.bQ.GITHUB_AUTHENTICATOR_NAME):t===y.Tb.FACEBOOK_LOGIN?(n=(0,Cn.Z)(js),o=Xt.bQ.FACEBOOK_AUTHENTICATOR_NAME):t===y.Tb.MICROSOFT_LOGIN&&(n=(0,Cn.Z)(Bs),o=Xt.bQ.MICROSOFT_AUTHENTICATOR_NAME),n.steps[0].options.forEach((function(t){t.authenticator===o&&(t.idp=e)})),n};return s.createElement(l.pJ,{className:"sign-on-methods-tab-content",padded:"very"},i||B?s.createElement(l.pO,{inline:"centered",active:!0}):r||f||!function(){var e,t,o;if(1!==(null==n||null===(e=n.steps)||void 0===e?void 0:e.length)||1!==(null===(t=n.steps[0].options)||void 0===t?void 0:t.length))return!1;var i=n.steps[0].options[0].authenticator===Xt.bQ.BASIC_AUTHENTICATOR,a=!n.script||E.w1.isDefaultScript(n.script,null===(o=n.steps)||void 0===o?void 0:o.length);return i&&a&&n.type===y.a1.DEFAULT}()?s.createElement(s.Fragment,null,s.createElement(Zs,{refreshAuthenticators:function(){return fe()},appId:t,authenticators:A,clientId:o,authenticationSequence:X,onIDPCreateWizardTrigger:function(e,t,n){ne(n),de("EXTERNAL"),ae(e),V(!1),se(!0),nc=t},onUpdate:a,onReset:function(){m(void 0),S(void 0),V(!1),G(!1),$(void 0),J(n),ae(void 0),de(void 0),se(!1)},"data-testid":u,isLoading:B,setIsLoading:H,readOnly:r})):s.createElement(_s,{readOnly:r,clientId:o,onLoginFlowSelect:function(e){me(e,I,N,M,Z)},"data-testid":"".concat(u,"-landing")}),le&&function(){if(ie)return s.createElement(Xt.zy,{open:le,type:ie,selectedTemplate:te,onIDPCreate:function(){fe((function(e,t,n,o,i){ae(void 0),se(!1),nc&&nc(),"INTERNAL"===ue&&me(h,t,n,o,i)})).finally()},onWizardClose:function(){ae(void 0),de(void 0),se(!1)}})}(),F&&function(){var e=null,t=null;if(h===y.Tb.GOOGLE_LOGIN)e=Xt.bQ.IDP_TEMPLATE_IDS.GOOGLE,t=Xt.bQ.GOOGLE_OIDC_AUTHENTICATOR_DISPLAY_NAME;else if(h===y.Tb.GITHUB_LOGIN)e=Xt.bQ.IDP_TEMPLATE_IDS.GITHUB,t=Xt.bQ.GITHUB_AUTHENTICATOR_DISPLAY_NAME;else if(h===y.Tb.FACEBOOK_LOGIN)e=Xt.bQ.IDP_TEMPLATE_IDS.FACEBOOK,t=Xt.bQ.FACEBOOK_AUTHENTICATOR_DISPLAY_NAME;else{if(h!==y.Tb.MICROSOFT_LOGIN)return null;e=Xt.bQ.IDP_TEMPLATE_IDS.MICROSOFT,t=Xt.bQ.MICROSOFT_AUTHENTICATOR_DISPLAY_NAME}return s.createElement(l.cV,{type:"info",onClose:function(){return V(!1)},open:F,primaryAction:d("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.primaryButton"),secondaryAction:d("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.secondaryButton"),onSecondaryActionClick:function(){return V(!1)},onPrimaryActionClick:function(){ae(e),V(!1),se(!0),de("INTERNAL")},"data-testid":"".concat(u,"-add-missing-authenticator-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,null,d("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.heading",{authenticator:t})),s.createElement(l.cV.Message,{attached:!0,info:!0},d("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.message",{authenticator:t})),s.createElement(l.cV.Content,null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.body",tOptions:{authenticator:t}},"You do not have an active Social Connection configured with ",s.createElement(l.EK,null," ",t,"Authenticator"),". Click on the ",s.createElement("strong",null,"Configure")," button to register a new",s.createElement(l.EK,null,t," Social Connection")," or navigate to the ",s.createElement("a",{onClick:function(){g.m8.push(g.$x.getPaths().get("IDP"))},className:"external-link link pointing primary"},"Connections")," section manually.")))}(),W&&function(){var e=null,t=[];if(h===y.Tb.GOOGLE_LOGIN)t=Qs(I),e=Xt.bQ.GOOGLE_OIDC_AUTHENTICATOR_DISPLAY_NAME;else if(h===y.Tb.GITHUB_LOGIN)t=Qs(N),e=Xt.bQ.GITHUB_AUTHENTICATOR_DISPLAY_NAME;else if(h===y.Tb.FACEBOOK_LOGIN)t=Qs(M),e=Xt.bQ.FACEBOOK_AUTHENTICATOR_DISPLAY_NAME;else{if(h!==y.Tb.MICROSOFT_LOGIN)return null;t=Qs(Z),e=Xt.bQ.MICROSOFT_AUTHENTICATOR_DISPLAY_NAME}return s.createElement(l.cV,{type:"warning",className:"duplicate-social-authenticator-selection-modal",onClose:function(){return G(!1)},open:W,primaryAction:d("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.primaryButton"),secondaryAction:d("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.secondaryButton"),onSecondaryActionClick:function(){return G(!1)},onPrimaryActionClick:function(){J(Ys(Ys({},n),ve(Q.idp,h))),m(h),G(!1)},"data-testid":"".concat(u,"-duplicate-authenticator-selection-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,null,d("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.heading",{authenticator:e})),s.createElement(l.cV.Message,{attached:!0,warning:!0},d("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.message",{authenticator:e})),s.createElement(l.cV.Content,{scrolling:!0},s.createElement(l.xv,null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.body",tOptions:{authenticator:e}},"You have multiple Social Connections configured with ",s.createElement(l.EK,null,e,"Authenticator"),". Select the desired one from the selection below to proceed.")),s.createElement(ge.Z,{hidden:!0}),s.createElement("div",{className:"authenticator-grid"},t.filter((function(e){return e.name!==Xt.bQ.BACKUP_CODE_AUTHENTICATOR})).map((function(e,t){return s.createElement(l.WL,{key:t,multilineLabel:!0,className:"authenticator-card",size:"tiny",selected:(null==Q?void 0:Q.id)===e.id,image:e.image,label:e.displayName,labelEllipsis:!0,"data-testid":"".concat(u,"-authenticator-").concat(e.name),onClick:function(){return $(e)}})})))))}())};function ic(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ac(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ac(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}oc.defaultProps={"data-testid":"sign-on-methods"};var rc=function(e){var t,n,o,d,p,f,v,g,b,y,E=e.appId,S=e.name,C=e.description,A=e.discoverability,O=e.featureConfig,w=e.hiddenFields,I=e.imageUrl,T=e.accessUrl,R=e.isLoading,L=e.onDelete,N=e.onUpdate,k=e.readOnly,P=e.isManagementApp,M=e.application,U=e["data-testid"],x=(0,u.I0)(),D=(0,c.$)().t,Z=(0,u.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),_=(0,u.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t?void 0:t.ui})),j=ic((0,s.useState)(!1),2),F=j[0],V=j[1],q=ic((0,s.useState)(!1),2),B=q[0],H=q[1],z=ic((0,s.useState)(!1),2),W=z[0],G=z[1];return R?s.createElement(l.pJ,{padded:"very"},s.createElement(l.pO,{inline:"centered",active:!0})):s.createElement(s.Fragment,null,s.createElement(l.pJ,{padded:"very"},s.createElement(pn,{name:S,appId:E,application:M,description:C,discoverability:A,onSubmit:function(e){H(!0),(0,h.hN)(e).then((function(){x((0,r.V_)({description:D("console:develop.features.applications.notifications.updateApplication.success.description"),level:a.QU.SUCCESS,message:D("console:develop.features.applications.notifications.updateApplication.success.message")})),N(E)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?x((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.updateApplication.error.message")})):x((0,r.V_)({description:D("console:develop.features.applications.notifications.updateApplication.genericError.description"),level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.updateApplication.genericError.message")}))})).finally((function(){H(!1)}))},imageUrl:I,accessUrl:T,hiddenFields:w,readOnly:k||!(0,i.Xr)(null==O?void 0:O.applications,null==O||null===(t=O.applications)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.update,Z),hasRequiredScope:(0,i.Xr)(null==O?void 0:O.applications,null==O||null===(o=O.applications)||void 0===o||null===(d=o.scopes)||void 0===d?void 0:d.update,Z),"data-testid":"".concat(U,"-form"),isSubmitting:B,isManagementApp:P})),s.createElement(ge.Z,{hidden:!0}),(0,i.Xr)(null==O?void 0:O.applications,null==O||null===(p=O.applications)||void 0===p||null===(f=p.scopes)||void 0===f?void 0:f.update,Z)?_.systemAppsIdentifiers.includes(S)?null:m.applicationConfig.editApplication.showDangerZone(M)&&(0,i.Xr)(null==O?void 0:O.applications,null==O||null===(v=O.applications)||void 0===v||null===(g=v.scopes)||void 0===g?void 0:g.delete,Z)?s.createElement(l.v9,{sectionHeader:D("console:develop.features.applications.dangerZoneGroup.header")},(0,i.Xr)(null==O?void 0:O.applications,null==O||null===(b=O.applications)||void 0===b||null===(y=b.scopes)||void 0===y?void 0:y.delete,Z)&&s.createElement(l.cN,{actionTitle:D("console:develop.features.applications.dangerZoneGroup.deleteApplication.actionTitle"),header:D("console:develop.features.applications.dangerZoneGroup.deleteApplication.header"),subheader:D("console:develop.features.applications.dangerZoneGroup.deleteApplication.subheader"),onActionClick:function(){return V(!0)},"data-testid":"".concat(U,"-danger-zone")})):null:null,s.createElement(l.cV,{onClose:function(){return V(!1)},type:"negative",open:F,assertionHint:D("console:develop.features.applications.confirmations.deleteApplication.assertionHint"),assertionType:"checkbox",primaryAction:D("common:confirm"),secondaryAction:D("common:cancel"),onSecondaryActionClick:function(){return V(!1)},onPrimaryActionClick:function(){return G(!0),void(0,h.rw)(E).then((function(){G(!1),x((0,r.V_)({description:D("console:develop.features.applications.notifications.deleteApplication.success.description"),level:a.QU.SUCCESS,message:D("console:develop.features.applications.notifications.deleteApplication.success.message")})),V(!1),L()})).catch((function(e){G(!1),e.response&&e.response.data&&e.response.data.description?x((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.deleteApplication.error.message")})):x((0,r.V_)({description:D("console:develop.features.applications.notifications.deleteApplication.genericError.description"),level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.deleteApplication.genericError.message")}))}))},"data-testid":"".concat(U,"-application-delete-confirmation-modal"),closeOnDimmerClick:!1,primaryActionLoading:W},s.createElement(l.cV.Header,{"data-testid":"".concat(U,"-application-delete-confirmation-modal-header")},D("console:develop.features.applications.confirmations.deleteApplication.header")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(U,"-application-delete-confirmation-modal-message")},D("console:develop.features.applications.confirmations.deleteApplication.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(U,"-application-delete-confirmation-modal-content")},D("console:develop.features.applications.confirmations.deleteApplication.content"))))};rc.defaultProps={"data-testid":"application-general-settings"};var lc=n(58515);(function(e){var t,n=e.setProtocol,o=e.availableProtocols,i=e.setSAMLProtocol,a=e["data-testid"],r=(0,c.$)().t;return s.createElement(l.pJ,{basic:!0,"data-testid":a},s.createElement(N.Z,null,(t=function(){var e=[];if(o.includes(y.AI.OIDC)){var t={description:E.yf.resolveProtocolDescription(y.AI.OIDC),image:(0,lt.B0)().oidc,name:E.yf.resolveProtocolDisplayName(y.AI.OIDC),protocol:y.AI.OIDC};e.push(t)}if(o.includes(y.AI.SAML)){var n={description:"XML-based open security standard framework",image:(0,lt.B0)().saml,name:E.yf.resolveProtocolDisplayName(y.AI.SAML),protocol:y.AI.SAML};e.push(n)}if(o.includes(y.AI.WS_FEDERATION)){var i={description:E.yf.resolveProtocolDescription(y.AI.WS_FEDERATION),image:(0,lt.B0)()["passive-sts"],name:E.yf.resolveProtocolDisplayName(y.AI.WS_FEDERATION),protocol:y.AI.WS_FEDERATION};e.push(i)}return o.map((function(t){if(t!==y.AI.OIDC&&t!==y.AI.SAML&&t!==y.AI.WS_FEDERATION){var n={description:t,image:s.createElement(l.Xo,{name:t,size:"tiny","data-testid":"".concat(a,"-item-image-inner")}),name:t,protocol:t};e.push(n)}})),e}(),s.createElement(N.Z.Row,{className:"protocol-selection-wrapper check",textAlign:"center"},s.createElement(N.Z.Column,{width:16},s.createElement("div",{"data-testid":a},s.createElement(l.X6,{as:"h2",className:"mb-1",compact:!0},r("console:develop.features.applications.edit.sections.access.protocolLanding.heading")),s.createElement(l.xv,{muted:!0},r("console:develop.features.applications.edit.sections.access.protocolLanding.subHeading")),s.createElement(ge.Z,{hidden:!0}),!(0,T.Z)(t)&&Array.isArray(t)&&t.length>0&&s.createElement(Oo.Z.Group,{centered:!0,className:"tech-selection-cards mt-3",itemsPerRow:9},t.map((function(e,t){var o;return s.createElement(lc.Xy,{key:t,raised:!1,"data-testid":null!==(o=e["data-testid"])&&void 0!==o?o:"technology-card-".concat((0,Vo.Z)(e.name)),onClick:e.protocol===y.AI.SAML?i:function(){return n(e.protocol)},displayName:e.name,overlayOpacity:.6,image:e.image,className:"protocol-card",showOption:e.protocol===y.AI.SAML})})))))))))}).defaultProps={"data-testid":"protocol-landing"};var sc=function(e){var t,n=e.setSAMLProtocol,o=e["data-testid"];return s.createElement(l.pJ,{basic:!0,"data-testid":o},s.createElement(N.Z,null,(t=[{image:(0,lt.pr)().manual,mode:y.T6.MANUAL,name:E.yf.resolveSAMLConfigModeDisplayName(y.T6.MANUAL)},{image:(0,lt.pr)().fileBased,mode:y.T6.META_FILE,name:E.yf.resolveSAMLConfigModeDisplayName(y.T6.META_FILE)},{image:(0,lt.pr)().URLBased,mode:y.T6.META_URL,name:E.yf.resolveSAMLConfigModeDisplayName(y.T6.META_URL)}],s.createElement(N.Z.Row,{className:"protocol-selection-wrapper check",textAlign:"center"},s.createElement(N.Z.Column,{width:16},s.createElement("div",{"data-testid":o},s.createElement(l.X6,{as:"h2",className:"mb-1",compact:!0},"Which mode are you using?"),s.createElement(l.xv,{muted:!0},"Select the mode of configuration for your SAML application."),s.createElement(ge.Z,{hidden:!0}),!(0,T.Z)(t)&&Array.isArray(t)&&t.length>0&&s.createElement(Oo.Z.Group,{centered:!0,className:"tech-selection-cards mt-3",itemsPerRow:9},t.map((function(e,t){var o;return s.createElement(lc.Xy,{key:t,raised:!1,"data-testid":null!==(o=e["data-testid"])&&void 0!==o?o:"technology-card-".concat((0,Vo.Z)(e.name)),onClick:function(){return n(e.mode)},displayName:e.name,overlayOpacity:.6,image:e.image,className:"protocol-card",iconClass:e.mode===y.T6.META_FILE})})))))))))};function cc(e){return cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(e)}function uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function dc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uc(Object(n),!0).forEach((function(t){pc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fc(){fc=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),r=new A(o||[]);return a._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return w()}for(n.method=i,n.arg=a;;){var r=n.delegate;if(r){var l=E(r,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=c(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var u={};function d(){}function p(){}function f(){}var m={};l(m,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==t&&n.call(g,i)&&(m=g);var h=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function o(i,a,r,l){var s=c(e[i],e,a);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==cc(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,r,l)}),(function(e){o("throw",e,r,l)})):t.resolve(d).then((function(e){u.value=e,r(u)}),(function(e){return o("throw",e,r,l)}))}l(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){o(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var o=c(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,u;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=f,l(h,"constructor",f),l(f,"constructor",p),p.displayName=l(f,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,r,"GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,o,i,a){void 0===a&&(a=Promise);var r=new y(s(t,n,o,i),a);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},b(h),l(h,r,"Generator"),l(h,i,(function(){return this})),l(h,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],r=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function mc(e,t,n,o,i,a,r){try{var l=e[a](r),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(o,i)}function vc(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){mc(a,o,i,r,l,"next",e)}function l(e){mc(a,o,i,r,l,"throw",e)}r(void 0)}))}}function gc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}sc.defaultProps={"data-testid":"protocol-saml-configuration-mode-landing"};var bc=function(e){var t=e.application,n=e.appId,o=e.appName,p=e.certificate,f=e.featureConfig,v=e.inboundProtocolConfig,S=e.inboundProtocols,C=e.isLoading,A=e.setIsLoading,O=e.onUpdate,w=e.allowedOriginList,I=e.onAllowedOriginsUpdate,T=e.onApplicationSecretRegenerate,R=e.isInboundProtocolConfigRequestLoading,L=e.readOnly,k=e.template,M=e.extendedAccessConfig,x=e.applicationTemplateId,D=e["data-testid"],Z=(0,c.$)().t,j=(0,l.fQ)().getLink,F=(0,u.I0)(),V=(0,u.v9)((function(e){return e.application.meta.protocolMeta})),q=(0,u.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),B=g.h.getState().config.deployment.tenant,H=(0,u.v9)((function(e){return e.config.deployment.allowMultipleAppProtocols})),z=gc((0,s.useState)(void 0),2),W=z[0],G=z[1],K=gc((0,s.useState)([]),2),Q=K[0],$=K[1],Y=gc((0,s.useState)(void 0),2),X=Y[0],J=Y[1],ee=gc((0,s.useState)(!1),2),te=ee[0],ne=ee[1],oe=gc((0,s.useState)(!1),2),ie=oe[0],ae=oe[1],re=gc((0,s.useState)(!1),2),le=re[0],se=re[1],ce=gc((0,s.useState)(void 0),1)[0],ue=gc((0,s.useState)(!1),2),de=ue[0],pe=ue[1],fe=gc((0,s.useState)(void 0),2),me=fe[0],ve=fe[1],he=(0,s.useRef)(null),be=function(){var e=vc(fc().mark((function e(t,o){var i;return fc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!1,e.abrupt("return",(0,h.lp)(n,t,o).then((function(){F((0,r.V_)({description:Z("console:develop.features.applications.notifications.updateInboundProtocolConfig.success.description"),level:a.QU.SUCCESS,message:Z("console:develop.features.applications.notifications.updateInboundProtocolConfig.success.message")})),I()})).catch((function(e){var t,n;i=!0,null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?F((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:Z("console:develop.features.applications.notifications.updateInboundProtocolConfig.error.message")})):F((0,r.V_)({description:Z("console:develop.features.applications.notifications.updateInboundProtocolConfig.genericError.description"),level:a.QU.ERROR,message:Z("console:develop.features.applications.notifications.updateInboundProtocolConfig.genericError.message")}))})).finally((function(){O(n),i||ye()})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ye=function(){k.id===st.id&&me&&W===y.AI.SAML&&ve(void 0)},Ee=function(e){A(!0),(0,h.hN)(dc({id:n},e.general)).then(vc(fc().mark((function t(){return fc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,be(e.inbound,W);case 2:case"end":return t.stop()}}),t)})))).catch((function(e){e.response&&e.response.data&&e.response.data.description?F((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:Z("console:develop.features.applications.notifications.updateApplication.error.message")})):F((0,r.V_)({description:Z("console:develop.features.applications.notifications.updateApplication.genericError.description"),level:a.QU.ERROR,message:Z("console:develop.features.applications.notifications.updateApplication.genericError.message")}))})).finally((function(){A(!1)}))},Se=function(){(0,h.gh)(n).then((function(e){F((0,r.V_)({description:Z("console:develop.features.applications.notifications.regenerateSecret.success.description"),level:a.QU.SUCCESS,message:Z("console:develop.features.applications.notifications.regenerateSecret.success.message")})),T(e.data),O(n)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?F((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:Z("console:develop.features.applications.notifications.regenerateSecret.error.message")})):F((0,r.V_)({description:Z("console:develop.features.applications.notifications.regenerateSecret.genericError.description"),level:a.QU.ERROR,message:Z("console:develop.features.applications.notifications.regenerateSecret.genericError.message")}))}))},Ce=function(){(0,h.rA)(n).then((function(){F((0,r.V_)({description:Z("console:develop.features.applications.notifications.revokeApplication.success.description"),level:a.QU.SUCCESS,message:Z("console:develop.features.applications.notifications.revokeApplication.success.message")})),O(n)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?F((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:Z("console:develop.features.applications.notifications.revokeApplication.error.message")})):F((0,r.V_)({description:Z("console:develop.features.applications.notifications.revokeApplication.success.description"),level:a.QU.ERROR,message:Z("console:develop.features.applications.notifications.revokeApplication.success.message")}))}))};(0,s.useEffect)((function(){S.length>0&&$(S)}),[S]);var Ae=function(){return X?H?s.createElement(N.Z.Row,null,s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:10},X.map((function(e,t){return s.createElement(l.GI,{key:t,trigger:s.createElement(_.Z,{basic:!0,color:W===e?"red":"grey",content:W===e?"red":"grey",className:"mr-3 protocol-button",onClick:function(){return G(e)}},s.createElement(l.dn,{fill:W===e?"primary":"accent1",inline:!0,transparent:!0,icon:(0,lt.B0)()[e],size:"micro",spaced:"left",verticalAlign:"middle",className:"protocol-button-icon"}),s.createElement("div",{className:"protocol-change-title"},E.yf.resolveProtocolDisplayName(e))),content:E.yf.resolveProtocolDescription(e),position:"top center",size:"mini",hideOnScroll:!0,inverted:!0})})),s.createElement(ge.Z,{hidden:!0}),s.createElement(ge.Z,null))):s.createElement(s.Fragment,null,s.createElement(d.Z,{as:"h3",className:"display-flex"},s.createElement(l.dn,{transparent:!0,width:"auto",icon:(0,lt.B0)()[W],size:"x30",verticalAlign:"middle"}),s.createElement(d.Z.Content,{className:"mt-1"},s.createElement("strong",null," ",E.yf.resolveProtocolDisplayName(W)," "))),Oe(),s.createElement(ge.Z,{hidden:!0})):null},Oe=function(){return W===y.AI.OIDC?s.createElement(d.Z,{as:"h6",color:"grey",compact:!0},Z("console:develop.features.applications.forms.inboundOIDC.description",{protocol:E.yf.resolveProtocolDisplayName(y.AI.OIDC)}),s.createElement(l.eb,{link:j("develop.applications.editApplication.oidcApplication.protocol.learnMore")},Z("common:learnMore"))):W===y.AI.OAUTH2_OIDC?s.createElement(d.Z,{as:"h6",color:"grey",compact:!0},Z("console:develop.features.applications.forms.inboundOIDC.description",{protocol:E.yf.resolveProtocolDisplayName(y.AI.OAUTH2_OIDC)}),s.createElement(l.eb,{link:j("develop.applications.editApplication.oidcApplication.protocol.learnMore")},Z("common:learnMore"))):W===y.AI.SAML?s.createElement(d.Z,{as:"h6",color:"grey",compact:!0},Z("console:develop.features.applications.forms.inboundSAML.description"),s.createElement(l.eb,{link:j("develop.applications.editApplication.samlApplication.protocol.learnMore")},Z("common:learnMore"))):null};(0,s.useEffect)((function(){Object.values(y.Ii).map((function(e){if(e!==y.AI.WS_FEDERATION&&e!==y.AI.WS_TRUST){var t=e;Object.prototype.hasOwnProperty.call(V,t)||(0,h.WL)(t).then((function(e){F((0,co.vX)(t,e))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?F((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:Z("console:develop.features.applications.notifications.fetchProtocolMeta.error.message")})):F((0,r.V_)({description:Z("console:develop.features.applications.notifications.fetchProtocolMeta.genericError.description"),level:a.QU.ERROR,message:Z("console:develop.features.applications.notifications.fetchProtocolMeta.genericError.message")}))}))}}))}),[S]);var we;return C||de||R?s.createElement(l.pJ,{padded:"very"},s.createElement(l.pO,{inline:"centered",active:!0})):W||0!==S.length||H||x!==b.jo.CUSTOM_APPLICATION_SAML?s.createElement(N.Z,null,s.createElement(s.Fragment,null,(we=function(e){var t=null!=k&&k.authenticationProtocol?[k.authenticationProtocol]:Object.values(y.AI);return x===b.jo.CUSTOM_APPLICATION_SAML?[y.AI.SAML]:x===b.jo.CUSTOM_APPLICATION_OIDC?[y.AI.OAUTH2_OIDC]:x===b.jo.CUSTOM_APPLICATION_PASSIVE_STS?[y.AI.WS_FEDERATION]:t=t.filter((function(t){return k&&k.id===st.id&&m.applicationConfig.customApplication.allowedProtocolTypes&&m.applicationConfig.customApplication.allowedProtocolTypes.length>0?!!m.applicationConfig.customApplication.allowedProtocolTypes.includes(t)&&t:!(t===y.AI.WS_TRUST||t===y.AI.CUSTOM||M&&t===y.AI.WS_FEDERATION||e&&t===e)&&t}))}(),we=(0,P.Z)(we,(function(e){var t,n=(pc(t={},y.AI.OIDC,0),pc(t,y.AI.SAML,1),t);return S.length>0&&S.forEach((function(e,t){Object.values(y.AI).includes(e)&&(n=dc(dc({},n),{},pc({},e,t)))})),n[e]})),W||G(we[0]),void(X||J(we))),s.createElement(N.Z.Row,null,s.createElement(N.Z.Column,{mobile:16,tablet:16,computer:16},function(){var e,n,o,a;if(!W)return null;var r,c;return s.createElement(l.pJ,{className:"protocol-settings-section form-wrapper",padded:"very",ref:he},s.createElement("div",{className:"form-container with-max-width"},C?null:Ae(),(r=void 0,c=void 0,x===b.jo.CUSTOM_APPLICATION_OIDC&&(r=j("develop.applications.editApplication.standardBasedApplication.oauth2OIDC.protocol.learnMore"),c="console:develop.features.applications.forms.inboundOIDC.documentation"),x===b.jo.CUSTOM_APPLICATION_SAML&&(r=j("develop.applications.editApplication.standardBasedApplication.saml.protocol.learnMore"),c="console:develop.features.applications.forms.inboundSAML.documentation"),r?s.createElement(s.Fragment,null,s.createElement(l.v0,{visible:!0,type:"info",content:s.createElement(U.c,{i18nKey:c,tOptions:{protocol:E.yf.resolveProtocolDisplayName(W)}},"Read through our",s.createElement(l.eb,{link:r},"documentation"),"to learn more about using",s.createElement(l.EK,{withBackground:!1},E.yf.resolveProtocolDisplayName(W)),"protocol to implement login in your applications.")}),s.createElement(ge.Z,{hidden:!0})):null),Object.values(y.AI).includes(W)?s.createElement(rn,{onUpdate:O,application:t,isLoading:C,setIsLoading:A,certificate:p,tenantDomain:B,allowedOrigins:w,metadata:V[W===y.AI.OAUTH2_OIDC?y.AI.OIDC:W],initialValues:(0,Xe.Z)(v,W===y.AI.OAUTH2_OIDC?y.AI.OIDC:W)?v[W===y.AI.OAUTH2_OIDC?y.AI.OIDC:W]:void 0,onSubmit:Ee,type:W,onApplicationRegenerate:Se,onApplicationRevoke:Ce,readOnly:L||!(0,i.Xr)(null==f?void 0:f.applications,null==f||null===(e=f.applications)||void 0===e||null===(n=e.scopes)||void 0===n?void 0:n.update,q),showSAMLCreation:W===y.AI.SAML,SAMLCreationOption:W===y.AI.SAML&&me,template:k,"data-testid":"".concat(D,"-inbound-").concat(W,"-form"),containerRef:he}):s.createElement(rn,{onUpdate:O,application:t,isLoading:C,setIsLoading:A,certificate:p,metadata:V[W===y.AI.OAUTH2_OIDC?y.AI.OIDC:W],initialValues:(0,Xe.Z)(v,W===y.AI.OAUTH2_OIDC?y.AI.OIDC:W)?v[W===y.AI.OAUTH2_OIDC?y.AI.OIDC:W]:void 0,onSubmit:Ee,type:y.AI.CUSTOM,readOnly:!(0,i.Xr)(null==f?void 0:f.applications,null==f||null===(o=f.applications)||void 0===o||null===(a=o.scopes)||void 0===a?void 0:a.update,q),template:k,"data-testid":"".concat(D,"-inbound-custom-form"),containerRef:he})))}())),te&&s.createElement(go,{title:Z("console:develop.features.applications.edit.sections.access.addProtocolWizard.heading"),subTitle:Z("console:develop.features.applications.edit.sections.access.addProtocolWizard.subHeading",{appName:o}),closeWizard:function(){return ne(!1)},addProtocol:!0,selectedProtocols:S,onUpdate:O,appId:n,"data-testid":"".concat(D,"-protocol-add-wizard")}),ie&&s.createElement(l.cV,{onClose:function(){return ae(!1)},type:"negative",open:ie,assertion:ce,assertionHint:s.createElement("p",null,s.createElement(U.c,{i18nKey:"console:develop.features.applications.confirmations.deleteProtocol.assertionHint",tOptions:{name:ce}},"Please type ",s.createElement("strong",null,ce)," to confirm.")),assertionType:"input",primaryAction:Z("common:confirm"),secondaryAction:Z("common:cancel"),onSecondaryActionClick:function(){return ae(!1)},onPrimaryActionClick:function(){var e;e=ce,(0,h.yY)(n,e).then((function(){F((0,r.V_)({description:Z("console:develop.features.applications.notifications.deleteProtocolConfig.success.description",{protocol:e}),level:a.QU.SUCCESS,message:Z("console:develop.features.applications.notifications.deleteProtocolConfig.success.message")})),O(n)})).catch((function(e){var t,n,o,i;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?F((0,r.V_)({description:null==e||null===(o=e.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.description,level:a.QU.ERROR,message:Z("console:develop.features.applications.notifications.deleteProtocolConfig.error.message")})):F((0,r.V_)({description:Z("console:develop.features.applications.notifications.deleteProtocolConfig.genericError.description"),level:a.QU.ERROR,message:Z("console:develop.features.applications.notifications.deleteProtocolConfig.genericError.message")}))})),ae(!1)},"data-testid":"".concat(D,"-protocol-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(D,"-protocol-delete-confirmation-modal-header")},Z("console:develop.features.applications.confirmations.deleteProtocol.header")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(D,"-protocol-delete-confirmation-modal-message")},Z("console:develop.features.applications.confirmations.deleteProtocol.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(D,"-protocol-delete-confirmation-modal-content")},Z("console:develop.features.applications.confirmations.deleteProtocol.content"))),le&&s.createElement(l.cV,{onClose:function(){return ae(!1)},type:"negative",open:le,primaryAction:Z("common:confirm"),secondaryAction:Z("common:cancel"),onSecondaryActionClick:function(){se(!1)},onPrimaryActionClick:function(){var e;e=W,pe(!0),(0,h.yY)(n,e).then((function(){O(n)})).catch((function(e){var t,n,o,i;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?F((0,r.V_)({description:null==e||null===(o=e.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.description,level:a.QU.ERROR,message:Z("console:develop.features.applications.notifications.deleteProtocolConfig.error.message")})):F((0,r.V_)({description:Z("console:develop.features.applications.notifications.deleteProtocolConfig.genericError.description"),level:a.QU.ERROR,message:Z("console:develop.features.applications.notifications.deleteProtocolConfig.genericError.message")}))})).finally((function(){pe(!1),G(void 0)})),se(!1)},"data-testid":"".concat(D,"-protocol-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(D,"-protocol-delete-confirmation-modal-header")},Z("console:develop.features.applications.confirmations.changeProtocol.header")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(D,"-protocol-delete-confirmation-modal-message")},Z("console:develop.features.applications.confirmations.changeProtocol.message",{name:W})),s.createElement(l.cV.Content,{"data-testid":"".concat(D,"-protocol-delete-confirmation-modal-content")},Z("console:develop.features.applications.confirmations.changeProtocol.content"))))):s.createElement(sc,{setSAMLProtocol:function(e){ve(e),G(y.AI.SAML),Q.push(y.AI.SAML)}})};function yc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ec(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}bc.defaultProps={"data-testid":"application-access-configuration",extendedAccessConfig:!1};var Sc=function(e){var t,n,o=e.appId,d=e.advancedConfigurations,p=e.featureConfig,f=e.onUpdate,m=e.readOnly,v=e.template,g=e["data-testid"],b=(0,c.$)().t,y=(0,u.I0)(),E=(0,u.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),S=yc((0,s.useState)(!1),2),C=S[0],A=S[1];return s.createElement(l.pJ,{className:"advanced-configuration-section",padded:"very"},s.createElement(je,{config:d,onSubmit:function(e){A(!0),(0,h.TH)(o,e).then((function(){y((0,r.V_)({description:b("console:develop.features.applications.notifications.updateAdvancedConfig.success.description"),level:a.QU.SUCCESS,message:b("console:develop.features.applications.notifications.updateAdvancedConfig.success.message")})),f(o)})).catch((function(e){var t,n;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?y((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:b("console:develop.features.applications.notifications.updateAdvancedConfig.error.message")})):y((0,r.V_)({description:b("console:develop.features.applications.notifications.updateAdvancedConfig.genericError.description"),level:a.QU.ERROR,message:b("console:develop.features.applications.notifications.updateAdvancedConfig.genericError.message")}))})).finally((function(){A(!1)}))},readOnly:m||!(0,i.Xr)(null==p?void 0:p.applications,null==p||null===(t=p.applications)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.update,E),template:v,"data-testid":"".concat(g,"-form"),isSubmitting:C}))};function Cc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ac(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ac(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Sc.defaultProps={"data-testid":"application-advanced-settings"};var Oc=n(38429).AsgardeoSPAClient.getInstance(),wc=function(e){var t=(0,c.$)().t,n=(0,u.I0)(),o=e.oidcConfigurations,i=e["data-testid"],d=Cc((0,s.useState)(void 0),2),p=d[0],m=d[1];return(0,s.useEffect)((function(){void 0===p&&Oc.getOIDCServiceEndpoints().then((function(e){m({authorize:null==e?void 0:e.authorizationEndpoint,jwks:null==e?void 0:e.jwksUri,logout:null==e?void 0:e.endSessionEndpoint,oidcSessionIFrame:null==e?void 0:e.checkSessionIframe,revoke:null==e?void 0:e.revocationEndpoint,token:null==e?void 0:e.tokenEndpoint})})).catch((function(){n((0,r.V_)({description:t("console:develop.features.applications.notifications.fetchOIDCServiceEndpoints.genericError.description"),level:a.QU.ERROR,message:t("console:develop.features.applications.notifications.fetchOIDCServiceEndpoints.genericError.message")}))}))})),s.createElement(L.Z,null,s.createElement(N.Z,{verticalAlign:"middle"},s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,lt.RO)().endpoints.issuer,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(i,"-introspection-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.issuer"))),s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==o?void 0:o.tokenEndpoint,"data-testid":"".concat(i,"-introspection-readonly-input")}))),s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,lt.RO)().endpoints.wellKnown,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(i,"-introspection-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.wellKnown"))),s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==o?void 0:o.wellKnownEndpoint,"data-testid":"".concat(i,"-introspection-readonly-input")}))),s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,lt.RO)().endpoints.authorize,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(i,"-authorize-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.authorize"))),s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==o?void 0:o.authorizeEndpoint,"data-testid":"".concat(i,"-authorize-readonly-input")}))),s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,lt.RO)().endpoints.token,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(i,"-token-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.token"))),s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==o?void 0:o.tokenEndpoint,"data-testid":"".concat(i,"-token-readonly-input")}))),s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,lt.RO)().endpoints.userInfo,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(i,"-userInfo-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.userInfo"))),s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==o?void 0:o.userEndpoint,"data-testid":"".concat(i,"-userInfo-readonly-input")}))),s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,lt.RO)().endpoints.introspect,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(i,"-introspection-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.introspection"))),s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==o?void 0:o.introspectionEndpoint,"data-testid":"".concat(i,"-introspection-readonly-input")}))),s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,lt.RO)().endpoints.jwks,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(i,"-jwks-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.jwks"))),s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==o?void 0:o.jwksEndpoint,"data-testid":"".concat(i,"-jwks-readonly-input")}))),s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,lt.RO)().endpoints.revoke,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(i,"-token-revoke-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.revoke"))),s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==o?void 0:o.tokenRevocationEndpoint,"data-testid":"".concat(i,"-token-revoke-readonly-input")}))),s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:s.createElement(f.Z,{className:"mr-0",name:"power off"}),size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(i,"-logout-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.endSession"))),s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==o?void 0:o.endSessionEndpoint,"data-testid":"".concat(i,"-logout-readonly-input")})))))};wc.defaultProps={"data-testid":"applications-help-panel-oidc-configs"};var Ic=n(12887),Tc=function(e){var t=(0,c.$)().t,n=e.samlConfigurations,o=e["data-testid"],i=g.h.getState().config.deployment.tenant;return s.createElement(L.Z,null,s.createElement(N.Z,{verticalAlign:"middle"},s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,lt.RO)().endpoints.issuer,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(o,"-issuer-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.samlConfigurations.labels.issuer"))),s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==n?void 0:n.issuer,"data-testid":"".concat(o,"-issuer-readonly-input")}))),s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,lt.RO)().endpoints.samlSSO,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(o,"-sso-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.samlConfigurations.labels.sso"))),s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==n?void 0:n.ssoUrl,"data-testid":"".concat(o,"-sso-readonly-input")}))),s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,lt.RO)().endpoints.samlSLO,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(o,"-slo-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.samlConfigurations.labels.slo"))),s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==n?void 0:n.sloUrl,"data-testid":"".concat(o,"-slo-readonly-input")}))),s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,lt.RO)().endpoints.certificate,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(o,"-certificate-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.samlConfigurations.labels.certificate"))),s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(_.Z,{"data-testid":"".concat(o,"-certificate-button"),className:"idp-certificate-download-button",basic:!0,size:"tiny",color:"orange",onClick:function(){return Ve.CertificateManagementUtils.exportCertificate(i,null==n?void 0:n.certificate)}},s.createElement(f.Z,{name:"download"}),t("console:develop.features.applications.helpPanel.tabs.start.content.samlConfigurations.buttons.certificate")))),s.createElement(N.Z.Row,{columns:2},s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,lt.RO)().endpoints.metadata,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(o,"-metadata-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.samlConfigurations.labels.metadata"))),s.createElement(N.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(_.Z,{"data-testid":"".concat(o,"-metadata-button"),basic:!0,size:"tiny",color:"orange",onClick:function(){var e=new Blob([null==n?void 0:n.metadata],{type:"text/xml"});(0,Ic.saveAs)(e,"SAML-Metadata.xml")}},s.createElement(f.Z,{name:"download"}),t("console:develop.features.applications.helpPanel.tabs.start.content.samlConfigurations.buttons.metadata"))))))};Tc.defaultProps={"data-testid":"applications-help-panel-saml-configs"};function Rc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Nc=function(e){var t=e.inboundProtocols,n=e.isOIDCConfigLoading,o=e.isSAMLConfigLoading,i=e.templateId,a=e["data-testid"],r=(0,u.v9)((function(e){return e.application.oidcConfigurations})),d=(0,u.v9)((function(e){return e.application.samlConfigurations})),p=(0,c.$)().t,f=(0,l.fQ)().getLink,m=Rc((0,s.useState)(!1),2),v=m[0],g=m[1],h=Rc((0,s.useState)(!1),2),y=h[0],E=h[1],S=Rc((0,s.useState)(!1),2),C=S[0],A=S[1];return(0,s.useEffect)((function(){null!=t&&t.length>0&&t.map((function(e){"oauth2"==e.type?(g(!0),A(n)):"samlsso"==e.type&&(E(!0),A(o))}))}),[t]),C?s.createElement(l.pJ,{padded:"very"},s.createElement(l.pO,{inline:"centered",active:!0})):s.createElement(l.pJ,{loading:C,padded:"very","data-testid":a},s.createElement(N.Z,{className:"form-container with-max-width"},s.createElement(N.Z.Row,null,s.createElement(N.Z.Column,null,(v||i===st.id||i===b.jo.CUSTOM_APPLICATION_OIDC)&&s.createElement(s.Fragment,null,s.createElement(l.X6,{ellipsis:!0,as:"h4"},p("console:develop.features.applications.edit.sections.info.oidcHeading")),s.createElement(l.X6,{as:"h6",color:"grey",compact:!0},p("console:develop.features.applications.edit.sections.info.oidcSubHeading"),s.createElement(l.eb,{link:i===dt.id?f("develop.applications.editApplication.singlePageApplication.info.learnMore"):f("develop.applications.editApplication.oidcApplication.info.learnMore")},p("common:learnMore"))),s.createElement(ge.Z,{hidden:!0}),s.createElement(wc,{oidcConfigurations:r})),v&&y?s.createElement(s.Fragment,null,s.createElement(ge.Z,{className:"x2",hidden:!0})):null,(y||i===b.jo.CUSTOM_APPLICATION_SAML)&&s.createElement(s.Fragment,null,s.createElement(l.X6,{ellipsis:!0,as:"h4"},p("console:develop.features.applications.edit.sections.info.samlHeading")),s.createElement(l.X6,{as:"h6",color:"grey",compact:!0},p("console:develop.features.applications.edit.sections.info.samlSubHeading"),s.createElement(l.eb,{link:f("develop.applications.editApplication.samlApplication.info.learnMore")},p("common:learnMore"))),s.createElement(ge.Z,{hidden:!0}),s.createElement(Tc,{samlConfigurations:d}))))))};function kc(e){return function(e){if(Array.isArray(e))return Zc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Dc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Mc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pc(Object(n),!0).forEach((function(t){Uc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||Dc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dc(e,t){if(e){if("string"==typeof e)return Zc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zc(e,t):void 0}}function Zc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Nc.defaultProps={"data-testid":"application-server-endpoints"};var _c=function(e){var t,n=e.application,o=e.featureConfig,d=e.isLoading,p=e.setIsLoading,f=e.getConfiguredInboundProtocolsList,v=e.getConfiguredInboundProtocolConfigs,S=e.onDelete,C=e.onUpdate,A=e.template,O=e.readOnly,P=e.urlSearchParams,M=e["data-testid"],U=(0,c.$)().t,x=(0,u.I0)(),D=(0,u.v9)((function(e){return e.application.meta.inboundProtocols})),Z=(0,u.v9)((function(e){return e.application.oidcConfigurations})),_=(0,u.v9)((function(e){return e.application.samlConfigurations})),j=(0,u.v9)((function(e){return e.config.ui.isClientSecretHashEnabled})),F=(0,u.v9)((function(e){return e.auth.tenantDomain})),V=xc((0,s.useState)(!0),2),q=V[0],B=V[1],H=xc((0,s.useState)(void 0),2),z=H[0],W=H[1],G=xc((0,s.useState)(void 0),2),K=G[0],Q=G[1],$=xc((0,s.useState)(!1),2),Y=$[0],X=$[1],J=xc((0,s.useState)(void 0),2),ee=J[0],te=J[1],ne=xc((0,s.useState)([]),2),oe=ne[0],ie=ne[1],ae=xc((0,s.useState)(!1),2),re=ae[0],le=ae[1],se=xc((0,s.useState)(!1),2),ce=se[0],ue=se[1],de=xc((0,s.useState)(!1),2),pe=de[0],fe=de[1],me=xc((0,s.useState)({clientId:"",clientSecret:""}),2),ve=me[0],ge=me[1],he=xc((0,s.useState)(!1),2),be=he[0],ye=he[1],Ee=xc((0,s.useState)(!1),2),Se=Ee[0],Ce=Ee[1],Ae=xc((0,s.useState)(void 0),2),Oe=Ae[0],we=Ae[1],Ie=xc((0,s.useState)(void 0),2),Te=Ie[0],Re=Ie[1],Le=xc((0,s.useState)(void 0),2),Ne=Le[0],ke=Le[1],Pe=g.lD.getInstance(),Me=(null===(t=n.advancedConfigurations)||void 0===t?void 0:t.fragment)||!1,De=function(e){ue(!0),C(e)};(0,s.useEffect)((function(){if(A){var e=0;if(m.applicationConfig.editApplication.extendTabs&&(e=1),Re(e),(0,T.Z)(window.location.hash)){if(P.get(b.jo.APP_STATE_STRONG_AUTH_PARAM_KEY)!==b.jo.APP_STATE_STRONG_AUTH_PARAM_VALUE)return void Ze(e);var t=m.applicationConfig.editApplication.getStrongAuthenticationFlowTabIndex(n.clientId,F,A.id,st.id);_e(t)}}}),[A]),(0,s.useEffect)((function(){if(void 0!==Ne&&!window.location.hash.includes(y.El.VIEW)&&!(0,T.Z)(window.location.hash)){var e=window.location.hash.split("#"+y.El.TAB_INDEX);if(2===e.length&&(0,T.Z)(e[0])&&/^\d+$/.test(e[1])){var t=parseInt(e[1],10);if((0,I.Z)(t,0,Ne)){if(t===Oe)return;_e(t)}else Ze(Te)}else if(window.location.hash.includes(b.jo.SIGN_IN_METHOD_TAB_URL_FRAG)){var n=Qe(),o=n.indexOf(n.find((function(e){return e.componentId===b.jo.SIGN_IN_METHOD_TAB_URL_FRAG})));_e(o)}else Ze(Te)}}),[window.location.hash,Ne]),(0,s.useEffect)((function(){var e=[];xe.F.isCurrentOrganizationRoot()&&(0,g.ZY)().then((function(t){t.map((function(t){e.push(t.url)})),ie(e)})).catch((function(e){var t,n;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?x((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:U("console:develop.features.applications.notifications.fetchAllowedCORSOrigins.error.message")})):x((0,r.V_)({description:U("console:develop.features.applications.notifications.fetchAllowedCORSOrigins.genericError.description"),level:a.QU.ERROR,message:U("console:develop.features.applications.notifications.fetchAllowedCORSOrigins.genericError.message")}))}))}),[re]),(0,s.useEffect)((function(){(0,T.Z)(D)&&(X(!0),E.yf.getInboundProtocols(k.oK,!1).finally((function(){X(!1)})))}),[D]),(0,s.useEffect)((function(){null!=n&&n.inboundProtocols&&null!=n&&n.id&&je(n.id)}),[JSON.stringify(null==n?void 0:n.inboundProtocols)]),(0,s.useEffect)((function(){void 0===_&&(Ce(!0),E.yf.getSAMLApplicationMeta().finally((function(){Ce(!1)})))}),[_,K]),(0,s.useEffect)((function(){void 0===Z&&(ye(!0),E.yf.getOIDCApplicationMeta().finally((function(){ye(!1)})))}),[Z,K]),(0,s.useEffect)((function(){var e;if((!ee||ce)&&null!=A&&null!==(e=A.content)&&void 0!==e&&e.quickStart&&null!=n&&n.id&&!q){K&&_&&_.certificate&&(K.certificate=_.certificate,K.ssoUrl=_.ssoUrl,K.issuer=_.issuer);var t=m.applicationConfig.editApplication.getTabExtensions({application:n,content:A.content.quickStart,inboundProtocolConfig:K,inboundProtocols:z,onApplicationUpdate:function(){C(null==n?void 0:n.id)},onTriggerTabUpdate:function(e){we(e)},template:A});te(t),ue(!1)}}),[ee,A,n,z,K,q]),(0,s.useEffect)((function(){P.get(b.jo.APP_STATE_URL_SEARCH_PARAM_KEY)&&fe(!0)}),[P.get(b.jo.CLIENT_SECRET_HASH_ENABLED_URL_SEARCH_PARAM_KEY)]);var Ze=function(e){A.id===st.id&&e>0?_e(e-1):_e(e)},_e=function(e){g.m8.push({hash:"#".concat(y.El.TAB_INDEX).concat(e),pathname:window.location.pathname}),we(e)},je=function(e){var t,o={},i=[],l=[],s=[];(null==n||null===(t=n.inboundProtocols)||void 0===t?void 0:t.length)>0?(n.inboundProtocols.forEach((function(t){if("openid"!==t.type){var n=function(e){var t=e;return"oauth2"===t?t=y.AI.OIDC:"passivests"===t?t=y.AI.WS_FEDERATION:"wstrust"===t?t=y.AI.WS_TRUST:"samlsso"===t&&(t=y.AI.SAML),t}(t.type);s.includes(n)||(s.push(n),l.push((0,h.S2)(e,n)))}})),B(!0),w().all(l).then(w().spread((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e,t){o=Mc(Mc({},o),{},Uc({},s[t],e)),i.push(s[t])}))}))).catch((function(e){var t,n,o,i,l,s;404!==(null==e||null===(t=e.response)||void 0===t?void 0:t.status)&&(null!=e&&e.response&&null!=e&&null!==(n=e.response)&&void 0!==n&&n.data&&null!=e&&null!==(o=e.response)&&void 0!==o&&null!==(i=o.data)&&void 0!==i&&i.description?x((0,r.V_)({description:null===(l=e.response)||void 0===l||null===(s=l.data)||void 0===s?void 0:s.description,level:a.QU.ERROR,message:U("console:develop.features.applications.notifications.getInboundProtocolConfig.error.message")})):x((0,r.V_)({description:U("console:develop.features.applications.notifications.getInboundProtocolConfig.genericError.description"),level:a.QU.ERROR,message:U("console:develop.features.applications.notifications.getInboundProtocolConfig.genericError.message")})))})).finally((function(){!function(e){if(e.saml){var t,n=null===(t=e.saml.singleSignOnProfile)||void 0===t?void 0:t.assertion;if(n){var o=n.nameIdFormat;n.nameIdFormat=o.replace(/\//g,":")}}}(o),ue(!0),W(i),Q(o),B(!1),f(i),v(o)}))):(W([]),Q({}),B(!1),f([]),v({}))},Fe=function(){null!=n&&n.id&&je(n.id)},Ve=function(e){!(0,T.Z)(e)&&e.clientSecret&&e.clientId&&(ge({clientId:e.clientId,clientSecret:e.clientSecret}),fe(!0))},qe=function(){var e;return s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(rc,{accessUrl:n.accessUrl,appId:n.id,description:n.description,discoverability:null===(e=n.advancedConfigurations)||void 0===e?void 0:e.discoverableByEndUsers,imageUrl:n.imageUrl,name:n.name,application:n,isLoading:d,onDelete:S,onUpdate:De,featureConfig:o,template:A,readOnly:O||m.applicationConfig.editApplication.getTabPanelReadOnlyStatus("APPLICATION_EDIT_GENERAL_SETTINGS",n),"data-testid":"".concat(M,"-general-settings"),isManagementApp:n.isManagementApp}))},Be=function(){var e;return s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(bc,{application:n,allowedOriginList:oe,certificate:null===(e=n.advancedConfigurations)||void 0===e?void 0:e.certificate,onAllowedOriginsUpdate:function(){return le(!re)},onApplicationSecretRegenerate:Ve,appId:n.id,appName:n.name,applicationTemplateId:n.templateId,extendedAccessConfig:void 0!==ee,isLoading:d,setIsLoading:p,onUpdate:De,onProtocolUpdate:Fe,isInboundProtocolConfigRequestLoading:q,inboundProtocolsLoading:q,inboundProtocolConfig:K,inboundProtocols:z,featureConfig:o,template:A,readOnly:O||m.applicationConfig.editApplication.getTabPanelReadOnlyStatus("APPLICATION_EDIT_ACCESS_CONFIG",n),"data-testid":"".concat(M,"-access-settings")}))},He=function(){return s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(Ue,{appId:n.id,technology:n.inboundProtocols,claimConfigurations:n.claimConfiguration,featureConfig:o,onlyOIDCConfigured:((null==n?void 0:n.templateId)===st.id||(null==n?void 0:n.templateId)===b.jo.CUSTOM_APPLICATION_OIDC)&&0===(null==z?void 0:z.length)||1===(null==z?void 0:z.length)&&z[0]===y.AI.OIDC,onUpdate:De,applicationTemplateId:null==n?void 0:n.templateId,readOnly:O,"data-testid":"".concat(M,"-attribute-settings")}))},ze=function(){var e;return s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(oc,{application:n,appId:n.id,authenticationSequence:n.authenticationSequence,clientId:null==K||null===(e=K.oidc)||void 0===e?void 0:e.clientId,isLoading:d,onUpdate:De,featureConfig:o,readOnly:O,"data-testid":"".concat(M,"-sign-on-methods")}))},We=function(){return s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(Sc,{appId:n.id,advancedConfigurations:n.advancedConfigurations,onUpdate:De,featureConfig:o,readOnly:O,template:A,"data-testid":"".concat(M,"-advanced-settings")}))},Ge=function(){return m.applicationConfig.editApplication.showProvisioningSettings?s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(Fo,{application:n,provisioningConfigurations:n.provisioningConfigurations,onUpdate:De,featureConfig:o,readOnly:O,"data-testid":"".concat(M,"-provisioning-settings")})):null},Ke=function(){return s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(Nc,{inboundProtocols:null==n?void 0:n.inboundProtocols,isOIDCConfigLoading:be,isSAMLConfigLoading:Se,templateId:null==n?void 0:n.templateId,"data-testid":"".concat(M,"-server-endpoints")}))},Qe=function(){var e=[];if(!ee&&m.applicationConfig.editApplication.extendTabs&&(null==n?void 0:n.templateId)!==b.jo.CUSTOM_APPLICATION_OIDC&&(null==n?void 0:n.templateId)!==b.jo.CUSTOM_APPLICATION_PASSIVE_STS&&(null==n?void 0:n.templateId)!==b.jo.CUSTOM_APPLICATION_SAML)return[];if(ee&&ee.length>0&&(null==n?void 0:n.templateId)!==st.id&&(null==n?void 0:n.templateId)!==b.jo.CUSTOM_APPLICATION_OIDC&&(null==n?void 0:n.templateId)!==b.jo.CUSTOM_APPLICATION_PASSIVE_STS&&(null==n?void 0:n.templateId)!==b.jo.CUSTOM_APPLICATION_SAML&&e.push.apply(e,kc(ee)),o){var t,a,r,l,c,u,d;if((0,i.cr)(null==o?void 0:o.applications,b.jo.FEATURE_DICTIONARY.get("APPLICATION_EDIT_GENERAL_SETTINGS")))m.applicationConfig.editApplication.isTabEnabledForApp(null==K||null===(t=K.oidc)||void 0===t?void 0:t.clientId,y.wF.GENERAL,F)&&e.push({componentId:"general",menuItem:s.createElement(R.Z.Item,{"data-tourid":"general"},U("console:develop.features.applications.edit.sections.general.tabName")),render:function(){var e;return m.applicationConfig.editApplication.getOveriddenTab(null==K||null===(e=K.oidc)||void 0===e?void 0:e.clientId,y.wF.GENERAL,qe(),n.name,n.id,F)}});if((0,i.cr)(null==o?void 0:o.applications,b.jo.FEATURE_DICTIONARY.get("APPLICATION_EDIT_ACCESS_CONFIG"))&&!Me)m.applicationConfig.editApplication.isTabEnabledForApp(null==K||null===(a=K.oidc)||void 0===a?void 0:a.clientId,y.wF.PROTOCOL,F)&&e.push({componentId:"protocol",menuItem:U("console:develop.features.applications.edit.sections.access.tabName"),render:Be});if((0,i.cr)(null==o?void 0:o.applications,b.jo.FEATURE_DICTIONARY.get("APPLICATION_EDIT_ATTRIBUTE_MAPPING"))&&!Me)m.applicationConfig.editApplication.isTabEnabledForApp(null==K||null===(r=K.oidc)||void 0===r?void 0:r.clientId,y.wF.USER_ATTRIBUTES,F)&&e.push({componentId:"user-attributes",menuItem:s.createElement(R.Z.Item,{"data-tourid":"attributes"},U("console:develop.features.applications.edit.sections.attributes.tabName")),render:function(){var e;return m.applicationConfig.editApplication.getOveriddenTab(null==K||null===(e=K.oidc)||void 0===e?void 0:e.clientId,y.wF.USER_ATTRIBUTES,He(),n.name,n.id,F)}});if((0,i.cr)(null==o?void 0:o.applications,b.jo.FEATURE_DICTIONARY.get("APPLICATION_EDIT_SIGN_ON_METHOD_CONFIG")))m.applicationConfig.editApplication.isTabEnabledForApp(null==K||null===(l=K.oidc)||void 0===l?void 0:l.clientId,y.wF.SIGN_IN_METHOD,F)&&e.push({componentId:"sign-in-method",menuItem:s.createElement(R.Z.Item,{"data-tourid":"sign-in-methods"},U("console:develop.features.applications.edit.sections.signOnMethod.tabName")),render:ze});if(m.applicationConfig.editApplication.showProvisioningSettings&&(0,i.cr)(null==o?void 0:o.applications,b.jo.FEATURE_DICTIONARY.get("APPLICATION_EDIT_PROVISIONING_SETTINGS"))&&!Me)m.applicationConfig.editApplication.isTabEnabledForApp(null==K||null===(c=K.oidc)||void 0===c?void 0:c.clientId,y.wF.PROVISIONING,F)&&e.push({componentId:"provisioning",menuItem:U("console:develop.features.applications.edit.sections.provisioning.tabName"),render:Ge});if((0,i.cr)(null==o?void 0:o.applications,b.jo.FEATURE_DICTIONARY.get("APPLICATION_EDIT_ADVANCED_SETTINGS"))&&!Me)m.applicationConfig.editApplication.isTabEnabledForApp(null==K||null===(u=K.oidc)||void 0===u?void 0:u.clientId,y.wF.ADVANCED,F)&&e.push({componentId:"advanced",menuItem:s.createElement(R.Z.Item,{"data-tourid":"advanced"},U("console:develop.features.applications.edit.sections.advanced.tabName")),render:We});if((0,i.cr)(null==o?void 0:o.applications,b.jo.FEATURE_DICTIONARY.get("APPLICATION_EDIT_INFO"))&&(null==n?void 0:n.templateId)!=b.jo.CUSTOM_APPLICATION_PASSIVE_STS&&!Me)m.applicationConfig.editApplication.isTabEnabledForApp(null==K||null===(d=K.oidc)||void 0===d?void 0:d.clientId,y.wF.INFO,F)&&e.push({componentId:"info",menuItem:{content:U("console:develop.features.applications.edit.sections.info.tabName"),icon:"info circle grey"},render:Ke});return e}return[{componentId:"general",menuItem:U("console:develop.features.applications.edit.sections.general.tabName"),render:qe},{componentId:"protocol",menuItem:U("console:develop.features.applications.edit.sections.access.tabName"),render:Be},{componentId:"user-attributes",menuItem:U("console:develop.features.applications.edit.sections.attributes.tabName"),render:He},{componentId:"sign-in-method",menuItem:U("console:develop.features.applications.edit.sections.signOnMethod.tabName"),render:ze},m.applicationConfig.editApplication.showProvisioningSettings&&{componentId:"provisioning",menuItem:U("console:develop.features.applications.edit.sections.provisioning.tabName"),render:Ge},{componentId:"advanced",menuItem:U("console:develop.features.applications.edit.sections.advanced.tabName"),render:We},{componentId:"info",menuItem:{content:U("console:develop.features.applications.edit.sections.info.tabName"),icon:"info circle grey"},render:Ke}]};return!n||Y||null==z||!ee&&m.applicationConfig.editApplication.extendTabs&&(null==n?void 0:n.templateId)!==b.jo.CUSTOM_APPLICATION_OIDC&&(null==n?void 0:n.templateId)!==b.jo.CUSTOM_APPLICATION_PASSIVE_STS&&(null==n?void 0:n.templateId)!==b.jo.CUSTOM_APPLICATION_SAML?s.createElement(l.pO,null):s.createElement(s.Fragment,null,s.createElement(l.M$,{isLoading:d,activeIndex:Oe,"data-testid":"".concat(M,"-resource-tabs"),defaultActiveIndex:Te,onTabChange:function(e,t){Pe.compute((function(){Pe.publish("application-switch-edit-application-tabs",{type:t.panes[t.activeIndex].componentId})})),_e(t.activeIndex)},panes:Qe(),onInitialize:function(e){var t=e.panesLength;ke(t)}}),pe&&function(){if(!j)return null;if(!z.includes(y.AI.OIDC)||(0,T.Z)(null==K?void 0:K.oidc)||!K.oidc.clientId||!K.oidc.clientSecret)return null;var e=ve.clientSecret||K.oidc.clientSecret,t=ve.clientId||K.oidc.clientId;return s.createElement(l.cV,{"data-testid":"".concat(M,"-client-secret-hash-disclaimer-modal"),type:"warning",open:!0,primaryAction:U("common:confirm"),onPrimaryActionClick:function(){fe(!1),ge({clientId:"",clientSecret:""})}},s.createElement(l.cV.Header,{"data-testid":"".concat(M,"-client-secret-hash-disclaimer-modal-header")},U("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.modal.header")),s.createElement(l.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(M,"-client-secret-hash-disclaimer-modal-message")},U("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.modal.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(M,"-client-secret-hash-disclaimer-modal-content")},s.createElement(L.Z,null,s.createElement(N.Z.Row,null,s.createElement(N.Z.Column,null,s.createElement(L.Z.Field,null,s.createElement("label",null,U("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientId.label")),s.createElement(l.OR,{value:t,hideSecretLabel:U("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientId.hide"),showSecretLabel:U("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientId.show"),"data-testid":"".concat(M,"-client-secret-readonly-input")})),s.createElement(L.Z.Field,null,s.createElement("label",null,U("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientSecret.label")),s.createElement(l.OR,{secret:!0,value:e,hideSecretLabel:U("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientSecret.hide"),showSecretLabel:U("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientSecret.show"),"data-testid":"".concat(M,"-client-secret-readonly-input")})))))))}())};_c.defaultProps={"data-testid":"edit-application",getConfiguredInboundProtocolConfigs:function(){return null},getConfiguredInboundProtocolsList:function(){return null}}},9942:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return o(e,n)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function r(e,t){try{return t in e}catch(n){return!1}}function l(e,t,n){var i={};return n.isMergeableObject(e)&&a(e).forEach((function(t){i[t]=o(e[t],n)})),a(t).forEach((function(a){(function(e,t){return r(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(r(e,a)&&n.isMergeableObject(t[a])?i[a]=function(e,t){if(!t.customMerge)return s;var n=t.customMerge(e);return"function"==typeof n?n:s}(a,n)(e[a],t[a],n):i[a]=o(t[a],n))})),i}function s(e,n,a){(a=a||{}).arrayMerge=a.arrayMerge||i,a.isMergeableObject=a.isMergeableObject||t,a.cloneUnlessOtherwiseSpecified=o;var r=Array.isArray(n);return r===Array.isArray(e)?r?a.arrayMerge(e,n,a):l(e,n,a):o(n,a)}s.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return s(e,n,t)}),{})};var c=s;e.exports=c},46004:(e,t)=>{"use strict";var n=function(e,t,n,o){return"boolean"==typeof e?e:"function"==typeof e?e(t,n,o):!(!0!=!!e||!e)},o=function(e,t){return Object.hasOwnProperty.call(e,t)},i=function(e,t,n,o){return o?new Error(o):new Error("Required "+e[t]+" `"+t+"` was not specified in `"+n+"`.")};t.Z=function(e,t,a){return function(e,t){if("function"!=typeof e)throw new TypeError("The typeValidator argument must be a function with the signature function(props, propName, componentName).");if(t&&"string"!=typeof t)throw new TypeError("The error message is optional, but must be a string if provided.")}(e,a),function(r,l,s){for(var c=arguments.length,u=Array(3<c?c-3:0),d=3;d<c;d++)u[d-3]=arguments[d];return n(t,r,l,s)?o(r,l)?e.apply(void 0,[r,l,s].concat(u)):i(r,l,s,a):e.apply(void 0,[r,l,s].concat(u))}}},48879:e=>{var t=new Error("Element already at target scroll position"),n=new Error("Scroll cancelled"),o=Math.min,i=Date.now;function a(e){return function(a,s,c,u){"function"==typeof(c=c||{})&&(u=c,c={}),"function"!=typeof u&&(u=l);var d=i(),p=a[e],f=c.ease||r,m=isNaN(c.duration)?350:+c.duration,v=!1;return p===s?u(t,a[e]):requestAnimationFrame((function t(r){if(v)return u(n,a[e]);var l=i(),c=o(1,(l-d)/m),g=f(c);a[e]=g*(s-p)+p,c<1?requestAnimationFrame(t):requestAnimationFrame((function(){u(null,a[e])}))})),function(){v=!0}}}function r(e){return.5*(1-Math.cos(Math.PI*e))}function l(){}e.exports={left:a("scrollLeft"),top:a("scrollTop")}},47929:function(e,t){var n,o,i;o=[],void 0===(i="function"==typeof(n=function(){var e=/(auto|scroll)/,t=function(e,n){return null===e.parentNode?n:t(e.parentNode,n.concat([e]))},n=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},o=function(e){return n(e,"overflow")+n(e,"overflow-y")+n(e,"overflow-x")},i=function(t){return e.test(o(t))};return function(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var n=t(e.parentNode,[]),o=0;o<n.length;o+=1)if(i(n[o]))return n[o];return document.scrollingElement||document.documentElement}}})?n.apply(t,o):n)||(e.exports=i)}}]);