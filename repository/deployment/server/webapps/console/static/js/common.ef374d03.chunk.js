(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[8592],{25371:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(13654),a=n(52983);const o=function(){return a.createElement(r.$0,{description:"Loaded dynamically from extension configuration.",header:"Dynamic Component"})}},76458:(e,t,n)=>{"use strict";n.r(t),n.d(t,{extensions:()=>r});var r={}},32009:(e,t,n)=>{"use strict";n.r(t),n.d(t,{enUs:()=>r});var r={extensions:n(76458).extensions,name:"en-US"}},84073:(e,t,n)=>{"use strict";n.r(t),n.d(t,{extensions:()=>r});var r={}},1087:(e,t,n)=>{"use strict";n.r(t),n.d(t,{frFR:()=>r});var r={extensions:n(84073).extensions,name:"fr-FR"}},97768:(e,t,n)=>{"use strict";n.r(t),n.d(t,{enUs:()=>r.enUs,frFR:()=>a.frFR});var r=n(32009),a=n(1087)},47334:(e,t,n)=>{"use strict";n.r(t),n.d(t,{extensions:()=>r});var r={}},32134:()=>{window.__SAMPLE__="EXTENSIONS_DEMO"},65772:(e,t,n)=>{"use strict";n.d(t,{y:()=>h});var r=n(67776),a=n(13654),o=n(90665),i=n(52983),l=n(26221),s=n(39795),c=n(30762),u=n(82954),d=n(91390);function f(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(s){l=!0,a=s}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){var t=e.isReadOnly,n=e.emphasize,p=e.triggerSubmit,y=e.onSubmit,h=e.roleObject,b=e.isEdit,v=e.initialValues,g=e.isRole,E=e.isSubmitting,S=e.permissionsToHide,w=e["data-testid"],k=(0,l.$)().t,A=m((0,i.useState)([]),2),P=A[0],O=A[1],j=m((0,i.useState)([]),2),N=j[0],I=j[1],x=m((0,i.useState)([]),2),F=x[0],$=x[1],T=m((0,i.useState)([]),2),C=T[0],R=T[1],_=m((0,i.useState)(!0),2),L=_[0],z=_[1];(0,i.useEffect)((function(){var e=[];if(d.t.getAllOrganizationLevelPermissions(S).then((function(e){O(e),R([e[0].key.toString()]),z(!1)})),v&&v.length>0){var t=[];v.forEach((function(e){t.push(e.key.toString())})),$(t),null==F||F.forEach((function(t){var n=U(t,P);null!==n&&e.push(n)})),I(e)}g&&h&&($(h.permissions),null==F||F.forEach((function(t){var n=U(t,P);null!==n&&e.push(n)})),I(e))}),[P.length>0]);var Z=function(e,t){if(t.checked){if(!N.find((function(e){return e.key===t.node.key}))){var n,r,a=U(t.node.key.toString(),P,!0),o=1;if(null==a||null===(n=a.children)||void 0===n||n.forEach((function(e){N.filter((function(t){return t.key===e.key})).length>0&&++o})),(null==a||null===(r=a.children)||void 0===r?void 0:r.length)===o){var i=N.filter((function(e){e.key.toString().replace(/^\/|\/$/g,"").split("/"),a.key.toString().replace(/^\/|\/$/g,"").split("/")}));I([].concat(f(i),[a]))}else I([].concat(f(N),[t.node]))}}else I(t.checkedNodes)},U=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[t[0]];r.length;){var a=r.shift();if(n){if(a.key===e.slice(0,e.lastIndexOf("/")))return a}else if(a.key===e)return a;a.children&&r.push.apply(r,f(a.children))}return null},J=function(e){return e.isLeaf?null:i.createElement("div",{className:"tree-arrow-wrap"},i.createElement("span",{className:"tree-arrow ".concat(e.expanded?"":"active")},i.createElement("span",null),i.createElement("span",null)))},M=function(){return i.createElement(i.Fragment,null,i.createElement(r.Es,{submitState:p,onSubmit:function(){y(N)}},L?i.createElement(a.pO,{className:"p-3",active:!0}):i.createElement("div",{className:"treeview-container"},i.createElement(o.Z,{className:"customIcon","data-testid":"".concat(w,"-tree"),disabled:t,checkedKeys:N.map((function(e){return e.key})),defaultExpandedKeys:C,showLine:!0,showIcon:!1,checkable:!0,selectable:!1,onCheck:Z,treeData:P,switcherIcon:J})),b&&!L&&i.createElement(i.Fragment,null,i.createElement(s.Z,{hidden:!0}),i.createElement(c.Z.Row,{columns:1},i.createElement(c.Z.Column,{mobile:16,tablet:16,computer:8},i.createElement(u.Z,{"data-testid":"".concat(w,"-update-button"),primary:!0,type:"submit",loading:E,disabled:E,size:"small",className:"form-button"},k("console:manage.features.roles.addRoleWizard.permissions.buttons.update")))))))};return n?i.createElement(a.pJ,{"data-testid":w,padded:"very"},M()):i.createElement("div",{"data-testid":w},M())};h.defaultProps={emphasize:!0,isReadOnly:!1}},91390:(e,t,n)=>{"use strict";n.d(t,{t:()=>u});var r=n(67127),a=n(76608),o=n(23367);function i(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"generatePermissionTree",value:function(e,t,n){var r=t.shift(),o=n.find((function(e){return e.name===r}));return o||(o={key:e.resourcePath,name:r,title:e.displayName},n.push(o)),t.length&&(0,a.H)(e,t,o.children||(o.children=[])),n}}],(n=null)&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();c(u,"permissionJoining",(function(e,t){var n=e.split("/"),r=n.splice(0,t);return n=[r.join("/")].concat(i(e))})),c(u,"getAllOrganizationLevelPermissions",(function(e){return(0,o._W)().then((function(t){if(200===t.status&&t.data&&t.data instanceof Array){var n=(0,r.Z)(e)?t.data:t.data.filter((function(t){return!e.includes(t.resourcePath)})),o=!1;return n.reduce((function(e,t,n){return 0===n&&2==t.resourcePath.replace(/^\/|\/$/g,"").split("/").length&&(o=!0),o?(0,a.H)(t,u.permissionJoining(t.resourcePath.replace(/^\/|\/$/g,""),2),e):(0,a.H)(t,t.resourcePath.replace(/^\/|\/$/g,"").split("/"),e)}),[])}}))}))},86154:(e,t,n)=>{"use strict";n.d(t,{f:()=>u});var r=n(45688),a=n(13654),o=n(52983),i=n(26221),l=n(92423),s=n(19709),c=n(80704),u=function(e){var t=e.onAddNewSecret,n=e.resourceNotFound,u=e["data-componentid"],d=(0,i.$)().t;return n?o.createElement(a.$J,{action:o.createElement(a.Qj,{"aria-label":d("console:develop.features.secrets.emptyPlaceholders.buttons.backToSecrets.ariaLabel"),onClick:function(){s.m8.push(s.$x.getPaths().get(c.Fk))}},o.createElement(l.Z,{name:"backward"}),d("console:develop.features.secrets.emptyPlaceholders.buttons.backToSecrets.label")),image:(0,s.jF)().pageNotFound,imageSize:"tiny",subtitle:[d("console:develop.features.secrets.emptyPlaceholders.resourceNotFound.messages.0"),d("console:develop.features.secrets.emptyPlaceholders.resourceNotFound.messages.1")],"data-testid":u}):o.createElement(a.$J,{action:o.createElement(r.di,{when:r.TA.SECRET_WRITE},o.createElement(a.KM,{"aria-label":d("console:develop.features.secrets.emptyPlaceholders.buttons.addSecret.ariaLabel"),onClick:t},o.createElement(l.Z,{name:"add"}),d("console:develop.features.secrets.emptyPlaceholders.buttons.addSecret.label"))),image:(0,s.jF)().newList,imageSize:"tiny",subtitle:[d("console:develop.features.secrets.emptyPlaceholders.emptyListOfSecrets.messages.0")],"data-testid":u})};u.defaultProps={"data-componentid":"empty-secret-list-placeholder"}}}]);